# #options
!DIALOG OPTIONS DATABASE

!empty location
$blank_options[1] = {
$text_display = '<br><br><br><br><br><br><br>'
$text_display += {<br><div id="under">Leave<br><div id = "clear"><a href = 'EXEC: city_form = 11 & gt "city_menu_form"'><img src = "content\pic\clear.gif"></a></div></div>}
}

$computer_options[1] = {
$sp_text[1] = '   Database access occurs at the verbal level request and same the requested information. Although data may be print if necessary.'
$text_display = '<br>'
if nsfw = 1: not_safe = 1
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Aura_information, menu_Aura_information, 'Request. Aura. General information')
FUNC('$menu', 'interaction_city', $menu_item_Aura_Pattern, menu_Aura_Pattern, 'Request. Aura. Pattern structure')
FUNC('$menu', 'city_form', $menu_item_terminal, menu_terminal, 'Move away from the terminal')
FUNC('$menu', '===END===')
}

!border of the fogs
$edge_of_mists[6201] = {
mem_skip = 6201
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6202] = {
mem_skip = 6202
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6203] = {
mem_skip = 6203
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6204] = {
mem_skip = 6204
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6205] = {
mem_skip = 6205
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6206] = {
mem_skip = 6206
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6207] = {
mem_skip = 6207
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6208] = {
mem_skip = 6208
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6209] = {
mem_skip = 6209
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

$edge_of_mists[6210] = {
mem_skip = 6210
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

!ogre encounter
$edge_of_mists[6211] = {
mem_skip = 6211
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

!goblin encounter
$edge_of_mists[6212] = {
mem_skip = 6212
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

!warg encounter
$edge_of_mists[6213] = {
mem_skip = 6213
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

!orc encounter
$edge_of_mists[6214] = {
mem_skip = 6214
$text_display = '<br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'join_battle', $menu_item_Joinbattle, 'Join the battle')
FUNC('$menu', 'interaction_city', $menu_item_Leavethem, menu_Leavethem, 'Leave them alone')
FUNC('$menu', '===END===')
}

!guild expert
$expert_options[1] = {
$sp_text[1] = '   You find one of the representatives of the experts department. These slavers specialize in the slaves evaluation and in finding exclusive options on the market.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'interaction_city', $menu_item_services, menu_services, 'Ask about services')
IF search['active'] = 0: FUNC('$menu', 'exec_options', $menu_item_Order_slave, 'sp_txt = 11 & gt $curloc', 'Order slave selection')
IF search['active'] = 1: FUNC('$menu', 'interaction_city', $menu_item_Cancelservices, menu_Cancelservices, 'Cancel the job')
IF search['active'] = 3: FUNC('$menu', 'interaction_city', $menu_item_Pickservices, menu_Pickservices, 'Pick up the slave')
FUNC('$menu', 'goto_city', $menu_item_end_conv, guild, '#options', 'guild', 'End the conversation')
FUNC('$menu', '===END===')
}

$expert_options[11] = {
killvar 'search'
$sp_text[11] = '   [MASTER SKUPS]
   - Are there some suggestions for product age?'
$text_display = '<br>'
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'exec_options', $menu_item_Not_old, 'search["age"] = 4 & search["cost"] += 1 & sp_txt = 2 & gt $curloc', 'Not too old')
FUNC('$menu', 'exec_options', $menu_item_Not_young, 'search["age"] = 5 & search["cost"] += 1 & sp_txt = 2 & gt $curloc', 'Not too young')
FUNC('$menu', 'exec_options', $menu_item_Order_Mature, 'search["age"] = 1 & search["cost"] += 2 & sp_txt = 2 & gt $curloc', 'Mature')
FUNC('$menu', 'exec_options', $menu_item_Order_Young, 'search["age"] = 2 & search["cost"] += 2 & sp_txt = 2 & gt $curloc', 'Young')
FUNC('$menu', 'exec_options', $menu_item_Order_Child, 'search["age"] = 3 & search["cost"] += 2 & sp_txt = 2 & gt $curloc', 'Child')
FUNC('$menu', 'exec_options', $menu_item_Not_matter, 'search["age"] = 0 & sp_txt = 2 & gt $curloc', 'Doesn`t matter')
FUNC('$menu', '===END===')
}

$expert_options[2] = {
$sp_text[2] = '      [MASTER SKUPS]
   - Beauty - is a key parameter, which in most cases determines the maximum potential of a slave in market. But beauties are rare. How attractive product do you need?'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'exec_options', $menu_item_Order_Exquisite, 'search["beauty"] = 5 & search["cost"] += 4 & sp_txt = 3 & gt $curloc', 'Exquisite')
FUNC('$menu', 'exec_options', $menu_item_Order_Beautiful, 'search["beauty"] = 4 & search["cost"] += 2 & sp_txt = 3 & gt $curloc', 'Beautiful')
FUNC('$menu', 'exec_options', $menu_item_Order_Pretty, 'search["beauty"] = 3 & search["cost"] += 1 & sp_txt = 3 & gt $curloc', 'Pretty')
FUNC('$menu', 'exec_options', $menu_item_beauty_Not_matter, 'search["beauty"] = 0 & sp_txt = 3 & gt $curloc', 'Doesn`t matter')
FUNC('$menu', '===END===')
}

$expert_options[3] = {
$sp_text[3] = '      [MASTER SKUPS]
   - Raising sick slaves - is a tough job, so that I can pick up healthier and hardy.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'exec_options', $menu_item_Order_Enduring, 'search["stamina"] = 5 & search["cost"] += 4 & sp_txt = 4 & gt $curloc', 'Enduring')
FUNC('$menu', 'exec_options', $menu_item_Order_Tough, 'search["stamina"] = 4 & search["cost"] += 2 & sp_txt = 4 & gt $curloc', 'Tough')
FUNC('$menu', 'exec_options', $menu_item_Order_Healthy, 'search["stamina"] = 3 & search["cost"] += 1 & sp_txt = 4 & gt $curloc', 'Healthy')
FUNC('$menu', 'exec_options', $menu_item_stamina_Not_matter, 'search["stamina"] = 0 & sp_txt = 4 & gt $curloc', 'Doesn`t matter')
FUNC('$menu', '===END===')
}

$expert_options[4] = {
$sp_text[4] = '      [MASTER SKUPS]
   - I have my own ways to estimate woman''s sensitivity. I guarantee reliability of this method, but mind you. It''s not only difficult to find a sissy, there also will be a lot of problems during training.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'exec_options', $menu_item_Order_Nurturing, 'search["sensitivity"] = 5 & search["cost"] += 4 & sp_txt = 5 & gt $curloc', 'Nurturing')
FUNC('$menu', 'exec_options', $menu_item_Order_Caring, 'search["sensitivity"] = 4 & search["cost"] += 2 & sp_txt = 5 & gt $curloc', 'Caring')
FUNC('$menu', 'exec_options', $menu_item_Order_Sensitive, 'search["sensitivity"] = 3 & search["cost"] += 1 & sp_txt = 5 & gt $curloc', 'Sensitive')
FUNC('$menu', 'exec_options', $menu_item_sensitivity_Not_matter, 'search["sensitivity"] = 0 & sp_txt = 5 & gt $curloc', 'Doesn`t matter')
FUNC('$menu', '===END===')
}

$expert_options[5] = {
$sp_text[5] = '      [MASTER SKUPS]
   - I can spend a separate time before the auction to check in advance the total intelligence of the product. Do not expect much, but if you need a girl capable of put two and two, I''ll make it.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'exec_options', $menu_item_Order_Intelligent, 'search["intellect"] = 5 & search["cost"] += 4 & sp_txt = 6 & gt $curloc', 'Intelligent')
FUNC('$menu', 'exec_options', $menu_item_Order_Clever, 'search["intellect"] = 4 & search["cost"] += 2 & sp_txt = 6 & gt $curloc', 'Clever')
FUNC('$menu', 'exec_options', $menu_item_Order_Bright, 'search["intellect"] = 3 & search["cost"] += 1 & sp_txt = 6 & gt $curloc', 'Bright')
FUNC('$menu', 'exec_options', $menu_item_intellect_Not_matter, 'search["intellect"] = 0 & sp_txt = 6 & gt $curloc', 'Doesn`t matter')
FUNC('$menu', '===END===')
}

$expert_options[6] = {
$sp_text[6] = '      [MASTER SKUPS]
   - Temperamental ones are often the source of problems, but they are popular among the buyers. So I can find hotter product for you, if it is necessary.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'exec_options', $menu_item_Order_Passionate, 'search["temper"] = 5 & search["cost"] += 4 & sp_txt = 7 & gt $curloc', 'Passionate')
FUNC('$menu', 'exec_options', $menu_item_Order_Lively, 'search["temper"] = 4 & search["cost"] += 2 & sp_txt = 7 & gt $curloc', 'Lively')
FUNC('$menu', 'exec_options', $menu_item_Order_Reactive, 'search["temper"] = 3 & search["cost"] += 1 & sp_txt = 7 & gt $curloc', 'Reactive')
FUNC('$menu', 'exec_options', $menu_item_temper_Not_matter, 'search["temper"] = 0 & sp_txt = 7 & gt $curloc', 'Doesn`t matter')
FUNC('$menu', '===END===')
}

$expert_options[7] = {
$sp_text[7] = '      [MASTER SKUPS]
   - Character is much harder to recognize at once than other parameters of the product, but I have my own secrets. No wonder that I''m an expert. Just say what you want, and I''ll find a way to provide it.'
interaction_city = 9511
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'exec_options', $menu_item_Order_Willful, 'search["ego"] = 5 & search["cost"] += 4 & gt "interaction_city"', 'Willful')
FUNC('$menu', 'exec_options', $menu_item_Order_Determined, 'search["ego"] = 4 & search["cost"] += 2 & gt "interaction_city"', 'Determined')
FUNC('$menu', 'exec_options', $menu_item_Order_Independent, 'search["ego"] = 3 & search["cost"] += 1 & gt "interaction_city"', 'Independent')
FUNC('$menu', 'exec_options', $menu_item_ego_Not_matter, 'search["ego"] = 0 & sp_txt = 3 & gt "interaction_city"', 'Doesn`t matter')
FUNC('$menu', '===END===')
}

!HOSPITAL
$hospital_options[1] = {
$text_display = '<br><br>'
FUNC('$menu', '===BEGIN===', 'column_0') 
IF sparks >= 5:
  FUNC('$menu', 'interaction_city', $menu_item_M_checkup, menu_M_checkup, 'Health checkup')
ELSE
  FUNC('$menu', 'location_gray', $menu_item_M_checkup_gray, empty, 'Health checkup')
END
IF slave_state > CONST_INT['no_slave'] and sparks >= 5:
  FUNC('$menu', 'interaction_city', $menu_item_S_checkup, menu_S_checkup, 'Examine slave')
ELSE
  FUNC('$menu', 'location_gray', $menu_item_S_checkup_gray, empty, 'Examine slave')
END
IF assistant_state = 1 and sparks >= 5:
  FUNC('$menu', 'interaction_city', $menu_item_A_checkup, menu_A_checkup, 'Examine assistant')
ELSE
  FUNC('$menu', 'location_gray', $menu_item_A_checkup_gray, empty, 'Examine assistant')
END
IF slave['reabilitation'] < 1 and slave_state = CONST_INT['slave_exist']:
  FUNC('$menu', 'exec_options', $menu_item_S_augmentation, 'sp_txt = 2 & gt $curloc', 'Slave augmentation')
ELSE
  FUNC('$menu', 'location_gray', $menu_item_S_augmentation_gray, empty, 'Slave augmentation')
END
IF assistant['reabilitation'] < 1 and assistant_state = 1:
  FUNC('$menu', 'exec_options', $menu_item_A_augmentation, 'sp_txt = 3 & gt $curloc', 'Assistant augmentation')
ELSE
  FUNC('$menu', 'location_gray', $menu_item_A_augmentation_gray, empty, 'Assistant augmentation')
END
FUNC('$menu', 'interaction_city', $menu_item_need_nurses, menu_need_nurses, 'Check the need for nurses')
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
  FUNC('$menu', 'interaction_city', $menu_item_Offer_employee, menu_Offer_employee, 'Offer an employee')
ELSE
  FUNC('$menu', 'location_gray', $menu_item_Offer_employee_gray, empty, 'Offer an employee')
END
FUNC('$menu', 'city_form', $menu_item_Leave_medical, menu_Leave_medical, 'Leave medical center')
FUNC('$menu', '===END===')
}

$hospital_options[11] = {
    $text_display = '<br><br>'
    FUNC('$menu', 'spacer', 2)

    FUNC('$menu', '===BEGIN===', 'column_0') 
    if master_issues ! 0:
        if master_wounds = 1 and sparks >= 5: 
            FUNC('$menu', 'interaction_city', $menu_item_MWound1, menu_MWound1, 'Wound treatment (5$)')
			elseif master_wounds = 1 and sparks < 5: FUNC('$menu', 'location_gray', $menu_item_MWound1_gray, 'Wound treatment (5$)')
			end
        if master_wounds = 2 and sparks >= 10: 
            FUNC('$menu', 'interaction_city', $menu_item_MWound2, menu_MWound2, 'Wound treatment (10$)')
			elseif master_wounds = 2 and sparks < 10: FUNC('$menu', 'location_gray', $menu_item_MWound2_gray, 'Wound treatment (10$)') 
			end
        if master_wounds = 3 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_MWound3, menu_MWound3, 'Wound treatment (25$)')
			elseif master_wounds = 3 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_MWound3_gray, 'Wound treatment (25$)') 
			end
        if master_wounds = 4 and sparks >= 50: 
            FUNC('$menu', 'interaction_city', $menu_item_MWound4, menu_MWound4, 'Wound treatment (50$)')
			elseif master_wounds = 4 and sparks < 50: FUNC('$menu', 'location_gray', $menu_item_MWound4_gray, 'Wound treatment (50$)') 
			end
        if master_wounds = 5 and sparks >= 100: 
            FUNC('$menu', 'interaction_city', $menu_item_MWound5, menu_MWound5, 'Wound treatment (100$)')
			elseif master_wounds = 5 and sparks < 100: FUNC('$menu', 'location_gray', $menu_item_MWound5_gray, 'Wound treatment (100$)') 
			end
        if cure_master_ill = 1 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_MDisease, menu_MDisease, 'Disease treatment (25$)')
			elseif cure_master_ill = 1 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_MDisease_gray, 'Disease treatment (25$)')
			end
        FUNC('$menu', 'city_form', $menu_item_Refuse_services, menu_Refuse_services, 'Refuse services')
    else:
        interaction_city = 331
        gt "interaction_city"
    end
    FUNC('$menu', '===END===')
}

$hospital_options[12] = {
    $text_display = '<br><br>'
    FUNC('$menu', 'spacer', 2)

    FUNC('$menu', '===BEGIN===', 'column_0') 
    if slave_issues = 6: $text_display = ''
    if slave_issues ! 0:
        if slave["wounds"] = 1 and sparks >= 5: 
            FUNC('$menu', 'interaction_city', $menu_item_SWound1, menu_SWound1, 'Wound treatment (5$)')
			elseif slave["wounds"] = 1 and sparks < 5: FUNC('$menu', 'location_gray', $menu_item_SWound1_gray, empty, 'Wound treatment (5$)')
			end
        if slave["wounds"] = 2 and sparks >= 10: 
            FUNC('$menu', 'interaction_city', $menu_item_SWound2, menu_SWound2, 'Wound treatment (10$)')
			elseif slave["wounds"] = 2 and sparks < 10: FUNC('$menu', 'location_gray', $menu_item_SWound2_gray, empty, 'Wound treatment (10$)')
			end
        if slave["wounds"] = 3 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_SWound3, menu_SWound3, 'Wound treatment (25$)')
			elseif slave["wounds"] = 3 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_SWound3_gray, empty, 'Wound treatment (25$)')
			end
        if slave["wounds"] = 4 and sparks >= 50: 
            FUNC('$menu', 'interaction_city', $menu_item_SWound4, menu_SWound4, 'Wound treatment (50$)')
			elseif slave["wounds"] = 4 and sparks < 50: FUNC('$menu', 'location_gray', $menu_item_SWound4_gray, empty, 'Wound treatment (50$)')
			end
        if slave["wounds"] = 5 and sparks >= 100: 
            FUNC('$menu', 'interaction_city', $menu_item_SWound5, menu_SWound5, 'Wound treatment (100$)')
			elseif slave["wounds"] = 5 and sparks < 100: FUNC('$menu', 'location_gray', $menu_item_SWound5_gray, empty, 'Wound treatment (100$)')
			end
        IF slave_stimulation = 1: 
			if slave["res"] = 0 and sparks >= 50: 
                FUNC('$menu', 'interaction_city', $menu_item_SReanimation0, menu_SReanimation0, 'Reanimation (50$)')
				elseif slave["res"] = 0 and sparks < 50: FUNC('$menu', 'location_gray', $menu_item_SReanimation0_gray, empty, 'Reanimation (50$)')
				end
			if slave["res"] = 1 and sparks >= 100: 
                FUNC('$menu', 'interaction_city', $menu_item_SReanimation1, menu_SReanimation1, 'Reanimation (100$)')
				elseif slave["res"] = 1 and sparks < 100: FUNC('$menu', 'location_gray', $menu_item_SReanimation1_gray, empty, 'Reanimation (100$)')
				end
			if slave["res"] = 2 and sparks >= 250: 
                FUNC('$menu', 'interaction_city', $menu_item_SReanimation2, menu_SReanimation2, 'Reanimation (250$)')
				elseif slave["res"] = 2 and sparks < 250: FUNC('$menu', 'location_gray', $menu_item_SReanimation2_gray, empty, 'Reanimation (250$)')
				end
			if slave["res"] = 3 and sparks >= 500: 
                FUNC('$menu', 'interaction_city', $menu_item_SReanimation3, menu_SReanimation3, 'Reanimation (500$)')
				elseif slave["res"] = 3 and sparks < 500: FUNC('$menu', 'location_gray', $menu_item_SReanimation3_gray, empty, 'Reanimation (500$)')
				end
			if slave["res"] >= 4 and sparks >= 1000: 
                FUNC('$menu', 'interaction_city', $menu_item_SReanimation4, menu_SReanimation4, 'Reanimation (1000$)')
				elseif slave["res"] >= 4 and sparks < 1000: FUNC('$menu', 'location_gray', $menu_item_SReanimation4_gray, empty, 'Reanimation (1000$)')
				end
		END
        if slave_abortion = 1 and sparks >= 10: 
            FUNC('$menu', 'interaction_city', $menu_item_SAbortion, menu_SAbortion, 'Abortion (10$)')
			elseif slave_abortion = 1 and sparks < 10: FUNC('$menu', 'location_gray', $menu_item_SAbortion_gray, empty, 'Abortion (10$)') 
			end
        if slave_insidous_abortion = 1 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_SXenoparasite, menu_SXenoparasite, 'Xenoparasite extraction (25$)')
			elseif slave_insidous_abortion = 1 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_SXenoparasite_gray, empty, 'parasite abortion(25$)') 
			end
        if cure_slave_ill = 1 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_SDisease, menu_SDisease, 'Disease treatment (25$)')
			elseif cure_slave_ill = 1 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_SDisease_gray, empty, 'Disease treatment (25$)') 
			end
        if slave["scares"] = 1 and sparks >= 5: 
            FUNC('$menu', 'interaction_city', $menu_item_SScar1, menu_SScar1, 'Scar removal (5$)')
			elseif slave["scares"] = 1 and sparks < 5: FUNC('$menu', 'location_gray', $menu_item_SScar1_gray, empty, 'Scar removal (5$)') 
			end
        if slave["scares"] = 2 and sparks >= 10: 
            FUNC('$menu', 'interaction_city', $menu_item_SScar2, menu_SScar2, 'Scar removal (10$)')
			elseif slave["scares"] = 2 and sparks < 10: FUNC('$menu', 'location_gray', $menu_item_SScar2_gray, empty, 'Scar removal (10$)') 
			end
        if slave["scares"] = 3 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_SScar3, menu_SScar3, 'Scar removal (25$)')
			elseif slave["scares"] = 3 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_SScar3_gray, empty, 'Scar removal (25$)') 
			end
        if slave["scares"] = 4 and sparks >= 50: 
            FUNC('$menu', 'interaction_city', $menu_item_SScar4, menu_SScar4, 'Scar removal (50$)')
			elseif slave["scares"] = 4 and sparks < 50: FUNC('$menu', 'location_gray', $menu_item_SScar4_gray, empty, 'Scar removal (50$)') 
			end
        if slave["scares"] = 5 and sparks >= 100: 
            FUNC('$menu', 'interaction_city', $menu_item_SScar5, menu_SScar5, 'Scar removal (100$)')
			elseif slave["scares"] = 5 and sparks < 100: FUNC('$menu', 'location_gray', $menu_item_SScar5_gray, empty, 'Scar removal (100$)') 
			end
        FUNC('$menu', 'city_form', $menu_item_Refuse_Sservices, menu_Refuse_Sservices, 'Refuse services')
    else:
        interaction_city = 331
        gt "interaction_city"
    end
    FUNC('$menu', '===END===')
}

$hospital_options[13] = {
    $text_display = '<br><br>'
    FUNC('$menu', 'spacer', 2)

    FUNC('$menu', '===BEGIN===', 'column_0') 
    if assistant_issues = 6: $text_display = ''
    if assistant_issues ! 0:
        if assistant["wounds"] = 1 and sparks >= 5: 
            FUNC('$menu', 'interaction_city', $menu_item_AWound1, menu_AWound1, 'Wound treatment (5$)')
			elseif assistant["wounds"] = 1 and sparks < 5: FUNC('$menu', 'location_gray', $menu_item_AWound1_gray, empty, 'Wound treatment (5$)')
			end
        if assistant["wounds"] = 2 and sparks >= 10: 
            FUNC('$menu', 'interaction_city', $menu_item_AWound2, menu_AWound2, 'Wound treatment (10$)')
			elseif assistant["wounds"] = 2 and sparks < 10: FUNC('$menu', 'location_gray', $menu_item_AWound2_gray, empty, 'Wound treatment (10$)')
			end
        if assistant["wounds"] = 3 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_AWound3, menu_AWound3, 'Wound treatment (25$)')
			elseif assistant["wounds"] = 3 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_AWound3_gray, empty, 'Wound treatment (25$)')
			end
        if assistant["wounds"] = 4 and sparks >= 50: 
            FUNC('$menu', 'interaction_city', $menu_item_AWound4, menu_AWound4, 'Wound treatment (50$)')
			elseif assistant["wounds"] = 4 and sparks < 50: FUNC('$menu', 'location_gray', $menu_item_AWound4_gray, empty, 'Wound treatment (50$)')
			end
        if assistant["wounds"] = 5 and sparks >= 100: 
            FUNC('$menu', 'interaction_city', $menu_item_AWound5, menu_AWound5, 'Wound treatment (100$)')
			elseif assistant["wounds"] = 5 and sparks < 100: FUNC('$menu', 'location_gray', $menu_item_AWound5_gray, empty, 'Wound treatment (100$)')
			end
        IF assistant_stimulation = 1: 
			if assistant["res"] = 0 and sparks >= 50: 
                FUNC('$menu', 'interaction_city', $menu_item_AReanimation0, menu_AReanimation0, 'Reanimation (50$)')
				elseif assistant["res"] = 0 and sparks < 50: FUNC('$menu', 'location_gray', $menu_item_AReanimation0_gray, empty, 'Reanimation (50$)')
				end
			if assistant["res"] = 1 and sparks >= 100: 
                FUNC('$menu', 'interaction_city', $menu_item_AReanimation1, menu_AReanimation1, 'Reanimation (100$)')
				elseif assistant["res"] = 1 and sparks < 100: FUNC('$menu', 'location_gray', $menu_item_AReanimation1_gray, empty, 'Reanimation (100$)')
				end
			if assistant["res"] = 2 and sparks >= 250: 
                FUNC('$menu', 'interaction_city', $menu_item_AReanimation2, menu_AReanimation2, 'Reanimation (250$)')
				elseif assistant["res"] = 2 and sparks < 250: FUNC('$menu', 'location_gray', $menu_item_AReanimation2_gray, empty, 'Reanimation (250$)')
				end
			if assistant["res"] = 3 and sparks >= 500: 
                FUNC('$menu', 'interaction_city', $menu_item_AReanimation3, menu_AReanimation3, 'Reanimation (500$)')
				elseif assistant["res"] = 3 and sparks < 500: FUNC('$menu', 'location_gray', $menu_item_AReanimation3_gray, empty, 'Reanimation (500$)')
				end
			if assistant["res"] >= 4 and sparks >= 1000: 
                FUNC('$menu', 'interaction_city', $menu_item_AReanimation4, menu_AReanimation4, 'Reanimation (1000$)')
				elseif assistant["res"] >= 4 and sparks < 1000: FUNC('$menu', 'location_gray', $menu_item_AReanimation4_gray, empty, 'Reanimation (1000$)')
				end
		END
        if assistant_abortion = 1 and sparks >= 10: 
            FUNC('$menu', 'interaction_city', $menu_item_AAbortion, menu_AAbortion, 'Abortion (10$)')
			elseif assistant_abortion = 1 and sparks < 10: FUNC('$menu', 'location_gray', $menu_item_AAbortion_gray, empty, 'Abortion (10$)') 
			end
        if assistant_insidous_abortion = 1 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_AXenoparasite, menu_AXenoparasite, 'Xenoparasite extraction (25$)')
			elseif assistant_insidous_abortion = 1 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_AXenoparasite_gray, empty, 'Xenoparasite extraction (25$)') 
			end
        if cure_assistant_ill = 1 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_ADisease, menu_ADisease, 'Disease treatment (25$)')
			elseif cure_assistant_ill = 1 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_ADisease_gray, empty, 'Disease treatment (25$)') 
			end
        if assistant["scares"] = 1 and sparks >= 5: 
            FUNC('$menu', 'interaction_city', $menu_item_AScar1, menu_AScar1, 'Scar removal (5$)')
			elseif assistant["scares"] = 1 and sparks < 5: FUNC('$menu', 'location_gray', $menu_item_AScar1_gray, empty, 'Scar removal (5$)') 
			end
        if assistant["scares"] = 2 and sparks >= 10: 
            FUNC('$menu', 'interaction_city', $menu_item_AScar2, menu_AScar2, 'Scar removal (10$)')
			elseif assistant["scares"] = 2 and sparks < 10: FUNC('$menu', 'location_gray', $menu_item_AScar2_gray, empty, 'Scar removal (10$)') 
			end
        if assistant["scares"] = 3 and sparks >= 25: 
            FUNC('$menu', 'interaction_city', $menu_item_AScar3, menu_AScar3, 'Scar removal (25$)')
			elseif assistant["scares"] = 3 and sparks < 25: FUNC('$menu', 'location_gray', $menu_item_AScar3_gray, empty, 'Scar removal (25$)') 
			end
        if assistant["scares"] = 4 and sparks >= 50: 
            FUNC('$menu', 'interaction_city', $menu_item_AScar4, menu_AScar4, 'Scar removal (50$)')
			elseif assistant["scares"] = 4 and sparks < 50: FUNC('$menu', 'location_gray', $menu_item_AScar4_gray, empty, 'Scar removal (50$)') 
			end
        if assistant["scares"] = 5 and sparks >= 100: 
            FUNC('$menu', 'interaction_city', $menu_item_AScar5, menu_AScar5, 'Scar removal (100$)')
			elseif assistant["scares"] = 5 and sparks < 100: FUNC('$menu', 'location_gray', $menu_item_AScar5_gray, empty, 'Scar removal (100$)') 
			end
        FUNC('$menu', 'city_form', $menu_item_Refuse_Aservices, menu_Refuse_Aservices, 'Refuse services')
    else:
        interaction_city = 331
        gt "interaction_city"
    end
    FUNC('$menu', '===END===')
}

$hospital_options[2] = {
$text_display = '<br><br>'
FUNC('$menu', '===BEGIN===', 'column_0') 
IF sparks >= 5 and slave['pregnant'] = 0 and slave['fertility'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_SSterilization, menu_SSterilization, 'Sterilization')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_SSterilization_gray, empty, 'Sterilization')
END
IF sparks >= 50 and slave['fertility'] = -1:
 FUNC('$menu', 'interaction_city', $menu_item_Sfertility, menu_Sfertility, 'Restore fertility')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Sfertility_gray, empty, 'Restore fertility')
END
IF sparks >= 25 and slave['breast_enchanced'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_SBreast_augmentation, menu_SBreast_augmentation, 'Breast augmentation')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_SBreast_augmentation_gray, empty, 'Breast augmentation')
END
IF sparks >= 25 and virginity = 2:
 FUNC('$menu', 'interaction_city', $menu_item_SVirginity_restoration, menu_SVirginity_restoration, 'Virginity restoration')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_SVirginity_restoration_gray, empty, 'Virginity restoration')
END
IF sparks >= 250 and slave['beauty_enchanced'] = 0 and slave_rate['beauty'] < 160:
 FUNC('$menu', 'interaction_city', $menu_item_SNeoplasty, menu_SNeoplasty, 'Neoplasty')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_SNeoplasty_gray, empty, 'Neoplasty')
END
IF sparks >= 25 and slave['lactation'] = 0 and slave['age'] ! CONST_INT['loli_age']:
 FUNC('$menu', 'interaction_city', $menu_item_SPermanent_lactation, menu_SPermanent_lactation, 'Permanent lactation')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_SPermanent_lactation_gray, empty, 'Permanent lactation')
END
IF sparks >= 50 and slave['fertility'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_SOviparity, menu_SOviparity, 'Oviparity')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_SOviparity_gray, empty, 'Oviparity')
END
FUNC('$menu', 'exec_options', $menu_item_SOther_services, 'sp_txt = 1 & gt $curloc', 'Other services')
FUNC('$menu', '===END===')
}

$hospital_options[3] = {
$text_display = '<br><br>'
FUNC('$menu', '===BEGIN===', 'column_0') 
IF sparks >= 5 and assistant['pregnant'] = 0 and assistant['fertility'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_ASterilization, menu_ASterilization, 'Sterilization')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_ASterilization_gray, empty, 'Sterilization')
END
IF sparks >= 50 and assistant['fertility'] = -1:
 FUNC('$menu', 'interaction_city', $menu_item_Afertility, menu_Afertility, 'Restore fertility')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Afertility_gray, empty, 'Restore fertility')
END
IF sparks >= 25 and assistant['breast_enchanced'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_ABreast_augmentation, menu_ABreast_augmentation, 'Breast augmentation')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_ABreast_augmentation_gray, empty, 'Breast augmentation')
END
IF sparks >= 25 and virginity = 2:
 FUNC('$menu', 'interaction_city', $menu_item_AVirginity_restoration, menu_AVirginity_restoration, 'Virginity restoration')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_AVirginity_restoration_gray, empty, 'Virginity restoration')
END
IF sparks >= 250 and assistant['beauty_enchanced'] = 0 and assistant_rate['beauty'] < 160:
 FUNC('$menu', 'interaction_city', $menu_item_ANeoplasty, menu_ANeoplasty, 'Neoplasty')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_ANeoplasty_gray, empty, 'Neoplasty')
END
IF sparks >= 25 and assistant['lactation'] = 0 and assistant['age'] ! CONST_INT['loli_age']:
 FUNC('$menu', 'interaction_city', $menu_item_APermanent_lactation, menu_APermanent_lactation, 'Permanent lactation')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_APermanent_lactation_gray, empty, 'Permanent lactation')
END
IF sparks >= 50 and assistant['fertility'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_AOviparity, menu_AOviparity, 'Oviparity')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_AOviparity_gray, empty, 'Oviparity')
END
FUNC('$menu', 'exec_options', $menu_item_AOther_services, 'sp_txt = 1 & gt $curloc', 'Other services')
FUNC('$menu', '===END===')
}

!cryostatic bank
$stasis_options[1] = {
$text_display = '<br><br><br>'
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
$place = 'stasis_bank'
if nsfw = 1: not_safe = 1
cryo_intro = 1
!дополнительная проверка чтобы выходил правильный пункт в меню
IF sparks >= 20:
 IF stasis_tank = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Rentcapsule, menu_Rentcapsule, 'Rent home capsule')
  ELSE
  FUNC('$menu', 'interaction_city', $menu_item_Returncapsule, menu_Returncapsule, 'Return home capsule')
 END
 ELSEIF stasis_tank = 1: FUNC('$menu', 'interaction_city', $menu_item_Returncapsule, menu_Returncapsule, 'Return home capsule')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Rentcapsule_gray, 'Rent home capsule')
END
FUNC('$menu', 'exec_options', $menu_item_Checkcell, 'sp_txt = 2 & gt $curloc', 'Check the cell')
FUNC('$menu', 'city_form', $menu_item_Leave_cryo, menu_Leave_cryo, 'Leave')
FUNC('$menu', '===END===')
}

$stasis_options[2] = {
if cells_unlocked = 1: 
 $text_display = ''
 $sp_text[2] = "   In this place you can keep slaves in a stasis state in which they will remain as long as I have money to support the unit." 
 else
 $text_display = '<br>'
 $sp_text[2] = "   In this place you can keep slaves in a stasis state in which they will remain as long as I have money to support the unit. For an extra fee you can get access to three more cells for storage." 
end
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
$place = 'stasis_bank_2'
if nsfw = 1: not_safe = 1
IF iced_1_state = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Cell1, menu_Cell1, 'Cell №1: rent (1/day)')
 ELSE
 FUNC('$menu', 'interaction_city', $menu_item_Cell1RE, menu_Cell1, 'Cell №1: take out')
END
IF iced_2_state = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Cell2, menu_Cell2, 'Cell №2: rent (1/day)')
 ELSE
 FUNC('$menu', 'interaction_city', $menu_item_Cell2RE, menu_Cell2, 'Cell №2: take out')
END
IF iced_3_state = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Cell3, menu_Cell3, 'Cell №3: rent (1/day)')
 ELSE
 FUNC('$menu', 'interaction_city', $menu_item_Cell3RE, menu_Cell3, 'Cell №3: take out')
END
IF sparks >= 300 and cells_unlocked ! 1:
 FUNC('$menu', 'interaction_city', $menu_item_Unlockcells, menu_Unlockcells, 'Unlock new cells (300$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Unlockcells_gray, empty, 'Unlock new cells (300$)')
END
IF cells_unlocked = 1:
 IF iced_4_state = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Cell4, menu_Cell4, 'Cell №4: rent (1/day)')
  ELSE
  FUNC('$menu', 'interaction_city', $menu_item_Cell4RE, menu_Cell4, 'Cell №4: take out')
 END
 IF iced_5_state = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Cell5, menu_Cell5, 'Cell №5: rent (1/day)')
  ELSE
  FUNC('$menu', 'interaction_city', $menu_item_Cell5RE, menu_Cell5, 'Cell №5: take out')
 END
 IF iced_6_state = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Cell6, menu_Cell6, 'Cell №6: rent (1/day)')
  ELSE
  FUNC('$menu', 'interaction_city', $menu_item_Cell6RE, menu_Cell6, 'Cell №6: take out')
 END
END
FUNC('$menu', 'city_form', $menu_item_Backstasis, menu_Backstasis, 'Back')
FUNC('$menu', '===END===')
}

!Real estate manager
$realtor_options[1] = {
$text_display = '<br><br><br>'
FUNC('$menu', '===BEGIN===', 'column_0') 
IF npc_reveal['realtor'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Speaktomanager, menu_Speaktomanager, 'Speak to the manager')
 FUNC('$menu', 'location_gray', $menu_item_Interiordesign_gray, empty, 'Interior design')
 FUNC('$menu', 'location_gray', $menu_item_Extendedrental_gray, empty, 'Extended rental')
 FUNC('$menu', 'location_gray', $menu_item_Cancelcontract_gray, empty, 'Cancel the contract')
 else
 IF $estate = 'slum_house': 
  FUNC('$menu', 'exec_options', $menu_item_Viewoptions, 'sp_txt = 2 & gt $curloc', 'View available options')
 ELSE
  FUNC('$menu', 'interaction_city', $menu_item_Cancelcontract, menu_Cancelcontract, 'Cancel the contract')
 END
 IF $estate = 'slum_house': FUNC('$menu', 'city_form', $menu_item_Interiordesign_gray, empty, 'Interior design')
 IF $estate ! 'slum_house': FUNC('$menu', 'exec_options', $menu_item_Interiordesign, 'sp_txt = 4 & gt $curloc', 'Interior design')
 IF $estate = 'slum_house': FUNC('$menu', 'city_form', $menu_item_Extendedrental_gray, empty, 'Extended rental')
 IF $estate ! 'slum_house': FUNC('$menu', 'exec_options', $menu_item_Extendedrental, 'sp_txt = 3 & gt $curloc', 'Extended rental')
 IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
  FUNC('$menu', 'interaction_city', $menu_item_employeeestate, menu_employeeestate, 'Offer an employee')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_employeeestate_gray, empty, 'Offer an employee')
 END
 FUNC('$menu', 'interaction_city', $menu_item_requirementsestate, menu_requirementsestate, 'Ask about requirements')
END
FUNC('$menu', 'city_form', $menu_item_Exittocity, menu_Exittocity, 'Exit to the city')
FUNC('$menu', '===END===')
}

$realtor_options[2] = {
$text_display = '<br><br><br>'
FUNC('$menu', '===BEGIN===', 'column_0') 
IF sparks >= 250 and brand_reputation > 2:
 FUNC('$menu', 'interaction_city', $menu_item_realtorWhite, menu_realtorWhite, 'White town')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_realtorWhite_gray, empty, 'White town')
END
IF sparks >= 200 and faction_fame['korvus'] > 0:
 FUNC('$menu', 'interaction_city', $menu_item_realtorNecropolis, menu_realtorNecropolis, 'Necropolis')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_realtorNecropolis_gray, empty, 'Necropolis')
END
IF sparks >= 150 and faction_fame['taurus'] > 0:
 FUNC('$menu', 'interaction_city', $menu_item_realtorBull, menu_realtorBull, 'Quarter of the Bull')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_realtorBull_gray, empty, 'Quarter of the Bull')
END
IF sparks >= 75 and faction_fame['serpis'] > 0:
 FUNC('$menu', 'interaction_city', $menu_item_realtorSerpentine, menu_realtorSerpentine, 'Serpentine quarter')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_realtorSerpentine_gray, empty, 'Serpentine quarter')
END
IF sparks >= 50 and faction_fame['kamira'] > 0:
 FUNC('$menu', 'interaction_city', $menu_item_realtorOutcasts, menu_realtorOutcasts, 'Quarter of the Outcasts')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_realtorOutcasts_gray, empty, 'Quarter of the Outcasts')
END
FUNC('$menu', 'exec_options', $menu_item_Changeselection, 'sp_txt = 1 & gt $curloc', 'Change selection')
FUNC('$menu', '===END===')
}

$realtor_options[3] = {
$text_display = '<br><br><br>'
FUNC('$menu', '===BEGIN===', 'column_0') 
if dungeon = 0:
 if sparks >= estate_cost_dungeon[$estate]: FUNC('$menu', 'interaction_city', $menu_item_Rentdungeon, menu_Rentdungeon, 'Rent a dungeon')
 else
 FUNC('$menu', 'interaction_city', $menu_item_Abandondungeon, menu_Abandondungeon, 'Abandon the dungeon')
END
if bouduar = 0:
 if sparks >= estate_cost_bouduar[$estate]: FUNC('$menu', 'interaction_city', $menu_item_Rentboudoir, menu_Rentboudoir, 'Rent a boudoir')
 else
 FUNC('$menu', 'interaction_city', $menu_item_Abandonboudoir, menu_Abandonboudoir, 'Abandon the boudoir')
END
if lab = 0:
 if sparks >= estate_cost_lab[$estate]: FUNC('$menu', 'interaction_city', $menu_item_Rentlaboratory, menu_Rentlaboratory, 'Rent a laboratory')
 else
 FUNC('$menu', 'interaction_city', $menu_item_Abandonlaboratory, menu_Abandonlaboratory, 'Abandon the laboratory')
END
if pen = 0:
  if sparks >= 10: FUNC('$menu', 'interaction_city', $menu_item_Rentpen, menu_Rentpen, 'Rent a pen for fiend')
 else
 FUNC('$menu', 'interaction_city', $menu_item_Abandonpen, menu_Abandonpen, 'Abandon the pen')
END
if barn = 0:
  if sparks >= 30: FUNC('$menu', 'interaction_city', $menu_item_Rentbarn, menu_Rentbarn, 'Rent a barn')
 else
 FUNC('$menu', 'interaction_city', $menu_item_Abandonbarn, menu_Abandonbarn, 'Abandon the barn')
END
FUNC('$menu', 'exec_options', $menu_item_LeaveExtendedrental, 'sp_txt = 1 & gt $curloc', 'Leave as it is')
FUNC('$menu', '===END===')
}

$realtor_options[4] = {
$text_display = '<br><br>'
FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'exec_options', $menu_item_InteriorHall, 'sp_txt = 41 & gt $curloc', 'Hall')
FUNC('$menu', 'exec_options', $menu_item_InteriorBedroom, 'sp_txt = 42 & gt $curloc', 'Bedroom')
FUNC('$menu', 'exec_options', $menu_item_InteriorKitchen, 'sp_txt = 43 & gt $curloc', 'Kitchen')
FUNC('$menu', 'exec_options', $menu_item_InteriorBathroom, 'sp_txt = 44 & gt $curloc', 'Bathroom')
IF dungeon > 0:
 FUNC('$menu', 'exec_options', $menu_item_InteriorDungeon, 'sp_txt = 45 & gt $curloc', 'Dungeon')
 else
 FUNC('$menu', 'location_gray', $menu_item_InteriorDungeon_gray, empty, 'Dungeon')
END
IF bouduar > 0:
 FUNC('$menu', 'exec_options', $menu_item_InteriorBoudoir, 'sp_txt = 46 & gt $curloc', 'Boudoir')
 else
 FUNC('$menu', 'location_gray', $menu_item_InteriorBoudoir_gray, empty, 'Boudoir')
END
IF lab > 0:
 FUNC('$menu', 'exec_options', $menu_item_InteriorLaboratory, 'sp_txt = 47 & gt $curloc', 'Laboratory')
 else
 FUNC('$menu', 'location_gray', $menu_item_InteriorLaboratory_gray, empty, 'Laboratory')
END
FUNC('$menu', 'exec_options', $menu_item_LeaveInterior, 'sp_txt = 1 & gt $curloc', 'Leave as it is')
FUNC('$menu', '===END===')
}

$realtor_options[41] = {
FUNC('$menu', 'spacer', 1)
	
FUNC('$menu', '===BEGIN===', 'column_0') 
if $hall ! 'basic' and sparks >= 0: FUNC('$menu', 'interaction_city', $menu_item_hallFree, menu_hallFree, 'Free')
if $hall ! 'econom' and sparks >= 25: FUNC('$menu', 'interaction_city', $menu_item_hallEconom, menu_hallEconom, 'Econom')
if $hall ! 'japan' and sparks >= 25: FUNC('$menu', 'interaction_city', $menu_item_hallJapanese, menu_hallJapanese, 'Japanese')
if $hall ! 'comfy' and sparks >= 25: FUNC('$menu', 'interaction_city', $menu_item_hallCozy, menu_hallCozy, 'Cozy')
if $hall ! 'fort' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_hallmedieval, menu_hallmedieval, 'Neo-medieval')
if $hall ! 'modern' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_hallModern, menu_hallModern, 'Modern')
FUNC('$menu', 'exec_options', $menu_item_Backfromhall, 'sp_txt = 4 & gt $curloc', 'Back')
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_1') 
if $hall ! 'classic' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_hallClassical, menu_hallClassical, 'Classical')
if $hall ! 'victorian' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_HallVictorian, menu_HallVictorian, 'Victorian')
if $hall ! 'gothic' and sparks >= 150: FUNC('$menu', 'interaction_city', $menu_item_HallNecro, menu_HallNecro, 'Necro-gothic')
if $hall ! 'elite' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_HallElite, menu_HallElite, 'Elite')
if $hall ! 'Slaver' and sparks >= 150: FUNC('$menu', 'interaction_city', $menu_item_hallSlaver, menu_hallSlaver, 'Slaver')
if $hall ! 'lux' and sparks >= 200: FUNC('$menu', 'interaction_city', $menu_item_hallluxurious, menu_hallLuxurious, 'Luxurious')
FUNC('$menu', '===END===')
}

$realtor_options[42] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
if $bed ! 'basic' and sparks >= 0: FUNC('$menu', 'interaction_city', $menu_item_bedFree, menu_bedFree, 'Free')
if $bed ! 'econom' and sparks >= 15: FUNC('$menu', 'interaction_city', $menu_item_bedEconom, menu_bedEconom, 'Econom')
if $bed ! 'japan' and sparks >= 25: FUNC('$menu', 'interaction_city', $menu_item_bedJapanese, menu_bedJapanese, 'Japanese')
if $bed ! 'comfy' and sparks >= 25: FUNC('$menu', 'interaction_city', $menu_item_bedCozy, menu_bedCozy, 'Cozy')
if $bed ! 'fort' and sparks >= 30: FUNC('$menu', 'interaction_city', $menu_item_bedmedieval, menu_bedmedieval, 'Neo-medieval')
if $bed ! 'modern' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_bedModern, menu_bedModern, 'Modern')
FUNC('$menu', 'exec_options', $menu_item_Backfrombed, 'sp_txt = 4 & gt $curloc', 'Back')
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_1') 
if $bed ! 'classic' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_bedClassical, menu_bedClassical, 'Classical')
if $bed ! 'slaver' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_bedSlaver, menu_bedSlaver, 'Slaver')
if $bed ! 'stylish' and sparks >= 150: FUNC('$menu', 'interaction_city', $menu_item_bedStyle, menu_bedStyle, 'Style')
if $bed ! 'gothic' and sparks >= 150: FUNC('$menu', 'interaction_city', $menu_item_bedNecro, menu_bedNecro, 'Necro-gothic')
if $bed ! 'elite' and sparks >= 150: FUNC('$menu', 'interaction_city', $menu_item_bedElite, menu_bedElite, 'Elite')
if $bed ! 'lux' and sparks >= 200: FUNC('$menu', 'interaction_city', $menu_item_beduxurious, menu_bedLuxurious, 'Luxurious')
FUNC('$menu', '===END===')
}

$realtor_options[43] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
if $kitchen ! 'basic' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_kitchenRustic, menu_kitchenRustic, 'Rustic')
if $kitchen ! 'econom' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_kitchenEconom, menu_kitchenEconom, 'Econom')
if $kitchen ! 'fort' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_kitchenmedieval, menu_kitchenmedieval, 'Neo-medieval')
if $kitchen ! 'gothic' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_kitchenNecro, menu_kitchenNecro, 'Necro-gothic')
if $kitchen ! 'elite' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_kitchenElite, menu_kitchenElite, 'Elite')
FUNC('$menu', 'exec_options', $menu_item_Backfromkitchen, 'sp_txt = 4 & gt $curloc', 'Back')
FUNC('$menu', '===END===')
}

$realtor_options[44] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
if $bath ! 'basic' and sparks >= 0: FUNC('$menu', 'interaction_city', $menu_item_bathFree, menu_bathFree, 'Free')
if $bath ! 'econom' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_bathEconom, menu_bathEconom, 'Econom')
if $bath ! 'fort' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_bathmedieval, menu_bathmedieval, 'Neo-medieval')
if $bath ! 'classic' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_bathClassical, menu_bathClassical, 'Classical')
if $bath ! 'japan' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_bathJapanese, menu_bathJapanese, 'Japanese tub')
if $bath ! 'gothic' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_bathNecro, menu_bathNecro, 'Necro-gothic')
if $bath ! 'elite' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_bathElite, menu_bathElite, 'Elite')
if $bath ! 'lux' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_bathLuxurious, menu_bathLuxurious, 'Luxurious')
FUNC('$menu', 'exec_options', $menu_item_Backfrombath, 'sp_txt = 4 & gt $curloc', 'Back')
FUNC('$menu', '===END===')
}

$realtor_options[45] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
if $dungeon ! 'basic' and sparks >= 0: FUNC('$menu', 'interaction_city', $menu_item_dungeonFree, menu_dungeonFree, 'Free')
if $dungeon ! 'fort' and sparks >= 10: FUNC('$menu', 'interaction_city', $menu_item_dungeonMedieval, menu_dungeonMedieval, 'Medieval')
if $dungeon ! 'entomb' and sparks >= 10: FUNC('$menu', 'interaction_city', $menu_item_dungeonStone, menu_dungeonStone, 'Stone sack')
if $dungeon ! 'econom' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_dungeonEconom, menu_dungeonEconom, 'Econom')
if $dungeon ! 'classic' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_dungeonClassical, menu_dungeonClassical, 'Classical')
if $dungeon ! 'pastoral' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_dungeonRustic, menu_dungeonRustic, 'Rustic')
FUNC('$menu', 'exec_options', $menu_item_Backfromdungeon, 'sp_txt = 4 & gt $curloc', 'Back')
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_1') 
if $dungeon ! 'gothic' and sparks >= 25: FUNC('$menu', 'interaction_city', $menu_item_dungeonNecro, menu_dungeonNecro, 'Necro-gothic')
if $dungeon ! 'executor' and sparks >= 25: FUNC('$menu', 'interaction_city', $menu_item_dungeonExecutioner, menu_dungeonExecutioner, 'Executioner')
if $dungeon ! 'slaver' and sparks >= 25: FUNC('$menu', 'interaction_city', $menu_item_dungeonSlaver, menu_dungeonSlaver, 'Slaver')
if $dungeon ! 'victorian' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_dungeonVictorian, menu_dungeonVictorian, 'Victorian')
if $dungeon ! 'elite' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_dungeonElite, menu_dungeonElite, 'Elite')
if $dungeon ! 'lux' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_dungeonLuxurious, menu_dungeonLuxurious, 'Luxurious')
FUNC('$menu', '===END===')
}

$realtor_options[46] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
if $bouduar ! 'basic' and sparks >= 0: FUNC('$menu', 'interaction_city', $menu_item_bouduarFree, menu_bouduarFree, 'Free')
if $bouduar ! 'econom' and sparks >= 10: FUNC('$menu', 'interaction_city', $menu_item_bouduarEconom, menu_bouduarEconom, 'Econom')
if $bouduar ! 'modern' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_bouduarModern, menu_bouduarModern, 'Modern')
if $bouduar ! 'comfy' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_bouduarComfy, menu_bouduarComfy, 'Comfy')
if $bouduar ! 'magic' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_bouduarWitch, menu_bouduarWitch, 'Witch')
FUNC('$menu', 'exec_options', $menu_item_Backfromdungeon, 'sp_txt = 4 & gt $curloc', 'Back')
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_1') 
if $bouduar ! 'victorian' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_bouduarVictorian, menu_bouduarVictorian, 'Victorian')
if $bouduar ! 'slaver' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_bouduarSlaver, menu_bouduarSlaver, 'Slaver')
if $bouduar ! 'fort' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_bouduarmedieval, menu_bouduarmedieval, 'Neo-medieval')
if $bouduar ! 'elite' and sparks >= 150: FUNC('$menu', 'interaction_city', $menu_item_bouduarElite, menu_bouduarElite, 'Elite')
if $bouduar ! 'gothic' and sparks >= 200: FUNC('$menu', 'interaction_city', $menu_item_bouduarNecro, menu_bouduarNecro, 'Necro-gothic')
if $bouduar ! 'lux' and sparks >= 250: FUNC('$menu', 'interaction_city', $menu_item_bouduarLuxurious, menu_bouduarLuxurious, 'Luxurious')
FUNC('$menu', '===END===')
}

$realtor_options[47] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
if $lab ! 'econom' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_labProfessor, menu_labProfessor, 'Professor')
if $lab ! 'basic' and sparks >= 20: FUNC('$menu', 'interaction_city', $menu_item_labWitch, menu_labWitch, 'Witch')
if $lab ! 'fort' and sparks >= 50: FUNC('$menu', 'interaction_city', $menu_item_labAlchemist, menu_labAlchemist, 'Alchemist')
if $lab ! 'gothic' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_labNecromancer, menu_labNecromancer, 'Necromancer')
if $lab ! 'slaver' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_labSlaver, menu_labSlaver, 'Slaver')
if $lab ! 'victorian' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_labVictorian, menu_labVictorian, 'Victorian')
if $lab ! 'elite' and sparks >= 100: FUNC('$menu', 'interaction_city', $menu_item_labElite, menu_labElite, 'Elite')
FUNC('$menu', 'exec_options', $menu_item_Backfromlab, 'sp_txt = 4 & gt $curloc', 'Back')
FUNC('$menu', '===END===')
}


!Central forum
$forum_options[1] = {
$sp_text[1] = "   Central forum provides huge opportunities to a person of your profession. There you can advertise yourself a little and put sticks in the wheels of rivals, or to collect information about the best potential buyers for your slave. And of course you can just communicate with the others." 
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 3)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0:
 FUNC('$menu', 'interaction_city', $menu_item_Findcustomers, menu_Findcustomers, 'Find potential customers')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Findcustomers_gray, empty, 'Find potential customers')
END
FUNC('$menu', 'interaction_city', $menu_item_Spreadrumors, 	menu_Spreadrumors, 'Spread rumors')
FUNC('$menu', 'exec_options', $menu_item_Specialmissions, 'sp_txt = 2 & gt $curloc', 'Special missions')
FUNC('$menu', 'city_form', $menu_item_Leaveforum, menu_Leaveforum, 'Leave the forum')
FUNC('$menu', '===END===')
}

$forum_options[2] = {
$sp_text[2] = "   At the forum you can periodically meet different interesting personalities who do not buy ordinary slaves, but are interested in special deals. Some of them offer some really interesting things." 
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
if active[$quest[6]] < 2: FUNC('$menu', 'interaction_city', $menu_item_Aramus, menu_Aramus, 'Quartermaster Aramus')
if active[$quest[7]] < 2: FUNC('$menu', 'interaction_city', $menu_item_Vujin, menu_Vujin, 'Vujin the Wise')
if active[$quest[8]] < 2: FUNC('$menu', 'interaction_city', $menu_item_Garsid, menu_Garsid, 'Garsid the Inseminator')
if active[$quest[9]] < 2: FUNC('$menu', 'interaction_city', $menu_item_Valios, menu_Valios, 'Master Valios')
FUNC('$menu', 'exec_options', $menu_item_Lookaround, 'sp_txt = 1 & gt $curloc', 'Look around')
FUNC('$menu', '===END===')
}

!Animal farm
$farm_options[1] = {
$sp_text[1] = '   Very long barrack filled with cramped stalls where contains interspersed people and animals. The smell here is very nasty. But business is business.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_merchandisefarm, menu_merchandisefarm, 'Offer merchandise')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_merchandisefarm_gray, empty, 'Offer merchandise')
END
FUNC('$menu', 'interaction_city', $menu_item_requirementsfarm, menu_requirementsfarm, 'Ask about requirements')
FUNC('$menu', 'city_form', $menu_item_Leavefarm, menu_Leavefarm, 'Leave the animal farm')
FUNC('$menu', '===END===')
}

!Base camp
$warcamp_options[1] = {
$sp_text[1] = '   Places there are unsafe, but you can feel relatively safe behind a hastily built fence of base camp.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_employeecamp, menu_employeecamp, 'Offer an employee')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_employeecamp_gray, empty, 'Offer an employee')
END
FUNC('$menu', 'interaction_city', $menu_item_requirementscamp, menu_requirementscamp, 'Ask about requirements')
FUNC('$menu', 'city_form', $menu_item_Leavecamp, menu_Leavecamp, 'Leave the base camp')
FUNC('$menu', '===END===')
}

!anatomical theater
$morgue_options[1] = {
npc = 1
$sp_text[1] = '   Considering the level of artists mortality, Malifistsent should always need a new girls. It is a good business opportunity!'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_Offerartist, menu_Offerartist, 'Offer an artist')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Offerartist_gray, empty, 'Offer an artist')
END
FUNC('$menu', 'interaction_city', $menu_item_requirementstheater, menu_requirementstheater, 'Ask about requirements')
FUNC('$menu', 'city_form', $menu_item_Leavetheater, menu_Leavetheater, 'Leave the theater')
FUNC('$menu', '===END===')
}

!smugglers den
$smugler_options[1] = {
$sp_text[1] = '   On this dark street, few people can feel comfortable. But this is where you can set up a meeting to the right people who do not want to attract too much attention.'
$text_display = '<br><br>'
FUNC('$menu', '===BEGIN===', 'column_0') 
IF slave_state = CONST_INT['no_slave'] and sparks >= 2000:
 FUNC('$menu', 'exec_options', $menu_item_Orderparcel, 'sp_txt = 2 & gt $curloc', 'Order parcel (2000$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Orderparcel_gray, empty, 'Order parcel (2000$)')
END
IF helen = 0 and slave_state = CONST_INT['no_slave'] and sparks >= 3000:
 FUNC('$menu', 'interaction_city', $menu_item_BuyHelen, menu_BuyHelen, 'Buy Helen (3000$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_BuyHelen_gray, empty, 'Buy Helen (3000$)')
END
IF yasmin = 0 and slave_state = CONST_INT['no_slave'] and sparks >= 3000:
 FUNC('$menu', 'interaction_city', $menu_item_BuyYasmin, menu_BuyYasmin, 'Buy Yasmin (3000$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_BuyYasmin_gray, empty, 'Buy Yasmin (3000$)')
END
IF pen > 0 and pet_tentacle = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Buyfog, menu_Buyfog, 'Buy a fog fiend (100$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Buyfog_gray, empty, 'Buy a fog fiend (100$)')
END
FUNC('$menu', 'interaction_city', $menu_item_aboutsmug, menu_aboutsmug, 'Ask about smuggling')
FUNC('$menu', 'city_form', $menu_item_Leavelair, menu_Leavelair, 'Leave the lair')
FUNC('$menu', '===END===')
}

$smugler_options[2] = {
$sp_text[2] = '   Training scheme for all our slaves are standard, appearance too. Clones, you know. But you can select the desired age category.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'interaction_city', $menu_item_Choosemature, menu_Choosemature, 'Choose mature')
FUNC('$menu', 'interaction_city', $menu_item_Chooseyoung, menu_Chooseyoung, 'Choose young')
FUNC('$menu', 'interaction_city', $menu_item_Chooseimmature, menu_Chooseimmature, 'Choose immature')
FUNC('$menu', 'exec_options', $menu_item_nobuy, 'sp_txt = 1 & gt $curloc', 'Change your mind')
FUNC('$menu', '===END===')
}


!white palace
$palace_options[1] = {
npc = 0
$place = 'palace'
$text_display = '<br><br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF faction_fame['taurus'] >= 3:
 $sp_text[1] = '   I was allowed to enter the White Palace. It remains only to choose whom offer my services.'
 if npc_progress['bishop_molaru'] < 2: FUNC('$menu', 'interaction_city', $menu_item_archbishoppalace, menu_archbishoppalace, 'Audience with archbishop')
 if npc_progress['general_barabas'] < 2: FUNC('$menu', 'interaction_city', $menu_item_generalpalace, menu_generalpalace, 'Audience with general')
 if npc_progress['pretor_siegfrid'] < 2: FUNC('$menu', 'interaction_city', $menu_item_praetorpalace, menu_praetorpalace, 'Audience with praetor')
 else
 $place = 'palace_gate'
 $text_display += '<br><br><br><br>' 
 $sp_text[1] = '   At the entrance of the White Palace watchful guards on duty. They will not allow strangers here.'
END
IF faction_fame['taurus'] >= 4:
 $sp_text[1] = '   I was allowed to see the King. I will need to meet with him and try to fulfill his assignment.'
 if npc_progress['taurus_king'] < 2: FUNC('$menu', 'interaction_city', $menu_item_Kingpalace, menu_Kingpalace, 'Audience with King')
END
IF npc_progress['taurus_king'] = 2 and faction_fame['taurus'] = 4:
 $sp_text[1] = '   King pleased with his order. Nevertheless, I can not become a patrician of Taurus House, because I''m already a patrician.'
END
IF faction_fame['taurus'] = 5 and npc_progress['taurus_king'] = 2 and noble_status = 1:
 $sp_text[1] = '   Now I''m noble and patrician of Taurus House. If I need help, I can always rely on the King.'
END
FUNC('$menu', 'city_form', $menu_item_Leavepalace, menu_Leavepalace, 'Leave')
FUNC('$menu', '===END===')
}

!Administrative spires
$spire_options[1] = {
$place = 'spire'
$text_display = '<br><br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF faction_fame['serpis'] >= 3:
 $sp_text[1] = '   So, I''m inside. It remains only to choose whom to offer my services.'
 if npc_progress['bishop_porter'] < 2: FUNC('$menu', 'interaction_city', $menu_item_archbishopspires, menu_archbishopspires, 'Audience with archbishop')
 if npc_progress['general_drago'] < 2: FUNC('$menu', 'interaction_city', $menu_item_generalspires, menu_generalspires, 'Audience with general')
 if npc_progress['pretor_diabaz'] < 2: FUNC('$menu', 'interaction_city', $menu_item_praetorspires, menu_praetorspires, 'Audience with praetor')
 else
 $place = 'spire_gate'
 if nsfw = 1: not_safe = 1
 $text_display += '<br><br><br><br>' 
 $sp_text[1] = '   At the entrance of the Administrative Spires watchful guards on duty. They will not allow strangers here.'
END
IF faction_fame['serpis'] >= 4:
 $sp_text[1] = '   I was allowed to see the President. I will need to meet with him and try to fulfill his assignment.'
 if npc_progress['serpis_prince_first'] < 2: FUNC('$menu', 'interaction_city', $menu_item_Presidentspires, menu_Presidentspires, 'Audience with President')
END
IF npc_progress['serpis_prince_first'] = 2 and faction_fame['taurus'] = 4:
 $sp_text[1] = '   President pleased with his order. Nevertheless, I can not become a patrician of Serpis House, because I''m already a patrician.'
END
IF faction_fame['serpis'] = 5 and npc_progress['serpis_prince_first'] = 2 and noble_status = 1:
 $sp_text[1] = '   Now I''m noble and patrician of Serpis House. If I need help, Mr. President will help me.'
END
FUNC('$menu', 'city_form', $menu_item_Leavespires, menu_Leavespires, 'Leave')
FUNC('$menu', '===END===')
}

!Tierra del Citadel
$citadel_options[1] = {
$place = 'citadel'
$text_display = '<br><br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF faction_fame['kamira'] >= 3:
 $sp_text[1] = '   Beastmen allowed me to enter into the Tierra del Citadel. It remains only to choose whom to offer my services.'
 if npc_progress['bishop_shaitana'] < 2: FUNC('$menu', 'interaction_city', $menu_item_archbishopCitadel, menu_archbishopCitadel, 'Audience with archbishop')
 if npc_progress['general_carnis'] < 2: FUNC('$menu', 'interaction_city', $menu_item_generalCitadel, menu_generalCitadel, 'Audience with general')
 if npc_progress['pretor_tifaret'] < 2: FUNC('$menu', 'interaction_city', $menu_item_praetorCitadel, menu_praetorCitadel, 'Audience with praetor')
 else
 $place = 'citadel_gate'
 $text_display += '<br><br><br><br>' 
 $sp_text[1] = '   At the entrance to the Tierra del Citadel watchful guards on duty. They will not allow strangers here.'
END
IF faction_fame['kamira'] >= 4:
 $sp_text[1] = '   I was allowed to see Mistress. I will need to meet with her and try to fulfill her assignment.'
 if npc_progress['tiamath'] < 2: FUNC('$menu', 'interaction_city', $menu_item_MistressCitadel, menu_MistressCitadel, 'Audience with Mistress')
END
IF npc_progress['tiamath'] = 2 and faction_fame['kamira'] = 4:
 $sp_text[1] = '   Tiamat pleased with her order. Nevertheless, I can not become a patrician of Camira House, because I''m already a patrician.'
END
IF faction_fame['kamira'] = 5 and npc_progress['tiamath'] = 2 and noble_status = 1:
 $sp_text[1] = '   Now I''m noble and patrician of Camira House. If I need help, Tiamat will not fail me.'
END
FUNC('$menu', 'city_form', $menu_item_LeaveCitadel, menu_LeaveCitadel, 'Leave')
FUNC('$menu', '===END===')
}

!Raven tower
$tower_options[1] = {
$place = 'tower'
$text_display = '<br><br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF faction_fame['korvus'] >= 3:
 $sp_text[1] = '   Ghouls trust me. Now I can go into the Raven Tower. It remains only to choose whom to offer my services.'
 if npc_progress['bishop_nerilis'] < 2: FUNC('$menu', 'interaction_city', $menu_item_archbishoptower, menu_archbishoptower, 'Audience with archbishop')
 if npc_progress['hand_of_the_knyaz'] < 2: FUNC('$menu', 'interaction_city', $menu_item_righthandtower, menu_righthandtower, 'Audience with the right hand')
 if npc_progress['pretor_kamael'] < 2: FUNC('$menu', 'interaction_city', $menu_item_praetortower, menu_praetortower, 'Audience with praetor')
 else
 $place = 'tower_gate'
 $sp_text[1] = '   Undead Knight stands unchallenged on Raven Tower guard. Try to pass him without invitation is tantamount to suicide.'
 $text_display += '<br><br><br><br>' 
END
IF faction_fame['korvus'] >= 4:
 $sp_text[1] = '   I was allowed to see the Prince. I will need to meet with him and try to fulfill his assignment.'
 if npc_progress['korvus_knyaz'] < 2: FUNC('$menu', 'interaction_city', $menu_item_Princetower, menu_Princetower, 'Audience with Prince')
END
IF npc_progress['korvus_knyaz'] = 2 and faction_fame['korvus'] = 4:
 $sp_text[1] = '   Prince pleased with his order. Nevertheless, I can not become a patrician of Corvus House, because I''m already a patrician.'
END
IF faction_fame['korvus'] = 5 and npc_progress['korvus_knyaz'] = 2 and noble_status = 1:
 $sp_text[1] = '   Now I''m noble and patrician of Corvus House. If I need help, Prince will support me.'
END
FUNC('$menu', 'city_form', $menu_item_Leavetower, menu_Leavetower, 'Leave')
FUNC('$menu', '===END===')
}

!Vatican
$vatican_options[1] = {
$place = 'vatican'
$text_display = '<br><br><br>'
FUNC('$menu', 'spacer', 3)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF brand_reputation >= 5:
 IF npc_progress['cardinal_de_mujlon'] < 2: 
  $sp_text[1] = '   To get to the Pope, I need to perform a service for Cardinal.'
  FUNC('$menu', 'interaction_city', $menu_item_CardinalVatican, menu_CardinalVatican, 'Audience with Cardinal')
  else
  $text_display += '<br><br>' 
 END
 IF npc_progress['cardinal_de_mujlon'] = 2 and npc_progress['pope'] < 2:
  $sp_text[1] = '   Now I can meet with the Pope. I will need to meet with him and try to fulfill his assignment.'
  FUNC('$menu', 'interaction_city', $menu_item_PopeVatican, menu_PopeVatican, 'Audience with Pope')
  else
  $text_display += '<br><br>' 
 END
 IF npc_progress['pope'] = 2 and noble_status = 1:
  $sp_text[1] = '   Now I''m noble and patrician of White Town. If I need help, Pope will help me.'
 END
 else
 $place = 'vatican_gate'
 $sp_text[1] = '   Vatican gates are guarded very vigilant. To go there I need a special invitation.'
 $text_display += '<br><br><br><br>'
END
FUNC('$menu', 'city_form', $menu_item_LeaveVatican, menu_LeaveVatican, 'Leave')
FUNC('$menu', '===END===')
}

!Gentleman`s club
$club_options[1] = {
$sp_text[1] = '   Sir Shelley''s Gentleman''s club provides great opportunities not only for leisure but also for business. Here you can find a lot of potential customers, or at least to sell slaves to owner himself.'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
if club_member = 0: FUNC('$menu', 'interaction_city', $menu_item_Joinclub, menu_Joinclub, 'Join the club')
if club_member = 1: FUNC('$menu', 'exec_options', $menu_item_Visitclub, 'sp_txt = 2 & gt $curloc', 'Visit the club')
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_employeeclub, menu_employeeclub, 'Offer an employee')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_employeeclub_gray, empty, 'Offer an employee')
END
FUNC('$menu', 'interaction_city', $menu_item_requirementsclub, menu_requirementsclub, 'Ask about requirements')
FUNC('$menu', 'city_form', $menu_item_Leaveclub, menu_Leaveclub, 'Leave the club')
FUNC('$menu', '===END===')
}

$club_options[2] = {
$sp_text[2] = '   You walk inside and surrenders to entertainment befitting a respectable gentleman. Alcohol, cigars, cards, conversations about politics and of course the lovely maids and actresses... But you must not forget about the business.'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
FUNC('$menu', 'interaction_city', $menu_item_clubM1, menu_clubM1, 'Don Karbolio')
FUNC('$menu', 'interaction_city', $menu_item_clubM2, menu_clubM2, 'Don Sigismund')
FUNC('$menu', 'interaction_city', $menu_item_clubM3, menu_clubM3, 'Don Sorino')
FUNC('$menu', 'interaction_city', $menu_item_rumorsclub, menu_rumorsclub, 'Spread rumors')
FUNC('$menu', 'interaction_city', $menu_item_relaxclub, menu_relaxclub, 'Rest and relax')
FUNC('$menu', 'interaction_city', $menu_item_Backclub, menu_Backclub, 'Back')
FUNC('$menu', 'city_form', $menu_item_Leaveclub, menu_Leaveclub, 'Leave the club')
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_1') 
FUNC('$menu', 'interaction_city', $menu_item_clubM4, menu_clubM4, 'Don Bobrit')
FUNC('$menu', 'interaction_city', $menu_item_clubM5, menu_clubM5, 'Don Mladio')
FUNC('$menu', 'interaction_city', $menu_item_clubM6, menu_clubM6, 'Don Sedos')
FUNC('$menu', '===END===')
}

!Isabella
$isabella_options[1] = {
$sp_text[1] = '     [Isabella]
  - So, <<$master_name>>, we have an agreement, or what?'
$text_display = '<br><br><br><br><br><br><br><br><br><br>'
if nsfw = 0: $text_display += '<div id="center_Isabella"><img src="content\pic\girls\full\isabela.gif"></div>' 

FUNC('$menu', '===BEGIN===', 'centermenu')
FUNC('$menu', 'interaction_city', $menu_item_acceptIsabella, menu_acceptIsabella, 'Lead Isabella to the Rome')
FUNC('$menu', 'city_form', $menu_item_refuseIsabella, menu_refuseIsabella, 'She is too dangerous')
FUNC('$menu', '===END===')
}

!"Shira
$shira_options[1] = {
$sp_text[1] = '     [Shira]
  - So, <<$master_name>>, we have an agreement, or what?'
$text_display = '<br><br><br><br><br>'
FUNC('$menu', 'spacer', 4)
FUNC('$menu', '===BEGIN===', 'center')
FUNC('$menu', 'interaction_city', $menu_item_acceptIsabella, menu_acceptIsabella, 'Accept Shira''s deal')
FUNC('$menu', 'city_form', $menu_item_refuseIsabella, menu_refuseIsabella, 'Refuse Shira''s deal')
FUNC('$menu', '===END===')
}"
!Salon of Madame Jofre
$brothel_options[1] = {
$text_display = '<br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0') 
IF sparks >= 1 and master_energy > 0:
 FUNC('$menu', 'exec_options', $menu_item_Fastservice, 'sp_txt = 2 & gt $curloc', 'Fast service (1$)')
 else
 FUNC('$menu', 'location_gray', $menu_item_Fastservice_gray, empty, 'Fast service (1$)')
END
IF sparks >= 5 and master_energy > 0:
 FUNC('$menu', 'exec_options', $menu_item_Standardservice, 'sp_txt = 3 & gt $curloc', 'Standard service (5$)')
 else
 FUNC('$menu', 'location_gray', $menu_item_Standardservice_gray, empty, 'Standard service (5$)')
END
IF sparks >= 15 and master_energy > 0:
 FUNC('$menu', 'exec_options', $menu_item_Eliteservice, 'sp_txt = 4 & gt $curloc', 'Elite service (15$)')
 else
 FUNC('$menu', 'location_gray', $menu_item_Eliteservice_gray, empty, 'Elite service (15$)')
END
FUNC('$menu', 'interaction_city', $menu_item_prefbrothel, menu_prefbrothel, 'Check for preferences')
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_Offerbrothel, menu_Offerbrothel, 'Offer a slave')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Offerbrothel_gray, empty, 'Offer a slave')
END
FUNC('$menu', 'city_form', $menu_item_Leavebrothel, menu_Leavebrothel, 'Leave the salon')
FUNC('$menu', '===END===')
}

$brothel_options[2] = {
$text_display = '<br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Fastsex, menu_Fastsex, 'Fast sex')
FUNC('$menu', 'interaction_city', $menu_item_Analsex, menu_Analsex, 'Anal sex')
FUNC('$menu', 'interaction_city', $menu_item_Fastblowjob, menu_Fastblowjob, 'Fast blowjob')
FUNC('$menu', 'interaction_city', $menu_item_Fastpazuri, menu_Fastpazuri, 'Fast pazuri')
FUNC('$menu', 'interaction_city', $menu_item_Sexlolita, menu_Sexlolita, 'Sex with lolita')
FUNC('$menu', 'exec_options', $menu_item_Changeselection, 'sp_txt = 1 & gt $curloc', 'Change selection')
FUNC('$menu', '===END===')
}

$brothel_options[3] = {
$text_display = '<br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Twins, menu_Twins, 'Twins')
FUNC('$menu', 'interaction_city', $menu_item_Threelolita, menu_Threelolita, 'Three lolita')
FUNC('$menu', 'interaction_city', $menu_item_Fivegirls, menu_Fivegirls, 'Five girls')
FUNC('$menu', 'interaction_city', $menu_item_Mistressslave, menu_Mistressslave, 'Mistress and slave')
FUNC('$menu', 'interaction_city', $menu_item_Exoticsex, menu_Exoticsex, 'Exotic sex')
FUNC('$menu', 'exec_options', $menu_item_Changeselection, 'sp_txt = 1 & gt $curloc', 'Change selection')
FUNC('$menu', '===END===')
}

$brothel_options[4] = {
$text_display = '<br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Motherdaughter, menu_Motherdaughter, 'Mother and daughter')
FUNC('$menu', 'interaction_city', $menu_item_Sixlolitas, menu_Sixlolitas, 'Six lolitas')
FUNC('$menu', 'interaction_city', $menu_item_Sevengirls, menu_Sevengirls, 'Seven girls')
FUNC('$menu', 'interaction_city', $menu_item_Doubleexotic, menu_Doubleexotic, 'Double exotic')
FUNC('$menu', 'interaction_city', $menu_item_Exotictwins, menu_Exotictwins, 'Exotic twins')
FUNC('$menu', 'exec_options', $menu_item_Changeselection, 'sp_txt = 1 & gt $curloc', 'Change selection')
FUNC('$menu', '===END===')
}

!$brothel_options[5] = {
$text_display = '<br>'
!$text_display += {<br><div id="under">Lesson for slave<br><div id = "clear"><a href = 'EXEC: interaction_city = 2251 & gt "interaction_city"'><img src = "content\pic\clear.gif"></a></div></div>}
!$text_display += {<br><div id="under">Personal lesson<br><div id = "clear"><a href = 'EXEC: interaction_city = 2252 & gt "interaction_city"'><img src = "content\pic\clear.gif"></a></div></div>}
$text_display += {<br><div id="under_gray">Lesson for slave<br></div>}
$text_display += {<br><div id="under_gray">Personal lesson<br></div>}
$text_display += {<br><div id="under">Check preferences of the proprietress<div id = "clear"><a href = 'EXEC: interaction_city = 2253 & gt "interaction_city"'><img src = "content\pic\clear.gif"></a></div></div>}
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 $text_display += {<div id="under">Offer a slave<br><div id = "clear"><a href = 'EXEC: interaction_city = 2254 & gt "interaction_city"'><img src = "content\pic\clear.gif"></a></div></div>}
 else
 $text_display += {<div id="under_gray">Offer a slave<br></div>}
END
$text_display += {<br><div id="under">End conversation<br><div id = "clear"><a href = 'EXEC: sp_txt = 1 & gt $curloc'><img src = "content\pic\clear.gif"></a></div></div>}
}

!Boutique
$boutic_options[1] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'exec_options', $menu_item_Menswear, 'sp_txt = 6 & gt $curloc', 'Menswear')
IF slave_state > CONST_INT['no_slave']:
 FUNC('$menu', 'exec_options', $menu_item_Women_uniform, 'sp_txt = 2 & gt $curloc', 'Women`s uniform')
 FUNC('$menu', 'exec_options', $menu_item_ladieswear, 'sp_txt = 3 & gt $curloc', 'Fashionable ladieswear')
 FUNC('$menu', 'exec_options', $menu_item_Gloves, 'sp_txt = 4 & gt $curloc', 'Gloves')
 FUNC('$menu', 'exec_options', $menu_item_Shoes, 'sp_txt = 5 & gt $curloc', 'Shoes')
 else
 FUNC('$menu', 'location_gray', $menu_item_Women_uniform_gray, empty, 'Women`s uniform')
 FUNC('$menu', 'location_gray', $menu_item_ladieswear_gray, empty, 'Fashionable ladieswear')
 FUNC('$menu', 'location_gray', $menu_item_Gloves_gray, empty, 'Gloves')
 FUNC('$menu', 'location_gray', $menu_item_Shoes_gray, empty, 'Shoes')
END
FUNC('$menu', 'interaction_city', $menu_item_prefBoutique, menu_prefBoutique, 'Check preferences')
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_employeeBoutique, menu_employeeBoutique, 'Offer an employee')
 else
 FUNC('$menu', 'location_gray', $menu_item_employeeBoutique_gray, empty, 'Offer an employee')
END
FUNC('$menu', 'city_form', $menu_item_LeaveBoutique, menu_LeaveBoutique, 'Leave the shop')
FUNC('$menu', '===END===')
}

$boutic_options[2] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Frilly_apron, menu_Frilly_apron, 'Frilly apron')
FUNC('$menu', 'interaction_city', $menu_item_Maid_outfit, menu_Maid_outfit, 'Maid outfit')
FUNC('$menu', 'interaction_city', $menu_item_Nurse_outfit, menu_Nurse_outfit, 'Nurse outfit')
FUNC('$menu', 'interaction_city', $menu_item_Sorceress_robes, menu_Sorceress_robes, 'Sorceress robes')
FUNC('$menu', 'exec_options', $menu_item_boutic_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_1')
FUNC('$menu', 'interaction_city', $menu_item_Athletic_leotard, menu_Athletic_leotard, 'Athletic leotard')
FUNC('$menu', 'interaction_city', $menu_item_Chainmail_bikini, menu_Chainmail_bikini, 'Chainmail bikini')
FUNC('$menu', 'interaction_city', $menu_item_Kimono_yukata, menu_Kimono_yukata, 'Kimono yukata')
FUNC('$menu', 'interaction_city', $menu_item_School_uniform, menu_School_uniform, 'School uniform')
FUNC('$menu', '===END===')
}

$boutic_options[3] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Light_sundress, menu_Light_sundress, 'Light sundress')
FUNC('$menu', 'interaction_city', $menu_item_Lace_underwear, menu_Lace_underwear, 'Lace underwear')
FUNC('$menu', 'interaction_city', $menu_item_Gown_boutic, menu_Gown_boutic, 'Gown')
FUNC('$menu', 'interaction_city', $menu_item_Latex_dress, menu_Latex_dress, 'Latex dress')
FUNC('$menu', 'exec_options', $menu_item_boutic_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_1')
FUNC('$menu', 'interaction_city', $menu_item_Exotic_outfit, menu_Exotic_outfit, 'Exotic outfit')
FUNC('$menu', 'interaction_city', $menu_item_Leather_corset, menu_Leather_corset, 'Leather corset')
FUNC('$menu', 'interaction_city', $menu_item_Gorgeous_dress, menu_Gorgeous_dress, 'Gorgeous dress')
FUNC('$menu', 'interaction_city', $menu_item_Wedding_dress, menu_Wedding_dress, 'Wedding dress')
FUNC('$menu', '===END===')
}

$boutic_options[4] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Rubber_gloves, menu_Rubber_gloves, 'Rubber gloves')
FUNC('$menu', 'interaction_city', $menu_item_Lace_gloves, menu_Lace_gloves, 'Lace gloves')
FUNC('$menu', 'interaction_city', $menu_item_Fiber_gloves, menu_Fiber_gloves, 'Fiber gloves')
FUNC('$menu', 'interaction_city', $menu_item_Fluffy_paws, menu_Fluffy_paws, 'Fluffy paws')
FUNC('$menu', 'interaction_city', $menu_item_Leather_gloves, menu_Leather_gloves, 'Leather gloves')
FUNC('$menu', 'exec_options', $menu_item_boutic_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
FUNC('$menu', '===END===')
}

$boutic_options[5] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Tabi_socks, menu_Tabi_socks, 'Tabi socks')
FUNC('$menu', 'interaction_city', $menu_item_Soft_slippers, menu_Soft_slippers, 'Soft slippers')
FUNC('$menu', 'interaction_city', $menu_item_Pointes_boutic, menu_Pointes_boutic, 'Pointes')
FUNC('$menu', 'interaction_city', $menu_item_Sneakers_boutic, menu_Sneakers_boutic, 'Sneakers')
FUNC('$menu', 'interaction_city', $menu_item_Heels_boutic, menu_Heels_boutic, 'Heels')
FUNC('$menu', 'interaction_city', $menu_item_Boots_boutic, menu_Boots_boutic, 'Boots')
FUNC('$menu', 'exec_options', $menu_item_boutic_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
FUNC('$menu', '===END===')
}

$boutic_options[6] = {
 FUNC('$menu', 'spacer', 1)

 FUNC('$menu', '===BEGIN===', 'column_0')
 IF sparks >= 10:
  if formal_suit < 1 and $master_cloth ! "formal_suit":
   FUNC('$menu', 'interaction_city', $menu_item_Formal_suit, menu_Formal_suit, 'Formal suit')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Formal_suit_gray, empty, 'Formal suit')
  END
  if medic_robes < 1 and $master_cloth ! "medic_robes":
   FUNC('$menu', 'interaction_city', $menu_item_Medical_gown, menu_Medical_gown, 'Medical gown')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Medical_gown_gray, empty, 'Medical gown')
  END
  if wizard_robes < 1 and $master_cloth ! "wizard_robes":
   FUNC('$menu', 'interaction_city', $menu_item_Wizard_robe, menu_Wizard_robe, 'Wizard robe')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Wizard_robe_gray, empty, 'Wizard robe')
  END
  if comfy_robes < 1 and $master_cloth ! "comfy_robes":
   FUNC('$menu', 'interaction_city', $menu_item_Housecoat, menu_Housecoat, 'Housecoat')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Housecoat_gray, empty, 'Housecoat')
  END
 END
 FUNC('$menu', 'exec_options', $menu_item_boutic_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
 FUNC('$menu', '===END===')
 FUNC('$menu', 'spacer', 1)

 FUNC('$menu', '===BEGIN===', 'column_1')
 IF sparks >= 10:
  if fancy_suit < 1 and $master_cloth ! "fancy_suit":
   FUNC('$menu', 'interaction_city', $menu_item_Fashionable_attire, menu_Fashionable_attire, 'Fashionable attire')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Fashionable_attire_gray, empty, 'Fashionable attire')
  END
  if aketon < 1 and $master_cloth ! "aketon":
   FUNC('$menu', 'interaction_city', $menu_item_Aketon, menu_Aketon, 'Aketon')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Aketon_gray, empty, 'Aketon')
  END
  if livery < 1 and $master_cloth ! "livery":
   FUNC('$menu', 'interaction_city', $menu_item_Livery, menu_Livery, 'Livery')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Livery_gray, empty, 'Livery')
  END
  else
  FUNC('$menu', 'location_gray', $menu_item_Formal_suit_gray, empty, 'Formal suit')
  FUNC('$menu', 'location_gray', $menu_item_Medical_gown_gray, empty, 'Medical gown')
  FUNC('$menu', 'location_gray', $menu_item_Wizard_robe_gray, empty, 'Wizard robe')
  FUNC('$menu', 'location_gray', $menu_item_Housecoat_gray, empty, 'Housecoat')
  FUNC('$menu', 'location_gray', $menu_item_Fashionable_attire_gray, empty, 'Fashionable attire')
  FUNC('$menu', 'location_gray', $menu_item_Aketon_gray, empty, 'Aketon')
  FUNC('$menu', 'location_gray', $menu_item_Livery_gray, empty, 'Livery')
 END
 IF sparks >= 20:
  if regal_suit < 1 and $master_cloth ! "regal_suit":
   FUNC('$menu', 'interaction_city', $menu_item_Noble_regalia, menu_Noble_regalia, 'Noble regalia')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Noble_regalia_gray, empty, 'Noble regalia')
  END
  else
  FUNC('$menu', 'location_gray', $menu_item_Noble_regalia_gray, empty, 'Noble regalia')
 END
END
FUNC('$menu', '===END===')
}

!Jewelry store
$jeweler_options[1] = {
 FUNC('$menu', 'spacer', 1)

 FUNC('$menu', '===BEGIN===', 'column_0')
 IF slave_state > CONST_INT['no_slave']:
  FUNC('$menu', 'exec_options', $menu_item_Women_jewelry, 'sp_txt = 2 & gt $curloc', 'Women`s jewelry')
  FUNC('$menu', 'exec_options', $menu_item_Fash_accessories, 'sp_txt = 4 & gt $curloc', 'Fashionable accessories')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_Women_jewelry_gray, empty, 'Women`s jewelry')
  FUNC('$menu', 'location_gray', $menu_item_Fash_accessories_gray, empty, 'Fashionable accessories')
 END
!$text_display += {<br><div id="under">Men`s jewelry<br><div id = "clear"><a href = 'EXEC: sp_txt = 3 & gt $curloc'><img src = "content\pic\clear.gif"></a></div></div>}
 FUNC('$menu', 'interaction_city', $menu_item_prefJewelry, menu_prefJewelry, 'Check preferences')
 IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
  FUNC('$menu', 'interaction_city', $menu_item_employeeJewelry, menu_employeeJewelry, 'Offer an employee')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_employeeJewelry_gray, empty, 'Offer an employee')
 END
END
FUNC('$menu', 'city_form', $menu_item_LeaveJewelry, menu_LeaveJewelry, 'Leave the shop')
FUNC('$menu', '===END===')
}

$jeweler_options[2] = {
$text_display = '<br>'
FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Elegant_ring, menu_Elegant_ring, 'Elegant ring')
FUNC('$menu', 'interaction_city', $menu_item_Shiny_earrings, menu_Shiny_earrings, 'Shiny earrings')
FUNC('$menu', 'interaction_city', $menu_item_Chain_pendant, menu_Chain_pendant, 'Chain with pendant')
FUNC('$menu', 'interaction_city', $menu_item_Ornamented_diadem, menu_Ornamented_diadem, 'Ornamented diadem')
FUNC('$menu', 'interaction_city', $menu_item_Gemstone_ring, menu_Gemstone_ring, 'Gemstone ring')
FUNC('$menu', 'interaction_city', $menu_item_Gemstone_earrings, menu_Gemstone_earrings, 'Gemstone earrings')
FUNC('$menu', 'interaction_city', $menu_item_Gemstone_necklace, menu_Gemstone_necklace, 'Gemstone necklace')
FUNC('$menu', 'interaction_city', $menu_item_Precious_tiara, menu_Precious_tiara, 'Precious tiara')
FUNC('$menu', 'exec_options', $menu_item_jeweler_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
FUNC('$menu', '===END===')
}

!$jeweler_options[3] = {
$text_display = '<br><br>'
$text_display += {<br><div id="under">Other goods<div id = "clear"><a href = 'EXEC: sp_txt = 1 & gt $curloc'><img src = "content\pic\clear.gif"></a></div></div>}
}

$jeweler_options[4] = {
$text_display = '<br>'
FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Headband_jeweler, menu_Headband_jeweler, 'Headband')
FUNC('$menu', 'interaction_city', $menu_item_Hijab_jeweler, menu_Hijab_jeweler, 'Hijab')
FUNC('$menu', 'interaction_city', $menu_item_Stylish_glasses, menu_Stylish_glasses, 'Stylish glasses')
FUNC('$menu', 'interaction_city', $menu_item_Cat_ears, menu_Cat_ears, 'Cat ears')
FUNC('$menu', 'interaction_city', $menu_item_Ornamented_collar, menu_Ornamented_collar, 'Ornamented collar')
FUNC('$menu', 'interaction_city', $menu_item_Hairnet_jeweler, menu_Hairnet_jeweler, 'Hairnet')
FUNC('$menu', 'interaction_city', $menu_item_Exotic_wig, menu_Exotic_wig, 'Exotic wig')
FUNC('$menu', 'exec_options', $menu_item_jeweler_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
FUNC('$menu', '===END===')
}

!beauty salon
$beauty_options[1] = {
FUNC('$menu', '===BEGIN===', 'column_0')
 FUNC('$menu', 'exec_options', $menu_item_Services_men, 'sp_txt = 2 & gt $curloc', 'Services for men')
 IF slave_state = CONST_INT['slave_exist']:
  IF slave["massaged"] = 0: 
   FUNC('$menu', 'interaction_city', $menu_item_Spa_massage, menu_Spa_massage, 'Spa and massage (3$)')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Spa_massage_gray, empty, 'Spa and massage')
  END
  IF slave["hairstyle"] ! 7:
   FUNC('$menu', 'interaction_city', $menu_item_hairstyle, menu_hairstyle, 'Fashionable hairstyle (3$)')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_hairstyle_gray, empty, 'Fashionable hairstyle')
  END
  IF slave["epilation"] < 12:
   FUNC('$menu', 'interaction_city', $menu_item_Waxing, menu_Waxing, 'Waxing (3$)')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Waxing_gray, empty, 'Waxing')
  END
  IF slave["manicure"] < 5:
   FUNC('$menu', 'interaction_city', $menu_item_manicure, menu_manicure, 'Makeup and manicure(3$)')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_manicure_gray, empty, 'Makeup and manicure')
  END
  IF slave["manicure"] < 5 and slave["epilation"] < 12 and slave["hairstyle"] ! 7:
   FUNC('$menu', 'interaction_city', $menu_item_treatment9, menu_treatment9, 'Full beauty service(9$)')
   elseif slave["manicure"] < 5 and slave["epilation"] > 12 and slave["hairstyle"] ! 7:
   FUNC('$menu', 'interaction_city', $menu_item_treatment6, menu_treatment6, 'Full beauty service(6$)')
   else
   FUNC('$menu', 'location_gray', $menu_item_treatment0_gray, empty, 'Full beauty treatment')
  END
  else
  FUNC('$menu', 'location_gray', $menu_item_Spa_massage_gray, empty, 'Spa and massage')
  FUNC('$menu', 'location_gray', $menu_item_hairstyle_gray, empty, 'Fashionable hairstyle')
  FUNC('$menu', 'location_gray', $menu_item_Waxing_gray, empty, 'Waxing')
  FUNC('$menu', 'location_gray', $menu_item_manicure_gray, empty, 'Make-Up and manicure')
  FUNC('$menu', 'location_gray', $menu_item_treatment_gray, empty, 'Full beauty treatment')
 END
 FUNC('$menu', 'interaction_city', $menu_item_preferencesbeauty, menu_preferencesbeauty, 'Check preferences')
 IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
  FUNC('$menu', 'interaction_city', $menu_item_employeebeauty, menu_employeebeauty, 'Offer an employee')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_employeebeauty_gray, empty, 'Offer an employee')
 END
FUNC('$menu', 'city_form', $menu_item_Leavebeauty, menu_Leavebeauty, 'Leave the shop')
FUNC('$menu', '===END===')
}

$beauty_options[2] = {
FUNC('$menu', '===BEGIN===', 'column_0')
IF master_haircut < 30 AND master_visage < 10 AND master_massaged = 0 AND master_errected = 0 AND master_spaed = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Full_Service, menu_Full_Service, 'Full Service (15$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Full_Service_gray, empty, 'Full Service')
END
IF master_haircut < 30: 
 FUNC('$menu', 'interaction_city', $menu_item_hairstyleman, menu_hairstyleman, 'Fashionable hairstyle (3$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_hairstyleman_gray, empty, 'Fashionable hairstyle')
END
IF master_visage < 10: 
 FUNC('$menu', 'interaction_city', $menu_item_procedures, menu_procedures, 'Cosmetic procedures (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_procedures_gray, empty, 'Cosmetic procedures')
END
IF master_massaged = 0: 
 FUNC('$menu', 'interaction_city', $menu_item_Invigorating, menu_Invigorating, 'Invigorating massage(3$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Invigorating_gray, empty, 'Invigorating massage')
END
IF master_erected = 0: 
 FUNC('$menu', 'interaction_city', $menu_item_massageman, menu_massageman, 'Erotic massage (3$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_massageman_gray, empty, 'Erotic massage')
END
IF master_hygiene ! 0 or master_spaed = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Aroma, menu_Aroma, 'Aroma spa (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Aroma_gray, empty, 'Aroma spa')
END
FUNC('$menu', 'exec_options', $menu_item_beauty_options, 'sp_txt = 1 & gt $curloc', 'Other services')
FUNC('$menu', '===END===')
}

!grocery store
$gastronom_options[1] = {
!fix with the fridge overstocking 105\100, by Lyazar
dynamic $get_frige_space
$place = 'gastronom'
$text_display = '<br>'
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'exec_options', $menu_item_Eggs_milk, 'sp_txt = 2 & gt $curloc', 'Eggs and milk')
FUNC('$menu', 'exec_options', $menu_item_Groceries_alcohol, 'sp_txt = 3 & gt $curloc', 'Groceries and alcohol')
FUNC('$menu', 'exec_options', $menu_item_Butchery, 'sp_txt = 4 & gt $curloc', 'Butchery')
FUNC('$menu', 'interaction_city', $menu_item_preferencesstore, menu_preferencesstore, 'Check preferences')
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_employeestore, menu_employeestore, 'Offer an employee')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_employeestore_gray, empty, 'Offer an employee')
END
FUNC('$menu', 'city_form', $menu_item_Leavestore, menu_Leavegstore, 'Leave the shop')
FUNC('$menu', '===END===')
}

$gastronom_options[2] = {
!fix with the fridge overstocking 105\100, by Lyazar
dynamic $get_frige_space
$text_display = '<br>'
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
IF sparks >= 10 and frige_space >= 5:
 FUNC('$menu', 'interaction_city', $menu_item_Fresh_eggs, menu_Fresh_eggs, 'Fresh eggs x5 (10$)')
 FUNC('$menu', 'interaction_city', $menu_item_Fresh_milk, menu_Fresh_milk, 'Fresh milk x5 (10$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Fresh_eggs_gray, empty, 'Fresh eggs x5 (10$)')
 FUNC('$menu', 'location_gray', $menu_item_Fresh_milk_gray, empty, 'Fresh milk x5 (10$)')
END
IF sparks >= 20 and frige_space >= 5:
 FUNC('$menu', 'interaction_city', $menu_item_Double_cream, menu_Double_cream, 'Double cream x5 (20 sparks')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Double_cream_gray, empty, 'Double cream x5 (20 sparks')
END
IF sparks >= 5 and frige_space >= 5:
 FUNC('$menu', 'interaction_city', $menu_item_Mature_cheese, menu_Mature_cheese, 'Mature cheese x5 (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Mature_cheese_gray, empty, 'Mature cheese x5 (5$)')
END
FUNC('$menu', 'exec_options', $menu_item_store_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
FUNC('$menu', '===END===')
}

$gastronom_options[3] = {
!fix with the fridge overstocking 105\100, by Lyazar
dynamic $get_frige_space
$text_display = '<br>'
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
IF sparks >= 5 and frige_space >= 5:
 FUNC('$menu', 'interaction_city', $menu_item_Fresh_vegetables, menu_Fresh_vegetables, 'Fresh vegetables x5 (5$)')
 FUNC('$menu', 'interaction_city', $menu_item_Cereals_flour, menu_Cereals_flour, 'Cereals and flour x5 (5$)')
 FUNC('$menu', 'interaction_city', $menu_item_Herbs_spices, menu_Herbs_spices, 'Herbs and spices x5 (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Fresh_vegetables_gray, empty, 'Fresh vegetables x5 (5$)')
 FUNC('$menu', 'location_gray', $menu_item_Cereals_flour_gray, empty, 'Cereals and flour x5 (5$)')
 FUNC('$menu', 'location_gray', $menu_item_Herbs_spices_gray, empty, 'Herbs and spices x5 (5$)')
END
if sparks >= 10:
 FUNC('$menu', 'interaction_city', $menu_item_Strong_alcohol, menu_Strong_alcohol, 'Strong alcohol x5 (10$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Strong_alcohol_gray, empty, 'Strong alcohol x5 (10$)')
END
FUNC('$menu', 'exec_options', $menu_item_store_options, 'sp_txt = 1 & gt $curloc', 'Other goods')
FUNC('$menu', '===END===')
}

$gastronom_options[4] = {
!fix with the fridge overstocking 105\100, by Lyazar
dynamic $get_frige_space
if nsfw = 1: not_safe = 1
$place = 'slaughter'
$text_display = '<br>'
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
IF sparks >= 7 and frige_space >= 5:
 FUNC('$menu', 'interaction_city', $menu_item_Greasy_mince, menu_Greasy_mince, 'Greasy mince x5 (7$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Greasy_mince_gray, empty, 'Greasy mince x5 (7$)')
END
IF sparks >= 20 and frige_space >= 5:
 FUNC('$menu', 'interaction_city', $menu_item_Tender_fillet, menu_Tender_fillet, 'Tender fillet x5 (20$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Tender_fillet_gray, empty, 'Tender fillet x5 (20$)')
END
IF slave_state = CONST_INT['slave_exist'] or slave_state = CONST_INT['slave_faint']:
 FUNC('$menu', 'interaction_city', $menu_item_Slaughter_slave, menu_Slaughter_slave, 'Slaughter slave for meat')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Slaughter_slave_gray, empty, 'Slaughter slave for meat')
END
IF sparks >= 5 and slave_state ! CONST_INT['no_slave']:
 FUNC('$menu', 'interaction_city', $menu_item_butcher_slave, menu_butcher_slave, 'Ask to butcher slave')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_butcher_slave_gray, empty, 'Ask to butcher slave')
END
FUNC('$menu', 'exec_options', $menu_item_store_options, 'sp_txt = 1 & gt $curloc', 'Return to shop')
FUNC('$menu', '===END===')
}

!"virgin`s hip" pub
$tabern_options[1] = {
$place = 'tabern'
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
IF sparks >= 1:
 FUNC('$menu', 'interaction_city', $menu_item_Drinkpub, menu_Drinkpub, 'Drink (1$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Drinkpub_gray, empty, 'Drink (1$)')
END
FUNC('$menu', 'exec_options', $menu_item_bartender, 'sp_txt = 2 & gt $curloc', 'Talk to the bartender')
FUNC('$menu', 'exec_options', $menu_item_thecook, 'sp_txt = 3 & gt $curloc', 'Talk to the cook')
FUNC('$menu', 'city_form', $menu_item_Leavepub, menu_Leavestore, 'Leave the tavern')
FUNC('$menu', '===END===')
}

$tabern_options[2] = {
$text_display = '<br><br>'
FUNC('$menu', 'spacer', 3)

FUNC('$menu', '===BEGIN===', 'column_0')
!$text_display += {<br><div id="under_gray">Check out the news (1 sparks)<br></div>}
FUNC('$menu', 'interaction_city', $menu_item_preferencesbar, menu_preferencesbar, 'Check preferences')
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_Offerbar, menu_Offerbar, 'Offer a slave')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Offerbar_gray, empty, 'Offer a slave')
END
FUNC('$menu', 'exec_options', $menu_item_Leavebar, 'sp_txt = 1 & gt $curloc', 'End conversation')
FUNC('$menu', '===END===')
}

$tabern_options[3] = {
$place = 'tabern_kitchen'
$text_display = '<br><br>'
if nsfw = 1: not_safe = 1
FUNC('$menu', 'spacer', 3)

FUNC('$menu', '===BEGIN===', 'column_0')
!$text_display += {<br><div id="under_gray">Personal lesson<br></div>}
!$text_display += {<br><div id="under_gray">Lesson for slave<br></div>}
FUNC('$menu', 'interaction_city', $menu_item_preferencescook, menu_preferencescook, 'Check preferences')
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_Offercook, menu_Offercook, 'Offer a slave')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Offercook_gray, empty, 'Offer a slave')
END
FUNC('$menu', 'exec_options', $menu_item_Leavecook, 'sp_txt = 1 & gt $curloc', 'End conversation')
FUNC('$menu', '===END===')
}

!tattoo salon
$bo_options[1] = {
$text_display = '<br>'
 FUNC('$menu', '===BEGIN===', 'column_0')
 IF slave_state = CONST_INT['slave_exist'] and slave["tatoo_timeup"] = 0:
  if slave["tatoo"] = 0: 
   FUNC('$menu', 'interaction_city', $menu_item_Small_tattoo, menu_Small_tattoo, 'Small tattoo (5$)')
   else
   $text_display += '<br><br>'
  end
  if slave["tatoo"] < 2: FUNC('$menu', 'interaction_city', $menu_item_Start_tattoo, menu_Start_tattoo, 'Start tattoo (10$)')
  if slave["tatoo"] = 2: FUNC('$menu', 'interaction_city', $menu_item_Continue_tattoo, menu_Continue_tattoo, 'Continue tattoo (25$)')
  if slave["tatoo"] = 3: FUNC('$menu', 'interaction_city', $menu_item_Expand_tattoo, menu_Expand_tattoo, 'Expand tattoo (50$)')
  if slave["tatoo"] = 4: FUNC('$menu', 'interaction_city', $menu_item_Finish_tattoo, menu_Finish_tattoo, 'Finish tattoo (100$)')
  if slave["tatoo"] = 5: FUNC('$menu', 'location_gray', $menu_item_Large_tattoo_gray, empty, 'Large tattoo')
  if slave["makeup"] < 3: 
   FUNC('$menu', 'interaction_city', $menu_item_Perm_makeup, menu_Perm_makeup, 'Permanent makeup (20$)')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Perm_makeup_gray, empty, 'Permanent makeup (20$)')
  end
  IF slave["brand"] = 0: FUNC('$menu', 'interaction_city', $menu_item_Brand_tattoo, menu_Brand_tattoo, 'Brand-tattoo (10$)')
  IF slave["brand"] = 1: FUNC('$menu', 'location_gray', $menu_item_Brand_tattoo_gray, empty, 'Brand-tattoo')
  IF slave["fiend_tattoo"] = 0: FUNC('$menu', 'interaction_city', $menu_item_Fiend_tattoo, menu_Fiend_tattoo, 'Fiend-tattoo (30$)')
  IF slave["fiend_tattoo"] = 1: FUNC('$menu', 'location_gray', $menu_item_Fiend_tattoo_gray, empty, 'Fiend-tattoo')
  else
  FUNC('$menu', 'location_gray', $menu_item_Small_tattoo_gray, empty, 'Small tattoo')
  FUNC('$menu', 'location_gray', $menu_item_Large_tattoo_gray, empty, 'Big tattoo')
  FUNC('$menu', 'location_gray', $menu_item_Perm_makeup_gray, empty, 'makeup')
  FUNC('$menu', 'location_gray', $menu_item_Brand_tattoo_gray, empty, 'Brand-tattoo')
  FUNC('$menu', 'location_gray', $menu_item_Fiend_tattoo_gray, empty, 'Fiend-tattoo')
 END
  FUNC('$menu', 'interaction_city', $menu_item_preferencestattoo, menu_preferencestattoo, 'Check preferences')
  IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
   FUNC('$menu', 'interaction_city', $menu_item_Offertattoo, menu_Offertattoo, 'Offer a slave')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Offertattoo_gray, empty, 'Offer a slave')
  END
FUNC('$menu', 'city_form', $menu_item_Leavetattoo, menu_Leavetattoo, 'Leave the workshop')
FUNC('$menu', '===END===')
}

!rarity of mystra
$mistra_options[1] = {
$sp_text[1] = '   <<$mystra_spd[mystra_spd]>>'
$text_display = '<br><br>'
FUNC('$menu', '===BEGIN===', 'column_0')
IF sparks >= 10:
 FUNC('$menu', 'exec_options', $menu_item_Elysian_datura, 'interaction_city = 4311 & mystra_spd = 1 & gt "interaction_city"', 'Elysian datura x5 (10$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Elysian_datura_gray, empty, 'Elysian datura x5 (10$)')
END
IF sparks >= 10:
 FUNC('$menu', 'exec_options', $menu_item_Kamrian_resin, 'interaction_city = 4312 & mystra_spd = 2 & gt "interaction_city"', 'Kamrian resin x5 (10$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Kamrian_resin_gray, empty, 'Kamrian resin x5 (10$)')
END
IF sparks >= 10:
 FUNC('$menu', 'exec_options', $menu_item_Faeries_pollen, 'interaction_city = 4313 & mystra_spd = 3 & gt "interaction_city"', 'Faeries` pollen x5 (10$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Faeries_pollen_gray, empty, 'Faeries` pollen x5 (10$)')
END
IF sparks >= 10:
 FUNC('$menu', 'exec_options', $menu_item_Essence_oblivion, 'interaction_city = 4314 & mystra_spd = 4 & gt "interaction_city"', 'Essence of oblivion x5 (10$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Essence_oblivion_gray, empty, 'Essence of oblivion x5 (10$)')
END
FUNC('$menu', 'exec_options', $menu_item_Talkmystra, 'sp_txt = 2 & gt $curloc', 'Talk to proprietress')
if npc_progress['mystra'] ! 2: 
 FUNC('$menu', 'interaction_city', $menu_item_employeemystra, menu_employeemystra, 'Offer an employee')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_employeemystra_gray, empty, 'Offer an employee')
END
FUNC('$menu', 'city_form', $menu_item_Leavemystra, menu_Leavemystra, 'Leave the shop')
FUNC('$menu', '===END===')
}

$mistra_options[2] = {
$sp_text[2] = '   Mystra knows a lot about alchemy and useful potions that can be made in the home laboratory, using ingredients purchased here. Asking her seems like a good idea.'
FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_elixirsmystra, menu_elixirsmystra, 'Tell me about elixirs')
FUNC('$menu', 'interaction_city', $menu_item_nectarmystra, menu_nectarmystra, 'Bacchic nectar')
FUNC('$menu', 'interaction_city', $menu_item_Tonicmystra, menu_Tonicmystra, 'Tonic elixir')
FUNC('$menu', 'interaction_city', $menu_item_Balmmystra, menu_Balmmystra, 'Miracle Balm')
FUNC('$menu', 'interaction_city', $menu_item_Aphrodisiacmystra, menu_Aphrodisiacmystra, 'Aphrodisiac')
FUNC('$menu', 'interaction_city', $menu_item_Lethemystra, menu_Lethemystra, 'Water of Lethe')
FUNC('$menu', 'interaction_city', $menu_item_Philtremystra, menu_Philtremystra, 'Philtre')
FUNC('$menu', 'exec_options', $menu_item_Endmystra, 'sp_txt = 1 & gt $curloc', 'End conversation')
FUNC('$menu', '===END===')
}

!spellbook
$spell_book[0] = {
$sp_text[0] = '   You open an old worn book with a picture of spark on the cover. It seems you can learn here more about the spells effect. It would be nice to do it before you start to conjure.'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction', $menu_item_Basicsspellbook, menu_Basicsspellbook, 'Basics')
FUNC('$menu', 'interaction', $menu_item_Auspexspellbook, menu_Auspexspellbook, 'Auspex')
FUNC('$menu', 'interaction', $menu_item_Cruciatospellbook, menu_Cruciatospellbook, 'Cruciato')
FUNC('$menu', 'interaction', $menu_item_Delikaciaspellbook, menu_Delikaciaspellbook, 'Delikacia')
FUNC('$menu', 'interaction', $menu_item_veritasspellbook, menu_veritasspellbook, 'Sententia veritas')
IF exam_in_progress = 1:
 $text_display += {<br><div id="under">Back<br><div id = "clear"><a href = 'EXEC: menu_form = 0 & gt "demo_menu_form"'><img src = "content\pic\clear.gif"></a></div></div>}
 else
 FUNC('$menu', 'menu_form_2', $menu_item_Backspellbook, menu_Backspellbook, 'Back', 'Back')
END
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 3)

FUNC('$menu', '===BEGIN===', 'column_1')
FUNC('$menu', 'interaction', $menu_item_Magnifikaspellbook, menu_Magnifikaspellbook, 'Magna Magnifika')
FUNC('$menu', 'interaction', $menu_item_Tremendiospellbook, menu_Tremendiospellbook, 'Tremendio')
FUNC('$menu', 'interaction', $menu_item_Dictumspellbook, menu_Dictumspellbook, 'Domini Dictum')
FUNC('$menu', 'interaction', $menu_item_Servilispellbook, menu_Servilispellbook, 'Adverto Servili')
FUNC('$menu', '===END===')
}


!own laboratory
$lab_options[0] = {
$potion_base = 'water'
put_kanabis = 0
put_koffe = 0
put_meth = 0
put_opium = 0
$text_display = '<br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'exec_options', $menu_item_lab_water, 'sp_txt = 1 & gt $curloc', 'Spring water')
IF frige["alcohol"] > 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_alcohol, '$potion_base = "spirit" & frige["alcohol"] -= 1 & sp_txt = 1 & gt $curloc', 'Strong_alcohol')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_alcohol_gray, empty, 'Strong alcohol')
END
IF lab_store["slime"] > 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_mucus, '$potion_base = "slime" & lab_store["slime"] -= 1 & sp_txt = 1 & gt $curloc', 'Fiend`s mucus')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_mucus_gray, empty, 'Fiend`s mucus')
END
FUNC('$menu', 'menu_form_2', $menu_item_Cancel_brewing, menu_Cancel_brewing, 'Cancel brewing')
FUNC('$menu', '===END===')
}

$lab_options[1] = {
$text_display = '<br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
IF lab_store["kanabis"] > 0 and put_kanabis = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_datura, 'put_kanabis = 1 & lab_store["kanabis"] -= 1 & sp_txt = 2 & gt $curloc', 'Elysian datura')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_datura_gray, empty, 'Elysian datura')
END
IF lab_store["koffe"] > 0 and put_koffe = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_resin, 'put_koffe = 1 & lab_store["koffe"] -= 1 & sp_txt = 2 & gt $curloc', 'Kamrian resin')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_resin_gray, empty, 'Kamrian resin')
END
IF lab_store["meth"] > 0 and put_meth = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_pollen, 'put_meth = 1 & lab_store["meth"] -= 1 & sp_txt = 2 & gt $curloc', 'Faeries pollen')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_pollen_gray, empty, 'Faeries pollen')
END
IF lab_store["opium"] > 0 and put_opium = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_oblivion, 'put_opium = 1 & lab_store["opium"] -= 1 & sp_txt = 2 & gt $curloc', 'Essence of oblivion')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_oblivion_gray, empty, 'Essence of oblivion')
END
FUNC('$menu', 'menu_form_2', $menu_item_Cancel_brewing, menu_Cancel_brewing, 'Cancel brewing')
FUNC('$menu', '===END===')
}

$lab_options[2] = {
$text_display = '<br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
IF lab_store["kanabis"] > 0 and put_kanabis = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_datura, 'put_kanabis = 1 & lab_store["kanabis"] -= 1 & sp_txt = 3 & gt $curloc', 'Elysian datura')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_datura_gray, empty, 'Elysian datura')
END
IF lab_store["koffe"] > 0 and put_koffe = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_resin, 'put_koffe = 1 & lab_store["koffe"] -= 1 & sp_txt = 3 & gt $curloc', 'Kamrian resin')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_resin_gray, empty, 'Kamrian resin')
END
IF lab_store["meth"] > 0 and put_meth = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_pollen, 'put_meth = 1 & lab_store["meth"] -= 1 & sp_txt = 3 & gt $curloc', 'Faeries pollen')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_pollen_gray, empty, 'Faeries pollen')
END
IF lab_store["opium"] > 0 and put_opium = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_oblivion, 'put_opium = 1 & lab_store["opium"] -= 1 & sp_txt = 3 & gt $curloc', 'Essence of oblivion')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_oblivion_gray, empty, 'Essence of oblivion')
END
FUNC('$menu', 'menu_form_2', $menu_item_Cancel_brewing, menu_Cancel_brewing, 'Cancel brewing')
FUNC('$menu', '===END===')
}

$lab_options[3] = {
$text_display = '<br>'
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
IF lab_store["kanabis"] > 0 and put_kanabis = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_datura, 'put_kanabis = 1 & lab_store["kanabis"] -= 1 & interaction = 22 & gt "interaction"', 'Elysian datura')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_datura_gray, empty, 'Elysian datura')
END
IF lab_store["koffe"] > 0 and put_koffe = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_resin, 'put_koffe = 1 & lab_store["koffe"] -= 1 & interaction = 22 & gt "interaction"', 'Kamrian resin')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_resin_gray, empty, 'Kamrian resin')
END
IF lab_store["meth"] > 0 and put_meth = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_pollen, 'put_meth = 1 & lab_store["meth"] -= 1 & interaction = 22 & gt "interaction"', 'Faeries pollen')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_pollen_gray, empty, 'Faeries pollen')
END
IF lab_store["opium"] > 0 and put_opium = 0:
 FUNC('$menu', 'exec_options', $menu_item_lab_oblivion, 'put_opium = 1 & lab_store["opium"] -= 1 & interaction = 22 & gt "interaction"', 'Essence of oblivion')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_lab_oblivion_gray, empty, 'Essence of oblivion')
END
FUNC('$menu', 'menu_form_2', $menu_item_Cancel_brewing, menu_Cancel_brewing, 'Cancel brewing')
FUNC('$menu', '===END===')
}


!piercing shop
$piercing_options[1] = {
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
IF slave_state = CONST_INT['slave_exist']:
 FUNC('$menu', 'exec_options', $menu_item_Bodypiercing, 'sp_txt = 2 & gt $curloc', 'Body modification')
 FUNC('$menu', 'exec_options', $menu_item_BDSMpiercing, 'sp_txt = 3 & gt $curloc', 'BDSM paraphernalia')
 FUNC('$menu', 'exec_options', $menu_item_Animalpiercing, 'sp_txt = 4 & gt $curloc', 'Animal paraphernalia')
 else
 FUNC('$menu', 'location_gray', $menu_item_Bodypiercing_gray, empty, 'Body modification')
 FUNC('$menu', 'location_gray', $menu_item_BDSMpiercing_gray, empty, 'BDSM paraphernalia')
 FUNC('$menu', 'location_gray', $menu_item_Animalpiercing_gray, empty, 'Animal paraphernalia')
END
FUNC('$menu', 'exec_options', $menu_item_Fetishpiercing, 'sp_txt = 5 & gt $curloc', 'Fetish paraphernalia')
FUNC('$menu', 'interaction_city', $menu_item_preferencespiercing, menu_preferencespiercing, 'Check preferences')
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_Offerpiercing, menu_Offerpiercing, 'Offer a slave')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Offerpiercing_gray, empty, 'Offer a slave')
END
FUNC('$menu', 'city_form', $menu_item_Leavepiercing, menu_Leavepiercing, 'Leave the studio')
FUNC('$menu', '===END===')
}

$piercing_options[2] = {
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
if slave["full_piercing"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Mass_piercing, menu_Mass_piercing, 'Mass piercing (35$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Mass_piercing_gray, empty, 'Piercing performed')
end
if slave["niple_piercing"] = 0: 
 FUNC('$menu', 'interaction_city', $menu_item_Pierce_nipples, menu_Pierce_nipples, 'Pierce nipples (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Pierce_nipples_gray, empty, 'Nipples pierced')
end
if slave["clit_piercing"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Pierce_clitoris, menu_Pierce_clitoris, 'Pierce clitoris (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Pierce_clitoris_gray, empty, 'Clitoris pierced')
end
if slave["ear_piercing"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Pierce_ears, menu_Pierce_ears, 'Pierce ears (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Pierce_ears_gray, empty, 'Ears pirced')
end
if slave["thongue_piercing"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Pierce_tongue, menu_Pierce_tongue, 'Pierce tongue (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Pierce_tongue_gray, empty, 'Tongue pierced')
end
FUNC('$menu', 'exec_options', $menu_item_backpiercing, 'sp_txt = 1 & gt $curloc', 'Other services')
FUNC('$menu', '===END===')
FUNC('$menu', 'spacer', 3)

FUNC('$menu', '===BEGIN===', 'column_2')
if slave["belly_piercing"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Pierce_navel, menu_Pierce_navel, 'Pierce navel (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Pierce_navel_gray, empty, 'Navel pierced')
end
if slave["nosdril_piercing"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Carnation_nose, menu_Carnation_nose, 'Carnation in nose (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Carnation_nose_gray, empty, 'Nose pierced')
end
if slave["nose_piercing"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Ring_nose, menu_Ring_nose, 'Ring in the nose (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Ring_nose_gray, empty, 'Ring Inserted')
end
if slave["scarification"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Scarring, menu_Scarring, 'Scarring (10$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Scarring_gray, empty, 'Scarring performed')
end
if slave["thongue_split"] = 0:  
 FUNC('$menu', 'interaction_city', $menu_item_Tongue_split, menu_Tongue_split, 'Tongue splitting (25$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Tongue_split_gray, empty, 'Tongue split')
end
FUNC('$menu', '===END===')
}

$piercing_options[3] = {
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Leather_collar, menu_Leather_collar, 'Leather collar (3$)')
FUNC('$menu', 'interaction_city', $menu_item_Steel_collar, menu_Steel_collar, 'Steel collar (10$)')
FUNC('$menu', 'interaction_city', $menu_item_Spiked_collar, menu_Spiked_collar, 'Spiked collar (10$)')
FUNC('$menu', 'interaction_city', $menu_item_Leather_shackles, menu_Leather_shackles, 'Leather shackles (5$)')
FUNC('$menu', 'interaction_city', $menu_item_Nipple_chain, menu_Nipple_chain, 'Nipple chain (10$)')
FUNC('$menu', 'interaction_city', $menu_item_Crown_thorns, menu_Crown_thorns, 'Crown of thorns (5$)')
FUNC('$menu', 'exec_options', $menu_item_backpiercing, 'sp_txt = 1 & gt $curloc', 'Other services')
FUNC('$menu', '===END===')
}

$piercing_options[4] = {
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'interaction_city', $menu_item_Collar_leash, menu_Collar_leash, 'Collar and leash (5$)')
FUNC('$menu', 'interaction_city', $menu_item_Anal_tail, menu_Anal_tail, 'Anal tail (10$)')
FUNC('$menu', 'interaction_city', $menu_item_Plumed_bridle, menu_Plumed_bridle, 'Plumed bridle (10$)')
FUNC('$menu', 'interaction_city', $menu_item_Hooved_boots, menu_Hooved_boots, 'Hooved boots (25$)')
FUNC('$menu', 'interaction_city', $menu_item_Pony_harness, menu_Pony_harness, 'Pony harness (10$)')
FUNC('$menu', 'interaction_city', $menu_item_Petsuit, menu_Petsuit, 'Petsuit (25$)')
FUNC('$menu', 'exec_options', $menu_item_backpiercing, 'sp_txt = 1 & gt $curloc', 'Other services')
FUNC('$menu', '===END===')
}

$piercing_options[5] = {
FUNC('$menu', 'spacer', 1)

FUNC('$menu', '===BEGIN===', 'column_0')
IF inventory['vaginal_balls'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Vaginal_beads, menu_Vaginal_beads, 'Vaginal beads (5$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Vaginal_beads_gray, empty, 'Vaginal beads')
END
IF inventory['anal_plug'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Anal_pear, menu_Anal_pear, 'Anal pear (20$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Anal_pear_gray, empty, 'Anal pear')
END
IF inventory['secure_gag'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Reliable_gag, menu_Reliable_gag, 'Reliable gag (20$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Reliable_gag_gray, empty, 'Reliable gag')
END
IF inventory['chastity_belt'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Chastity_belt, menu_Chastity_belt, 'Chastity belt (30$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Chastity_belt_gray, empty, 'Chastity belt')
END
IF inventory['deprivation_suit'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Deprivation_suit, menu_Deprivation_suit, 'Deprivation suit (50$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Deprivation_suit_gray, empty, 'Deprivation suit')
END
IF inventory['pissuar_stable'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Urinal_rack, menu_Urinal_rack, 'Urinal rack (100$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Urinal_rack_gray, empty, 'Urinal rack')
END
IF inventory['toilet_stable'] = 0:
 FUNC('$menu', 'interaction_city', $menu_item_Toilet_seat, menu_Toilet_seat, 'Toilet seat (250$)')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_Toilet_seat_gray, empty, 'Toilet seat')
END
FUNC('$menu', 'exec_options', $menu_item_backpiercing, 'sp_txt = 1 & gt $curloc', 'Other services')
FUNC('$menu', '===END===')
}

!Coliseum
!added $sp_text for the first and second options are so theres no sticky text about preparing for battle
$colloseum_options[1] = { 
 $sp_text[1] = '   You enter the service premises under the amphitheater. The guards passed you without problems - Slavers Guild is always the case in the school of gladiators and the stables. You only have to find the right person.' 
 FUNC('$menu', 'spacer', 3)

 FUNC('$menu', '===BEGIN===', 'column_0')
 FUNC('$menu', 'exec_options', $menu_item_LanistaColiseum, 'sp_txt = 21 & gt $curloc', 'Lanista')
 FUNC('$menu', 'exec_options', $menu_item_StablemanColiseum, 'sp_txt = 22 & gt $curloc', 'Stableman')
 IF ride_count ! 0: 
  FUNC('$menu', 'location_gray', $menu_item_racecount_gray, empty, 'Days to race: <<ride_count>>')
  else
  IF slave_state = CONST_INT['slave_exist'] and slave['energy'] > 0:
   FUNC('$menu', 'exec_options', $menu_item_Participate_race, 'sp_txt = 23 & gt $curloc', 'Participate in the race')
   else
   FUNC('$menu', 'interaction_city', $menu_item_Watch_race, menu_Watch_race, 'Watch the race')
  END  
 END
 IF gladi_count ! 0: 
  FUNC('$menu', 'location_gray', $menu_item_battlecount_gray, empty, 'Days to battle: <<gladi_count>>')
  else
  IF slave_state = CONST_INT['slave_exist'] and slave['energy'] > 0:
   FUNC('$menu', 'exec_options', $menu_item_Put_gladiatrix, 'sp_txt = 24 & gt $curloc', 'Put gladiatrix')
   else
   FUNC('$menu', 'interaction_city', $menu_item_Watch_battle, menu_Watch_battle, 'Watch the battle')
  END  
 END
 FUNC('$menu', 'city_form', $menu_item_Leave_Colosseum, menu_Leave_Colosseum, 'Leave the Colosseum')
 FUNC('$menu', '===END===')
}

$colloseum_options[21] = { 
 FUNC('$menu', 'spacer', 1)

 FUNC('$menu', '===BEGIN===', 'column_0')
 IF master_energy > 0:
  FUNC('$menu', 'exec_options', $menu_item_Arrange_me, 'sp_txt = 2 & gt $curloc', 'Arrange me a sparring')
  else
  FUNC('$menu', 'location_gray', $menu_item_Arrange_me_gray, empty, 'Arrange me a sparring')
 END
 IF slave_state = CONST_INT['slave_exist'] and slave["energy"] > 0:
  FUNC('$menu', 'exec_options', $menu_item_sparring_slave, 'sp_txt = 3 & gt $curloc', 'Arrange a sparring for my slave')
  else
  FUNC('$menu', 'location_gray', $menu_item_sparring_slave_gray, empty, 'Arrange a sparring for my slave')
 END
 IF assistant_state = 1 and assistant["energy"] > 0: 
  FUNC('$menu', 'exec_options', $menu_item_sparring_assistant, 'sp_txt = 4 & gt $curloc', 'Arrange a sparring for my assistant')
  else
  FUNC('$menu', 'location_gray', $menu_item_sparring_assistant_gray, empty, 'Arrange a sparring for my assistant')
 END
 IF spm_number < master_fighter and master_energy > 0:
  FUNC('$menu', 'exec_options', $menu_item_special_technique, 'sp_txt = 5 & gt $curloc', 'Teach me a special technique')
  else
  FUNC('$menu', 'location_gray', $menu_item_special_technique_gray, empty, 'Teach me a special technique')
 END
!$text_display += {<br><div id="under_gray">- Tell me about the art of combat<br></div>} 
 FUNC('$menu', 'interaction_city', $menu_item_preferencesLanista, menu_preferencesLanista, 'What slaves do you need?')
 IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 FUNC('$menu', 'interaction_city', $menu_item_merchandiseLanista, menu_merchandiseLanista, 'Look at my merchandise')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_merchandiseLanista_gray, empty, 'Look at my merchandise')
 END
 FUNC('$menu', 'exec_options', $menu_item_Leavecolloseum_options, 'sp_txt = 1 & gt $curloc', 'End conversation')
 FUNC('$menu', '===END===')
}

$colloseum_options[22] = {
 $sp_text[22] = '   You find a beastman-stableman with a horse''s head, which is responsible for race. He can be a source of valuable information, especially when it is necessary to know what awaits you in the next race.'
 FUNC('$menu', 'spacer', 4)

 FUNC('$menu', '===BEGIN===', 'column_0')
 FUNC('$menu', 'interaction_city', $menu_item_next_track, menu_next_track, 'Tell me about the next track')
 FUNC('$menu', 'interaction_city', $menu_item_chariot_race, menu_chariot_race, 'Tell me about a chariot race')
 FUNC('$menu', 'exec_options', $menu_item_Leavecolloseum_options, 'sp_txt = 1 & gt $curloc', 'End conversation')
 FUNC('$menu', '===END===')
}


$colloseum_options[23] = { 
 $sp_text[23] = '   While there is still time for race, you can order a variety of chariot modification. The more heavy elements are used, the less will be the speed and agility of your chariot, but it will lower the risk of the fact that it may fall apart in the middle of the race. Ignoring your own defense, you`re playing with death.'
 FUNC('$menu', 'spacer', 2)

 FUNC('$menu', '===BEGIN===', 'column_0')
 IF heavy_frame = 1:
  FUNC('$menu', 'exec_options', $menu_item_Pobedit, 'heavy_frame = 0 & gt $curloc', 'Pobedit frame')
  else
  FUNC('$menu', 'exec_options', $menu_item_Carbon, 'heavy_frame = 1 & gt $curloc', 'Carbon fiber frame')
 END
 IF heavy_boards = 1:
  FUNC('$menu', 'exec_options', $menu_item_Armored, 'heavy_boards = 0 & gt $curloc', 'Armored sides')
  else
  FUNC('$menu', 'exec_options', $menu_item_Decorative, 'heavy_boards = 1 & gt $curloc', 'Decorative sides')
 END  
 IF heavy_chasis = 1:
  FUNC('$menu', 'exec_options', $menu_item_Reinforced, 'heavy_chasis = 0 & gt $curloc', 'Reinforced suspension')
  else
  FUNC('$menu', 'exec_options', $menu_item_Lightweight, 'heavy_chasis = 1 & gt $curloc', 'Lightweight suspension')
 END  
 IF heavy_wheels = 1:
  FUNC('$menu', 'exec_options', $menu_item_Alloy, 'heavy_wheels = 0 & gt $curloc', 'Alloy wheels')
  else
  FUNC('$menu', 'exec_options', $menu_item_Spoked, 'heavy_wheels = 1 & gt $curloc', 'Spoked wheels')
 END  
 IF heavy_rider_armor = 1:
  FUNC('$menu', 'exec_options', $menu_item_Heavy, 'heavy_rider_armor = 0 & gt $curloc', 'Heavy protection of charioteer')
  else
  FUNC('$menu', 'exec_options', $menu_item_Light, 'heavy_rider_armor = 1 & gt $curloc', 'Light protection of charioteer')
 END    
 FUNC('$menu', 'exec_options', $menu_item_ride_start, 'gt "$ride_start"', 'Start race')
 FUNC('$menu', '===END===')
}


$colloseum_options[24] = { 
 FUNC('$menu', 'spacer', 2)

 FUNC('$menu', '===BEGIN===', 'column_0')
 IF $slave['trademark_style'] = '':
  $sp_text[24] = '   Battles take place in the arena with a clear regulation of weapons and equipment. You need to choose a style that will fight <<$slave_name>> and appropriate outfit to this style.'
  FUNC('$menu', 'exec_options', $menu_item_trident, '$g_type = "retiarius" & gt "$gladiator_setup"', 'Net and trident')
  FUNC('$menu', 'exec_options', $menu_item_whipsaw, '$g_type = "flagrius" & gt "$gladiator_setup"', 'Armor and whipsaw')
  FUNC('$menu', 'exec_options', $menu_item_Dual, '$g_type = "dimacherus" & gt "$gladiator_setup"', 'Dual wield')
  FUNC('$menu', 'exec_options', $menu_item_shield, '$g_type = "hoplomachus" & gt "$gladiator_setup"', 'Weapon and shield')
  FUNC('$menu', 'exec_options', $menu_item_Heavy, '$g_type = "kimerian" & gt "$gladiator_setup"', 'Heavy weapons')
  FUNC('$menu', 'exec_options', $menu_item_Refusefight, 'sp_txt = 1 & gt $curloc', 'Refuse the fight')
  ELSE
  $sp_text[24] = '   Recognized champion of the arena fights only in the most spectacular battles, which leads the audience the most. Usually this unusual fights that involves the champions opens and closes days in the arena.'
  FUNC('$menu', 'exec_options', $menu_item_Challange_champion, '$slave["trademark_style"] & challenge_type = 1 & gt "$gladiator_setup"', 'Challange the champion')
  FUNC('$menu', 'exec_options', $menu_item_Group_fight, '$slave["trademark_style"] & challenge_type = 2 & gt "$gladiator_setup"', 'Group_fight')
  FUNC('$menu', 'exec_options', $menu_item_Battle_fiend, '$slave["trademark_style"] & challenge_type = 3 & gt "$gladiator_setup"', 'Battle against fiend')
  if slave['arena_level'] = 8: FUNC('$menu', 'exec_options', $menu_item_absolute_champion, '$g_type = $slave["trademark_style"] & challenge_type = 4 & gt "$gladiator_setup"', 'Challange the absolute champion')
  FUNC('$menu', 'exec_options', $menu_item_Refusefight, 'sp_txt = 1 & gt $curloc', 'Refuse the fight')
 END
 FUNC('$menu', '===END===')
}

$colloseum_options[2] = { 
 FUNC('$menu', 'spacer', 2)

 FUNC('$menu', '===BEGIN===', 'column_0')
 FUNC('$menu', 'exec_options', $menu_item_unarmed, 'colloseum_fight = 1 & gt $curloc', 'Against unarmed slave')
 FUNC('$menu', 'exec_options', $menu_item_wardress, 'colloseum_fight = 2 & gt $curloc', 'Against wardress')
 FUNC('$menu', 'exec_options', $menu_item_shinobi, 'colloseum_fight = 3 & gt $curloc', 'Against shinobi')
 FUNC('$menu', 'exec_options', $menu_item_amazon, 'colloseum_fight = 4 & gt $curloc', 'Against amazon')
 FUNC('$menu', 'exec_options', $menu_item_ironclad, 'colloseum_fight = 5 & gt $curloc', 'Against ironclad')
!$text_display += {<div id="under_gray">- Against you!<br></div>} 
 FUNC('$menu', 'exec_options', $menu_item_Refusesparring, 'sp_txt = 21 & gt $curloc', 'Albeit no, I`d rather...')
 FUNC('$menu', '===END===')
}

$colloseum_options[3] = { 
 FUNC('$menu', 'spacer', 2)

 FUNC('$menu', '===BEGIN===', 'column_0')
 FUNC('$menu', 'exec_options', $menu_item_unarmed, 'colloseum_fight = 11 & gt $curloc', 'Against unarmed slave')
 FUNC('$menu', 'exec_options', $menu_item_wardress, 'colloseum_fight = 12 & gt $curloc', 'Against wardress')
 FUNC('$menu', 'exec_options', $menu_item_shinobi, 'colloseum_fight = 13 & gt $curloc', 'Against shinobi')
 FUNC('$menu', 'exec_options', $menu_item_amazon, 'colloseum_fight = 14 & gt $curloc', 'Against amazon')
 FUNC('$menu', 'exec_options', $menu_item_ironclad, 'colloseum_fight = 15 & gt $curloc', 'Against ironclad')
!$text_display += {<div id="under_gray">- Against you!<br></div>} 
 FUNC('$menu', 'exec_options', $menu_item_Refusesparring, 'sp_txt = 21 & gt $curloc', 'Albeit no, I`d rather...')
 FUNC('$menu', '===END===')
}

$colloseum_options[4] = { 
 FUNC('$menu', 'spacer', 2)

 FUNC('$menu', '===BEGIN===', 'column_0')
 FUNC('$menu', 'exec_options', $menu_item_unarmed, 'colloseum_fight = 31 & gt $curloc', 'Against unarmed slave')
 FUNC('$menu', 'exec_options', $menu_item_wardress, 'colloseum_fight = 32 & gt $curloc', 'Against wardress')
 FUNC('$menu', 'exec_options', $menu_item_shinobi, 'colloseum_fight = 33 & gt $curloc', 'Against shinobi')
 FUNC('$menu', 'exec_options', $menu_item_amazon, 'colloseum_fight = 34 & gt $curloc', 'Against amazon')
 FUNC('$menu', 'exec_options', $menu_item_ironclad, 'colloseum_fight = 35 & gt $curloc', 'Against ironclad')
!$text_display += {<div id="under_gray">- Against you!<br></div>} 
 FUNC('$menu', 'exec_options', $menu_item_Refusesparring, 'sp_txt = 21 & gt $curloc', 'Albeit no, I`d rather...')
 FUNC('$menu', '===END===')
}

$colloseum_options[5] = {
 spm_mod = spm_number+1
 spm_price = 10*spm_mod*spm_mod
 FUNC('$menu', 'spacer', 2)

 FUNC('$menu', '===BEGIN===', 'column_0')
 IF sparks >= spm_price and $spm_learned['удар_с_разворота'] = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Roundhouse, menu_Roundhouse, 'Roundhouse kick')
  else
  FUNC('$menu', 'location_gray', $menu_item_Roundhouse_gray, empty, 'Roundhouse kick')
 END
 IF sparks >= spm_price and $spm_learned['рассечение'] = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Swift, menu_Swift, 'Swift blow')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_Swift_gray, empty, 'Swift blow')
 END 
 IF sparks >= spm_price and $spm_learned['воинственный_клич'] = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Battlecry, menu_Battlecry, 'Battle cry')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_Battlecry_gray, empty, 'Battle cry')
 END 
 IF sparks >= spm_price and $spm_learned['оглушение'] = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Heavyblow, menu_Heavyblow, 'Heavy blow')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_Heavyblow_gray, empty, 'Heavy blow')
 END 
 IF sparks >= spm_price and $spm_learned['подрезка'] = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Dashing, menu_Dashing, 'Dashing blow')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_Dashing_gray, empty, 'Dashing blow')
 END 
 IF sparks >= spm_price and $spm_learned['ослепление'] = 0:
  FUNC('$menu', 'interaction_city', $menu_item_Precise, menu_Precise, 'Precise hit')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_Precise_gray, empty, 'Precise hit')
 END   
 FUNC('$menu', 'exec_options', $menu_item_Refusesparring, 'sp_txt = 21 & gt $curloc', 'Albeit no, I`d rather...')
 FUNC('$menu', '===END===')
}

!Moneylender
$moneylander_options[1] = {
 FUNC('$menu', 'spacer', 2)

 FUNC('$menu', '===BEGIN===', 'column_0')
 if nsfw = 1: not_safe = 1
 IF debt <= 0:
  FUNC('$menu', 'exec_options', $menu_item_Borrow_sparks, 'sp_txt = 2 & gt $curloc', 'Borrow sparks')
  else
  IF sparks >= debt:
   FUNC('$menu', 'interaction_city', $menu_item_Repay_debt, menu_Repay_debt, 'Repay the debt')
   ELSE
   FUNC('$menu', 'location_gray', $menu_item_Repay_debt_gray, empty, 'Repay the debt')
  END
 END
!$text_display += {<br><div id="under_gray">Talk about buisness<br></div>}
 FUNC('$menu', 'interaction_city', $menu_item_preferencesMoneylender, menu_preferencesMoneylender, 'Check preferences')
 IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
  FUNC('$menu', 'interaction_city', $menu_item_OfferMoneylender, menu_OfferMoneylender, 'Offer a slave')
  ELSE
  FUNC('$menu', 'location_gray', $menu_item_OfferMoneylender_gray, empty, 'Offer a slave')
 END
 FUNC('$menu', 'city_form', $menu_item_Leave_Moneylender, menu_Leave_Moneylender, 'End conversation')
 FUNC('$menu', '===END===')
}

$moneylander_options[2] = {
FUNC('$menu', 'spacer', 3)

FUNC('$menu', '===BEGIN===', 'column_0')
if nsfw = 1: not_safe = 1
FUNC('$menu', 'interaction_city', $menu_item_laon1, menu_laon1, '500$, repay 600$, 20 days')
IF debt_history > 0:
 FUNC('$menu', 'interaction_city', $menu_item_laon2, menu_laon2, '1000$, repay 1250$, 30 days')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_laon2_gray, empty, '1000$, repay 1250$, 30 days')
END
IF debt_history > 1:
 FUNC('$menu', 'interaction_city', $menu_item_laon3, menu_laon3, '2000$, repay 2500$, 75 days')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_laon3_gray, empty, '2000$, repay 2500$, 75 days')
END
IF debt_history > 2:
 FUNC('$menu', 'interaction_city', $menu_item_laon4, menu_laon4, '5000$, repay 7000$, 100 days')
 ELSE
 FUNC('$menu', 'location_gray', $menu_item_laon4_gray, empty, '5000$, repay 7000$, 100 days')
END
FUNC('$menu', 'exec_options', $menu_item_RefuseBorrow, 'sp_txt = 1 & gt $curloc', 'Change topic')
FUNC('$menu', '===END===')
}

!Lao-Van house
!$laovan_options[1] = {
$text_display = '<br>'
IF slave_state = CONST_INT['slave_exist'] and slave['brand'] > 0 and slave['brand'] ! 4:
 $text_display += {<br><div id="under">Offer merchandise<br><div id = "clear"><a href = 'EXEC: interaction_city = 3111 & gt "interaction_city"'><img src = "content\pic\clear.gif"></a></div></div>}
 else
 $text_display += {<br><div id="under_gray">Offer merchandise<br></div>}
END
$text_display += {<br><div id="under">Check preferences<br><div id = "clear"><a href = 'EXEC: interaction_city = 3112 & gt "interaction_city"'><img src = "content\pic\clear.gif"></a></div></div>}
$text_display += {<br><div id="under">Bid farewell and leave<br><div id = "clear"><a href = 'EXEC: city_form = 31 & gt "city_menu_form"'><img src = "content\pic\clear.gif"></a></div></div>}
}

!preparing for fight
$get_weapon[1] = {
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
IF $за_спиной!'':
 FUNC('$menu', 'exec_options', $menu_item_the_shoulder, 'dynamic $взять_оружие_за_спиной & no_wpn[""за_спиной""] = 1 & sp_txt = 2 & gt $curloc', 'Shoulder: <<$название_предмета[$за_спиной]>>')
 else
 FUNC('$menu', 'location_gray', $menu_item_the_shoulder_gray, empty, 'Nothing over the shoulder')
END
IF $слева!'':
 FUNC('$menu', 'exec_options', $menu_item_left_side, 'dynamic $взять_оружие_слева & no_wpn[""слева""] = 1 & sp_txt = 2 & gt $curloc', 'Left: <<$название_предмета[$слева]>>')
 else
 FUNC('$menu', 'location_gray', $menu_item_left_side_gray, empty, 'Nothing on the left side')
END
IF $справа!'':
 FUNC('$menu', 'exec_options', $menu_item_right_side, 'dynamic $взять_оружие_справа & no_wpn[""справа""] = 1 & sp_txt = 2 & gt $curloc', 'Right: <<$название_предмета[$справа]>>')
 else
 FUNC('$menu', 'location_gray', $menu_item_right_side_gray, empty, 'Nothing on the right side')
END
IF $предплечье!'':
 FUNC('$menu', 'exec_options', $menu_item_in_bracer, 'dynamic $взять_оружие_предплечье & no_wpn[""предплечье""] = 1 & sp_txt = 2 & gt $curloc', 'In a bracer: <<$название_предмета[$предплечье]>>')
 else
 FUNC('$menu', 'location_gray', $menu_item_in_bracer_gray, empty, 'Nothing in a bracer')
END
IF $в_сапоге!'':
 FUNC('$menu', 'exec_options', $menu_item_in_boot, 'dynamic $взять_оружие_в_сапоге & no_wpn[""в_сапоге""] = 1 & sp_txt = 2 & gt $curloc', 'In a boot: <<$название_предмета[$в_сапоге]>>')
 else
 FUNC('$menu', 'location_gray', $menu_item_in_boot_gray, empty, 'Nothing in a boot')
END
FUNC('$menu', 'exec_options', $menu_item_battle, 'nogoto = 0 & killvar "no_wpn" &  gt "начать_бой"', 'Join the battle')
FUNC('$menu', '===END===')
}

$get_weapon[2] = {
FUNC('$menu', 'spacer', 2)

FUNC('$menu', '===BEGIN===', 'column_0')
if $класс_оружия[$за_спиной] = 'тяжелое_оружие': nogoto = 0 & killvar "no_wpn" &  gt "начать_бой"
IF $за_спиной!'' and no_wpn["за_спиной"] = 0:
 IF $класс_оружия[$за_спиной] ! 'оружие' and $класс_оружия[$за_спиной] ! 'тяжелое_оружие': 
  FUNC('$menu', 'exec_options', $menu_item_the_shoulder, 'dynamic $взять_вторичный_за_спиной & nogoto = 0 & killvar ""no_wpn"" & gt ""начать_бой""', 'Shoulder: <<$название_предмета[$за_спиной]>>')
  else
  FUNC('$menu', 'location_gray', $menu_item_the_shoulder_gray, empty, 'Shoulder: <<$название_предмета[$за_спиной]>>')
 END
 else
 FUNC('$menu', 'location_gray', $menu_item_the_shoulder_gray, empty, 'Nothing over the shoulder')
END
IF $слева!'' and no_wpn["слева"] = 0:
 IF $класс_оружия[$слева] ! 'оружие':
  FUNC('$menu', 'exec_options', $menu_item_left_side, 'dynamic $взять_вторичный_слева & nogoto = 0 & killvar "no_wpn" & gt "начать_бой"', 'Left: <<$название_предмета[$слева]>>')
  else
  FUNC('$menu', 'location_gray', $menu_item_left_side_gray, empty, 'Left: <<$название_предмета[$слева]>>')
 END
 else
 FUNC('$menu', 'location_gray', $menu_item_left_side_gray, empty, 'Nothing on the left side')
END
IF $справа!'' and no_wpn["справа"] = 0:
 IF $класс_оружия[$справа] ! 'оружие':
  FUNC('$menu', 'exec_options', $menu_item_right_side, 'dynamic $взять_вторичный_справа & nogoto = 0 & killvar "no_wpn" & gt "начать_бой"', 'Right: <<$название_предмета[$справа]>>')
  else
  FUNC('$menu', 'location_gray', $menu_item_right_side_gray, empty, 'Right: <<$название_предмета[$справа]>>')
 END
 else
 FUNC('$menu', 'location_gray', $menu_item_right_side_gray, empty, 'Nothing on the right side')
END
IF $предплечье!'' and no_wpn["предплечье"] = 0:
 FUNC('$menu', 'exec_options', $menu_item_in_bracer, 'dynamic $взять_вторичный_предплечье & nogoto = 0 & killvar "no_wpn" & gt "начать_бой"', 'In a bracer: <<$название_предмета[$предплечье]>>')
 else
 FUNC('$menu', 'location_gray', $menu_item_in_bracer_gray, empty, 'Nothing in a bracer')
END
IF $в_сапоге!'' and no_wpn["в_сапоге"] = 0:
 FUNC('$menu', 'exec_options', $menu_item_in_boot, 'dynamic $взять_вторичный_в_сапоге & nogoto = 0 & killvar "no_wpn" & gt "начать_бой"', 'In a boot: <<$название_предмета[$в_сапоге]>>')
 else
 FUNC('$menu', 'location_gray', $menu_item_in_boot_gray, empty, 'Nothing in a boot')
END
FUNC('$menu', 'exec_options', $menu_item_battle, 'nogoto = 0 & killvar "no_wpn" & gt "начать_бой"', 'Join the battle')
FUNC('$menu', '===END===')
}

$get_weapon[3] = {
FUNC('$menu', 'spacer', 4)

FUNC('$menu', '===BEGIN===', 'column_0')
FUNC('$menu', 'exec_options', $menu_item_Stool, '$оружие = "табуретка" & nogoto = 0 & killvar "no_wpn" & gt "начать_бой"', 'Stool')
FUNC('$menu', 'exec_options', $menu_item_Dagger, '$оружие = "кинжал" & nogoto = 0 & killvar "no_wpn" & gt "начать_бой"', 'Dagger')
FUNC('$menu', 'exec_options', $menu_item_battle, 'nogoto = 0 & killvar "no_wpn" & gt "начать_бой"', 'Join the battle')
FUNC('$menu', '===END===')
}

!$_options[] = {
$text_display = '<br>'
$text_display += {<br><div id="under">ActiveOption<br><div id = "clear"><a href = 'EXEC: sp_txt = 1 & gt $curloc'><img src = "content\pic\clear.gif"></a></div></div>}
$text_display += {<br><div id="under_gray">InactiveOption<br></div>}
$text_display += {<br><div id="under">LeaveButton<br><div id = "clear"><a href = 'EXEC: city_form = 2 & gt "city_menu_form"'><img src = "content\pic\clear.gif"></a></div></div>}
}

--- #options ---------------------------------

