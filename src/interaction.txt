# interaction
!INTERACTIONS WITH SLAVE AND ASSISTANT
gs '#txt'
gs '#txt_2'

!resetting vars - improved - crushboss
killvar '$special_image'
killvar '$special_image_full'
killvar '$special_action'
killvar '$special_bg'
killvar '$forum_encouner_description'

shameful = 0
painful = 0
disgusting = 0
lesbian = 0
darkness = 0
bloody = 0
fire_based = 0
water_based = 0
vermin_based = 0
deprivation = 0
abuse = 0	
compassion = 0
sensitivity_threshold = 6

comforting = 0
sweet = 0
luxury = 0
flattering = 0
everlasting = 0

sex_acceptance = 0
sex_acceptance_assistant = 0
erotic_stimulation = 0
ejaculation_intensity = 0
sex_ability = 0
sex_quality = 0
final_stimulation = 0
orgastic = 0
orgasm_description = 0
talent_bonus = 0

torture_skill = 0
torture_intensity = 0
fear_force = 0
fear_rised = 0
riser = 0
rise_difficulty = 0
rise_modifer = 0
slave_power = 0
master_power = 0
damage = 0
bruising = 0
scarification = 0
noresist = 0
futile_threat = 0
easy_for_master = 0

add_house_mess = 0
add_slave_hygiene = 0
add_assistant_hygiene = 0
add_master_hygiene = 0
add_slave_mood = 0
master_extra_calories_burn = 0
slave_extra_calories_burn = 0
couch_skill = 0
slave_skill = 0
$target_skill = 'dump' 
$target_skill_two = 'dudump'
$subskill_xp = 'dump'
$subskill_two = 'dudump'
$subskill_two_xp = 'dudump'
$target_affinity = 'dump'
$prise_type = ''
prise_level = 0
prise_potence = 0
prise_cost = 0
prise_succes = 0
date_succes = 0
succes = 0

res = 0
diligence = 0
virtue_gained = 0
show_slave_fullimage = 0
show_assistant_fullimage = 0
sin_potential = 0
previous_slave_sin = 0
previous_slave_virtue = 0
sin_gained = 0
sin_gain = 0

$interaction_type = ''
$special_part = ''
$special_bg = ''
$special_text = ''
$refuse_txt = ''
$done_txt = ''

a = 0
b = 0
c = 0
g = 0
s = 0

npc = 0

slave['brand'] = tattoo_brand

needle_progression = 0
if master_torture = 1: needle_progression = 2
if master_torture = 2: needle_progression = 5
if master_torture = 3: needle_progression = 10
if master_torture = 4: needle_progression = 20
if master_torture = 5: needle_progression = 40
 
$place = 'study'
 
txt_count = 1
$msg_txt = ''
killvar 'play_sound'
$interaction_type = 'basic'

!majjick
!Auspex
IF interaction = 61:
 $interaction_type = 'spell_cast'
 sparks -= 2
 auspex = 1
 npc = 0 
 if master_mage < 2 and already_done_today[interaction] = 0: master_mage_rate += 1
END

!Cruciato
IF interaction = 62:
 $interaction_type = 'spell_cast'
 $subskill_xp = 'slave["masohism_xp"]'
 sparks -= 5
 painful = 1
 torture_intensity = min (slave['sin'], spell_effectiveness)
 $special_part = {
 IF spell_effectiveness < 1:
  if already_done_today[interaction] = 0: slave_rate['ego'] += master_mage
  slave['pos_spellguarded'] = 1
  slave['neg_spellbound'] = 0
  txt_count = 2
  $text[2] = '<<$spell_fail>>'
  else
  slave["sin"] = 0
  fear_force += slave["sensitivity"] - 3
  if slave["masohism"] ! 0 and slave["masohism_revealed"] = 0: slave["masohism_revealed"] = 1
  IF slave['neg_spellbound'] >= 0:
   slave['neg_spellbound'] += 1
   else
   slave['neg_spellbound'] = 1
  END
  slave['pos_spellguarded'] = 0
  fear_force = 8 + spell_effectiveness
  dynamic $torture_result  
  if slave["neg_pain"] < torture_intensity: slave["neg_pain"] = torture_intensity  
  $play_sound[1] = '<<$pain[slave["age"]]>>'
 END
 cruciato = 1
 }
 if already_done_today[interaction] = 0: master_mage_rate += 2
 if phobia < 0: gs '$mod_slave_drop', torture_intensity
 if phobia = 0: gs '$mod_slave_drop', 1 
 slave['sin'] = 0
 slave["virtue"] = 0
END

!Delikacia - improved - crushboss
IF interaction = 63:
 $interaction_type = 'spell_cast'
 sparks -= 5
 $play_sound[1] = '<<$orgasm_sound[slave["age"]]>>'
 slave['pos_orgasm'] = 3
 slave['neg_horny'] = 0
 slave["arousal"] = 0 
 slave_rate["arousal"] = 0
 IF slave["virtue"] > 0:
  slave_rate["mood"] += master_mage
  slave_rate["moral"] += (1 + (master_mage/2))
 END
 slave["virtue"] = 0
 slave['sin'] = 0 
 IF already_done_today[interaction] = 0:
  slave_rate["instinct"] += (1 + (master_mage/2))
  slave_rate["temper"] += (1 + (master_mage/2))
  master_mage_rate += 2
 END
END

!Sententia Veritas - improved - crushboss
IF interaction = 64:
 $interaction_type = 'spell_cast'
 sparks -= 5
 IF already_done_today[interaction] = 0:
  slave_rate["instinct"] += (1 + (master_mage/2))
  master_mage_rate += 2
 END
 $special_part = {
 IF spell_effectiveness < 1:
  if already_done_today[interaction] = 0: slave_rate['ego'] += master_mage
  slave['pos_spellguarded'] = 1
  slave['neg_spellbound'] = 0
  txt_count = 2
  $text[2] = '<<$spell_fail>>'
  else
  IF slave['neg_spellbound'] >= 0:
   slave['neg_spellbound'] += 1
   else
   slave['neg_spellbound'] = 1
  END
  slave['pos_spellguarded'] = 0  
 END
 sententia_veritas = 1
 sententia_veritas_casted = 1
 } 
END

!Magna Magnifika
IF interaction = 65:
 $interaction_type = 'spell_cast'
 sparks -= 5
 magna_magnifika = master_mage * 2
 if master_mage = 6: magna_magnifika = 10
 if already_done_today[interaction] = 0: master_mage_rate += 2
END

!Tremendio - improved - crushboss
IF interaction = 66:
 $interaction_type = 'spell_cast'
 sparks -= 5
 if already_done_today[interaction] = 0 and slave["fear"] < 5: master_mage_rate += 2
 $special_part = {
 IF spell_effectiveness < 1 or slave["fear"] >= 5:
  IF already_done_today[interaction] = 0:
   slave_rate["angst"] += (master_mage*2)
   slave_rate["pride"] += (master_mage*2)
  END
  slave['pos_spellguarded'] = 1
  slave['neg_spellbound'] = 0
  txt_count = 2
  $text[2] = '<<$spell_fail>>'
  else
  slave["fear"] += 1
  if slave["fear"] > 5: slave["fear"] = 5
  slave_rate["angst"] += (slave["fear"] * slave["pride"])
  slave_rate["moral"] += (master_mage - 2)
  IF slave['neg_spellbound'] >= 0:
   slave['neg_spellbound'] += 1
   else
   slave['neg_spellbound'] = 1
  END
  slave['pos_spellguarded'] = 0 
 END
 tremendio = 1 
 }
END

!Domini dictum
IF interaction = 67:
 $interaction_type = 'spell_cast' 
 sparks -= 5
 if already_done_today[interaction] = 0: master_mage_rate += 2
 $special_part = {
 IF master_mage < slave['ego']:
  if already_done_today[interaction] = 0: slave_rate['ego'] += master_mage
  slave['pos_spellguarded'] = 1
  slave['neg_spellbound'] = 0
  txt_count = 2
  $text[2] = '<<$spell_fail>>'
  else
  slave['domini_dictum'] = 1
  IF slave['neg_spellbound'] >= 0:
   slave['neg_spellbound'] += 1
   else
   slave['neg_spellbound'] = 1
  END
  slave['pos_spellguarded'] = 0  
 END 
 }
END

!Adverto Servili - improved - crushboss
IF interaction = 68:
 $interaction_type = 'spell_cast'
 sparks -= 25
 slave['brand'] = 3
 tattoo_brand = slave['brand']
 slave_rate["moral"] += (1 + (master_mage/2))
 slave_rate["mood"] += (slave["ego"] + slave["temper"] + slave["sensitivity"])
 slave['ill'] = 0
 slave['parasite'] = 0
 if slave['issues'] > 0: slave['issues'] -= 1
 slave_rate["stamina"] += master_mage
 slave["energy"] += slave["stamina"]
 slave_rate["arousal"] += (master_mage*5)
 spell_adverto_servili = 1
 IF slave['neg_spellbound'] >= 0:
  slave['neg_spellbound'] += 1
  else
  slave['neg_spellbound'] = 1
 END
 slave['pos_spellguarded'] = 0     
 master_mage_rate += master_mage
END

!spellbook
IF interaction = menu_spellbook:
 npc = 0
 copyarr '$display_options', '$spell_book'   
 GT 'shop_general'
END

IF interaction = 71:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$spell_help') - 1
 copyarr '$text', '$spell_help'
END

IF interaction = 72:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$auspex_help') - 1
 copyarr '$text', '$auspex_help'
END

IF interaction = 73:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$cruciato_help') - 1
 copyarr '$text', '$cruciato_help'
END

IF interaction = 74:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$delikacia_help') - 1
 copyarr '$text', '$delikacia_help'
END

IF interaction = 75:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$sententia_help') - 1
 copyarr '$text', '$sententia_help'
END

IF interaction = 76:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$magna_help') - 1
 copyarr '$text', '$magna_help'
END

IF interaction = 77:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$tremendio_help') - 1
 copyarr '$text', '$tremendio_help'
END

IF interaction = 78:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$domini_help') - 1
 copyarr '$text', '$domini_help'
END

IF interaction = 79:
 $return_lock  = 'shop_general' 
 txt_count = arrsize('$adverto_help') - 1
 copyarr '$text', '$adverto_help'
END


!SPEAKING
!Tell me about your past
IF interaction = 1111:
 repulse = -2
 $interaction_type = 'talk' 
 txt_count = 3
 if slave["age"] = CONST_INT['loli_age']: txt_count = 2
 $text[1] = '  <<$slave_world_description>>'
 $text[2] = '  <<$slave_family_description>>'
 $text[3] = '  <<$slave_occupation_description>>'
END

!What do you think about me?
IF interaction = 1112:
 repulse = -2
 $interaction_type = 'talk' 
 txt_count = 9
 if $slave_psy_status = 'broken': txt_count = 2 
 obed = 0 
 if slave["obedience"] > 0: obed = 1
 if slave["obedience"] > 2: obed = 2
 if slave["obedience"] > 6: obed = 3
 if slave["obedience"] > 10: obed = 4
 if slave["obedience"] = 100: obed = 5  
 $text[1] = '  <<$slave_relation_description[$slave_psy_status]>>'
 $text[2] = '  <<$slave_obed_description[obed]>>'
 $text[3] = '  <<$slave_urge_description[slave["arousal"]]>>'
 $text[4] = '  <<$slave_fear_description[slave["fear"]]>>' 
 $text[5] = '  <<$slave_ratio_description[slave["rational"]]>>' 
 $text[6] = '  <<$slave_instinct_description[slave["instinct"]]>>' 
 $text[7] = '  <<$slave_custom_description[slave["custom"]]>>'   
 $text[8] = '  <<$slave_spoil_description[slave["spoil"]]>>'  
 $text[9] = '  <<$slave_moral_description[slave["moral"]]>>'   
END

!Do you have any requests for me?
IF interaction = 1113:
 repulse = -2
 $interaction_type = 'talk' 
 txt_count = 1
 gs 'chose_answer'
END

!What do you want to do?
IF interaction = 1114:
 repulse = -2
 $interaction_type = 'talk' 
 txt_count = 1
 gs 'chose_answer'
END

!Are there things that are unpleasant for you?
IF interaction = 1115:
 repulse = -2
 $interaction_type = 'talk' 
 txt_count = 1
 gs 'chose_answer'
END

!How are you feeling?
IF interaction = 1116:
 repulse = -2
 $interaction_type = 'talk' 
 txt_count = ndex
 copyarr '$text', '$slave_mood_list'
END

!Explain her position - improved and fixed - crushboss
IF interaction = 1121:
 repulse = -100
 $interaction_type = 'talk'
 IF already_done_curslave[interaction] < 3:
  reasoning_effect = (((master_domination + master_str + master_cha)/2) + slave["intellect"]) - (rebell[$slave_psy_status] + slave["pride"] + already_done_curslave[interaction])
  if reasoning_effect >= 4: reasoning_rate = 2
  if reasoning_effect < 4: reasoning_rate = 1
  if reasoning_effect <= 0: reasoning_rate = 0
  if slave["obedience"] > 4: reasoning_rate = 3
  if already_done_today[interaction] > 0: reasoning_rate = 3
  txt_count = 4
  $text[1] = '<<$reasoning_one[already_done_curslave[interaction]]>>'
  $text[2] = '<<$reasoning_two[already_done_curslave[interaction]]>>'
  $text[3] = '<<$reasoning_three[already_done_curslave[interaction]]>>'
  $text[4] = '<<$reasoning_rate[reasoning_rate]>>'
  if master_half_action > 0: dynamic $master_energy_drop
  master_half_action += 1
  IF reasoning_rate < 3:
  $special_part = {
	if slave_rate["rational"] < 0: slave_rate["rational"] = 0   
	if reasoning_effect < 2: reasoning_effect = 2
	slave_rate["rational"] += reasoning_effect
	slave_rate["fear"] += (reasoning_effect * slave["sensitivity"])
	if reasoning_effect >= master_cha: master_cha_rate += 2
  }
  END
  else
  txt_count = 1
  $text[1] = '<<$no_more_reason>>'
 END
END

!Encourage
IF interaction = 1122:
 repulse = -5
 $interaction_type = 'talk' 
 cheer_effect = 2 + master_supermacy + slave["moral"] - already_done_curslave[interaction]
 if already_done_today[interaction] > 0: cheer_effect = 0 
 if cheer_effect >= 5: cheer_rate = 3  
 if cheer_effect < 5: cheer_rate = 2 
 if cheer_effect < 2: cheer_rate = 1
 if cheer_effect < 1: cheer_rate = 0
 if cheer_effect < 0: cheer_effect = 0 
 txt_count = 2
 $text[1] = '<<$cheer_up>>'
 $text[2] = '<<$cheer_up_result[cheer_rate]>>'
 if master_half_action > 0: dynamic $master_energy_drop  
 master_half_action += 1 
 $special_part = {
  slave_rate["mood"] += cheer_effect
  IF cheer_rate > 0:
   slave['neg_no_prise'] = 0
   slave['pos_prise'] = master_cha 
   if cheer_effect > master_cha: master_cha_rate += 2
   gs '$mod_slave_rise', cheer_rate
  END
  }  
END

!Threaten - improved - crushboss
IF interaction = 1123:
 repulse = -100
 $interaction_type = 'talk' 
 threat_effect = master_domination + master_supermacy - rebell[$slave_psy_status] - already_done_curslave[interaction]
 if already_done_today[interaction] > 0: threat_effect = 0
 if threat_effect < 0: threat_effect = 0
 if threat_effect >= 5: threat_rate = 3  
 if threat_effect < 5: threat_rate = 2 
 if threat_effect < 2: threat_rate = 1
 if threat_effect = 0: threat_rate = 0
 if threat_effect > 0: slave_rate["mood"] -= threat_rate
 if threat_effect < 0: threat_effect = 0 
 txt_count = 2
 $text[1] = '<<$threatening>>'
 $text[2] = '<<$threatening_result[threat_rate]>>'
 if master_half_action > 0: dynamic $master_energy_drop  
 master_half_action += 1 
 if already_done_curslave[interaction] = 0: master_domination_rate += 2
 $special_part = {
	if threat_effect > slave["fear"] and master_domination >= slave["fear"]: slave["fear"] += 1
	slave_rate["angst"] += threat_effect
	if threat_effect <= 0: slave_rate["pride"] += (slave["spoil"] * slave["ego"])
	if threat_effect > slave["pride"]: slave_rate["instinct"] += 2
 }  
END

!Put in place - improved - crushboss
IF interaction = 1124:
 repulse = -100
 $interaction_type = 'talk' 
 threat_effect = slave["fear"] + master_domination + master_supermacy - slave['spoil'] - rebell[$slave_psy_status] - already_done_curslave[interaction]
 if already_done_today[interaction] > 0: threat_effect = 0
 if threat_effect < 0: threat_effect = 0
 if threat_effect >= 5: threat_rate = 3  
 if threat_effect < 5: threat_rate = 2 
 if threat_effect < 2: threat_rate = 1
 if threat_effect = 0: threat_rate = 0
 txt_count = 2
 $text[1] = '<<$straining>>'
 $text[2] = '<<$straining_result[threat_rate]>>'
 $special_part = {
  slave_rate["spoil"] -= (threat_effect + slave["spoil"] + (slave["sensitivity"]/2))
  if threat_effect <= 0: slave_rate["pride"] += (slave["spoil"] * slave["ego"])
  if threat_effect > master_domination: master_domination_rate += 2
  }  
END

!Give a new name
IF interaction = 1125:
 repulse = -100
 $interaction_type = 'talk' 
 txt_count = 1
 $special_part = {
  $given_name = input ("Choose a new name for your slave. Try to avoid excessively long names.")
  IF $given_name ! '': 
   $slave_name = $given_name 
   gs '#txt'
   gs '#txt_2'
   slave_rate['mood'] -= slave['ego'] + slave['pride']
   $text[1] = "   You tell your slave that her new name is <<$slave_name>>. She is your property and you may name her as you wish."    
   else
   $text[1] = "   You tell your slave that you are still thinking of a new name for her. Still, it is important that she understands that she is your property and you can name her as you wish."   
  END
  }  
END

!lab
IF interaction = 21:
 npc = 0
 $place = 'lab'
 $return_lock  = 'menu_form'
 IF assistant_alchemist_rule = 1:
  copyarr '$sp_text', '$assistant_alchemist'  
  dynamic $assistant_energy_drop 
  else
  copyarr '$sp_text', '$slave_alchemist'   
  dynamic $slave_energy_drop   
 END
 copyarr '$display_options', '$lab_options'   
 GT 'shop_general'
END

IF interaction = 22:
 if assistant_alchemist_rule = 1: interaction = 23 & jump 'alchemy_loop'
 npc = 0
 $place = 'lab'
 $return_lock  = 'menu_form'
 txt_count = 2
 $get_pot = 'самогон'
 IF put_kanabis = 0:
  IF $potion_base = 'water' and slave['enchanter'] > 0: $get_pot = 'вакхический_нектар'
  IF $potion_base = 'spirit' and slave['enchanter'] > 1: $get_pot = 'тонизируюзщий_эликсир'
  IF $potion_base = 'slime' and slave['enchanter'] > 2: $get_pot = 'целительный_бальзам'  
 END
 IF put_koffe = 0:
  IF $potion_base = 'slime' and slave['enchanter'] > 4: $get_pot = 'приворотное_зелье'  
 END
 IF put_meth = 0:
  IF $potion_base = 'water' and slave['enchanter'] > 4: $get_pot = 'вода_леты'
  IF $potion_base = 'spirit' and slave['enchanter'] > 3: $get_pot = 'вода_леты'
  IF $potion_base = 'slime' and slave['enchanter'] > 2: $get_pot = 'вода_леты'  
 END
 IF put_opium = 0:
  IF $potion_base = 'spirit' and slave['enchanter'] > 1: $get_pot = 'афродизиак'
  IF $potion_base = 'slime' and slave['enchanter'] > 2: $get_pot = 'мощный_афодизиак'  
 END  
 $text[1] = '   When all components are properly mixed, it''s time for the most critical process.  I need to refine and distill the mix using alchemical equipment, and then saturate the potion with the power of sparks, so that magic gains strength.' 
 $text[2] = $get_pot_description[$get_pot]
 IF $get_pot = 'самогон':
  frige["alcohol"] += 1
  else
  dynamic "<<$get_pot>> += 1"
 END
 :alchemy_loop
END

IF interaction = 23:
 npc = 0
 $place = 'lab'
 $return_lock  = 'menu_form'
 $get_pot = 'самогон'
 txt_count = 2
 IF put_kanabis = 0:
  IF $potion_base = 'water' and assistant['enchanter'] > 0: $get_pot = 'вакхический_нектар'
  IF $potion_base = 'spirit' and assistant['enchanter'] > 1: $get_pot = 'тонизируюзщий_эликсир'
  IF $potion_base = 'slime' and assistant['enchanter'] > 2: $get_pot = 'целительный_бальзам'  
 END
 IF put_koffe = 0:
  IF $potion_base = 'slime' and assistant['enchanter'] > 4: $get_pot = 'приворотное_зелье'  
 END
 IF put_meth = 0:
  IF $potion_base = 'water' and assistant['enchanter'] > 4: $get_pot = 'вода_леты'
  IF $potion_base = 'spirit' and assistant['enchanter'] > 3: $get_pot = 'вода_леты'
  IF $potion_base = 'slime' and assistant['enchanter'] > 2: $get_pot = 'вода_леты'  
 END
 IF put_opium = 0:
  IF $potion_base = 'spirit' and assistant['enchanter'] > 1: $get_pot = 'афродизиак'
  IF $potion_base = 'slime' and assistant['enchanter'] > 2: $get_pot = 'мощный_афодизиак'  
 END  
 $text[1] = '   When all components are properly mixed, it''s time to most critical process. Need to refine and distill mix using alchemical equipment, and then saturate the potion with the power of sparks, so that magic gains strength.' 
 $text[2] = $get_pot_description[$get_pot]
 IF $get_pot = 'самогон':
  frige["alcohol"] += 1
  else
  dynamic "<<$get_pot>> += 1"
 END
END

!slave sleeping condition
IF interaction = 321:
 slave_sleep_condition = -2
 $interaction_type = 'special' 
 $special_bg = $carceri
 $text[1] = '<<$slave_sleep_condition[1]>>'
END
IF interaction = 322:
 slave_sleep_condition = -1
 $interaction_type = 'special'
 $special_bg = $bare_floor
 $text[1] = '<<$slave_sleep_condition[2]>>'
END
IF interaction = 323:
 slave_sleep_condition = 0
 $interaction_type = 'special'
 $special_bg = $sleeping_mat 
 $text[1] = '<<$slave_sleep_condition[3]>>'
END
IF interaction = 324:
 slave_sleep_condition = 1
 $interaction_type = 'special' 
 $special_bg = $master_bad  
 $text[1] = '<<$slave_sleep_condition[4]>>'
END
IF interaction = 325:
 slave_sleep_condition = 2
 $interaction_type = 'special' 
 $special_bg = $bouduar
 $text[1] = '<<$slave_sleep_condition[5]>>'
END

!slave food ration
IF interaction = 331:
 slave_ration = -3
 $interaction_type = 'special' 
 $text[1] = '<<$slave_ration[1]>>'
END
IF interaction = 332:
 slave_ration = -2
 $interaction_type = 'special' 
 $special_bg = $bread_and_water    
 $text[1] = '<<$slave_ration[2]>>'
END
IF interaction = 333:
 slave_ration = -1
 $interaction_type = 'special' 
 $special_bg = $diet 
 $text[1] = '<<$slave_ration[3]>>'
END
IF interaction = 334:
 slave_ration = 0
 $interaction_type = 'special' 
 $special_bg = $caned_food  
 $text[1] = '<<$slave_ration[4]>>'
END
IF interaction = 335:
 slave_ration = 1
 $interaction_type = 'special' 
 $special_bg = $double_ration  
 $text[1] = '<<$slave_ration[5]>>'
END
IF interaction = 336:
 slave_ration = 2
 $interaction_type = 'special' 
 $special_bg = $cooked_food   
 $text[1] = '<<$slave_ration[6]>>'
END
IF interaction = 337:
 enable_dessert = 1
 $interaction_type = 'special' 
 $special_bg = $dessert    
 $text[1] = '<<$slave_ration[7]>>'
END
IF interaction = 338:
 enable_dessert = 0
 $interaction_type = 'special' 
 $text[1] = '<<$slave_ration[8]>>'
END

!masters interaction
!master washes himself - no bath rule - menu_take_bath
IF interaction = 34:
 $interaction_type = 'special_jpg' 
 master_hygiene_rate = 0
 master_hygiene = 0 
 master_mood['pos_self_clean'] = 1
 house_mess_rate += 3
 txt_count = 1
 g = RAND(1,3)
 if g = 1: $special_bg = 'scene\master_bathing'
 if g = 2: $special_bg = 'scene\master_bathing_2'
 if g = 3: $special_bg = 'scene\master_bathing_3'
 $text[1] = '<<$bathing_master_alone>>'
 $place = 'bathroom' 
 npc = 0 
END

!master cooks
IF interaction = menu_Prepare_meal:
 $interaction_type = 'special'
 npc = 0 
 if cooked_food < master_butler: cooked_food = master_butler
 if master_butler = 6: cooked_food = 5
 master_butler_rate += 1
 house_mess_rate += 5
 master_hygiene_rate += 5 
 master_mood['neg_cook'] = 3 + brand_reputation - master_butler
 dynamic $master_energy_drop
 txt_count = 1
 $text[1] = '<<$master_cook_description[master_butler]>>'
 $place = 'kitchen' 
END

!master cleans the house
IF interaction = 36:
 $interaction_type = 'special'
 npc = 0 
 master_butler_rate += 1
 master_mood['neg_cleaning'] = 1 + brand_reputation
 dynamic $master_energy_drop
 txt_count = 1
 $text[1] = '<<$master_clean_description[master_butler]>>'
 master_hygiene_rate += house_mess + 2 
 if house_mess_rate > 80: house_mess_rate = 80
 house_mess_rate -= (master_butler*16)
 if house_mess < 0: house_mess = 0
 if house_mess_rate < 0: house_mess_rate = 0
 dynamic $house_cleaning 
END

!Assistant assignments
!Assistant clean the house
IF interaction = menu_Tidy_A:
 repulse = -5
 $interaction_type = 'make_assistant_do'
 $special_bg = $cleaning[assistant_type]  
 job_skill = assistant["service"] 
 $done_txt = '  <<$assistant_cleans_description[job_skill]>>'
 add_house_mess = 0
 add_assistant_hygiene = house_mess + 2
 skill_rise = 1 
 $target_skill = 'assistant_rate["service"]'
 $special_part = {
 house_mess_rate -= (assistant["service"]*16)
 if house_mess < 0: house_mess = 0
 if house_mess_rate < 0: house_mess_rate = 0
 dynamic $house_cleaning
 }
END

!assistant cooks
IF interaction = menu_dinner_A:
 $interaction_type = 'make_assistant_do'
 repulse = -5
 $special_bg = $cooking[assistant_type] 
 job_skill = assistant["cook"]
 $done_txt = '  <<$assistant_cook_description[job_skill]>>'
 skill_rise = 1
 add_assistant_hygiene = 5
 add_house_mess = 5
 $target_skill = 'assistant_rate["cook"]'
 $special_part = {
 if cooked_food < assistant["cook"]: cooked_food = assistant["cook"]
 }
 $place = 'kitchen'   
END

!assistant washes master
IF interaction = 5519:
 repulse = -100
 $interaction_type = 'make_assistant_do'
 $special_bg = $washing[assistant_type]  
 $refuse_txt = '<<$assistant_name>> refuses to wash you. Looks like she needs to be taught a lesson of obedience.'
 $done_txt = $washing_description_assistant[assistant["petting"]]
 sin_potential = 0
 add_house_mess = 3
 add_assistant_hygiene = 0
 if assistant["parfume"] = 1: assistant["parfume"] = 0
 $special_part = {
 txt_count = 2
 txt = 2
 diligence = 5
 oral_wash = min (diligence, assistant["oral"]) 
 assistant_skill = oral_wash 
 master_mood_rate += assistant["petting"] + oral_wash
 $text[2] = $oral_wash_description_assistant[oral_wash]
 assistant_rate["hygiene"] = 0
 assistant["hygiene"] = 0
 assistant["pos_slave_clean"] = 1
 assistant_rate["arousal"] -= master_libido 
 master_hygiene_rate = 0
 master_hygiene = 0 
 master_mood['pos_self_clean'] = 1
 a = max (assistant["oral"], assistant["petting"]) 
 if a > diligence: a = diligence 
 if a >= brand_reputation: master_mood['pos_massage'] = 1
 }
 $place = 'bathroom'  
END

!assistant washes slave
IF interaction = menu_assistant_washes_slave:
 repulse = -100
 $interaction_type = 'make_assistant_do'
 $special_bg = $lesbo_bath[assistant_type]
 $refuse_txt = '<<$assistant_name>> refuses to wash <<$slave_name>>. Looks like she needs to be taught a lesson of obedience.'
 $done_txt = $assistant_wash_slave
 sin_potential = 0
 add_house_mess = 3
 add_assistant_hygiene = 0
 add_slave_hygiene = 0
 if assistant["parfume"] = 1: assistant["parfume"] = 0
 if slave["parfume"] = 1: slave["parfume"] = 0
 $special_part = {
 txt_count = 1
 diligence = 5
 oral_wash = min (diligence, assistant["oral"]) 
 assistant_skill = oral_wash 
 slave_rate["mood"] += assistant["petting"] + oral_wash
 assistant_rate["hygiene"] = 0
 assistant["hygiene"] = 0
 assistant["pos_slave_clean"] = 1
 slave_rate["hygiene"] = 0
 slave["hygiene"] = 0
 slave["pos_slave_clean"] = 1
 a = max (assistant["oral"], assistant["petting"]) 
 if a > diligence: a = diligence 
 }
 $place = 'bathroom'  
END

!active sex with assistant
IF interaction = menu_assistant_active_sex:
 $place = 'bedroom'
 $sex_partner = 'assistant' 
 master_penetration_rate += 3
 master_oral_rate += 3
 master_petting_rate += 3
 master_fetish_rate += 2
 master_domination_rate += 1
 gt 'sex_initiate'
END

!relaxed sex with assistant - fixed and improved - crushboss
IF interaction = menu_assistant_relaxed_Vaginal:
 $interaction_type = 'make_assistant_do'
 $special_bg = $sex_vaginal[assistant_type]
 if assistant_virginity < 2: $special_bg = $defloration[assistant_type]  
 sex_ability = (2 + assistant["roleplay"] + assistant["oral"] + assistant["penetration"])/3
 sex_quality = max (1, sex_ability)
 add_house_mess = 10
 add_master_hygiene = 15
 add_assistant_hygiene = 15 
 $special_part = {
 if assistant["sub_vaginal"] < 2: assistant["sub_vaginal"] += 1
 assistant["sub_vaginal_xp"] += sex_quality
 erotic_stimulation = master_penetration
 orgastic = 1
 ejaculation_intensity = sex_quality
 txt_count = 3 
 $play_sound[1] = '<<$fuck_sound[assistant["age"]]>>'
 $text[1] = $assistant_seduction[assistant["roleplay"]]
 $text[2] = $assistant_foreplay[assistant["oral"]]
 $text[3] = $assistant_fuck[assistant["penetration"]]
 dynamic $master_energy_drop
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 1
  master_penetration_rate += 2
  assistant['neg_horny'] = 0
  assistant['pos_gentle'] = 1
 END 
 if ejaculation_intensity > 0: dynamic $master_ejaculate  
 IF erotic_stimulation > 0:
  dynamic $sex_acceptance_assistant
  dynamic $erotic_stimulation_assistant
 END
 IF orgastic > 0:
  IF final_stimulation > 0:
   orgastic = 2
   assistant["nymphomania_xp"] += 1
   dynamic $assistant_orgasm
   txt_count = 4
   $text[4] = '  <<$orgasm_assistant_description[1]>>'
  END
 END
 IF assistant_virginity < 2: 
  assistant_virginity = 2
 END
 IF assistant['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END 
 }  
 gs '$pregnancy_assistant' 
 $place = 'bedroom'    
END

!relaxed anal sex with assistant - fixed and improved - crushboss
IF interaction = menu_assistant_relaxed_Anal:
 $interaction_type = 'make_assistant_do'
 $special_bg = $analsex[assistant_type]
 sex_ability = (2 + assistant["roleplay"] + assistant["oral"] + assistant["penetration"])/3
 sex_quality = max (1, sex_ability)
 add_house_mess = 10
 add_master_hygiene = 20
 add_assistant_hygiene = 20 
 $special_part = {
 if assistant["sub_anal"] < 2: assistant["sub_anal"] += 1
 assistant["sub_anal_xp"] += sex_quality
 erotic_stimulation = master_penetration - 1
 if assistant["sub_anal"] > 2: orgastic = 1
 if assistant["sub_anal"] <= 2: painful = 1 
 ejaculation_intensity = sex_quality
 txt_count = 3 
 $play_sound[1] = '<<$assfuck_sound[assistant["age"]]>>'
 $text[1] = $assistant_seduction_anal[assistant["roleplay"]]
 $text[2] = $assistant_foreplay_anal[assistant["oral"]]
 $text[3] = $assistant_fuck_anal[assistant["penetration"]]
 dynamic $master_energy_drop
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 1
  master_penetration_rate += 2
  assistant['neg_horny'] = 0
  assistant['pos_gentle'] = 1
 END 
 if ejaculation_intensity > 0: dynamic $master_ejaculate  
 IF erotic_stimulation > 0:
  dynamic $sex_acceptance_assistant
  dynamic $erotic_stimulation_assistant
 END
 IF orgastic > 0:
  IF final_stimulation > 0:
   orgastic = 2
   assistant["nymphomania_xp"] += 1
   dynamic $assistant_orgasm
   txt_count = 4
   $text[4] = '  <<$orgasm_assistant_description[1]>>'
  END
 END
 IF assistant['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END 
 }  
 $place = 'bedroom'    
END

!relaxed oral with assistant - fixed and improved - crushboss
IF interaction = menu_assistant_relaxed_Oral:
 $interaction_type = 'make_assistant_do'
 $special_bg = $bj[assistant_type]
 sex_ability = (2 + assistant["roleplay"] + assistant["oral"] + assistant["oral"])/3
 sex_quality = max (1, sex_ability)
 sin_potential = 0
 add_house_mess = 10
 add_master_hygiene = 10 
 add_assistant_hygiene = 15
 $special_part = {
 assistant["sub_bj_xp"] += sex_quality
 if assistant["sub_bj"] < 2: assistant["sub_bj"] += 1
 IF assistant["oral"] > 3: erotic_stimulation = 1
 IF assistant["oral"] > 3: orgastic = 1
 ejaculation_intensity = sex_quality
 txt_count = 3 
 $play_sound[1] = '<<$bj_sound[assistant["age"]]>>'
 $text[1] = $assistant_seduction_oral[assistant["roleplay"]]
 $text[2] = $assistant_foreplay_oral[assistant["oral"]]
 $text[3] = $assistant_fuck_oral[assistant["oral"]]
 dynamic $master_energy_drop
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 1
  master_oral_rate += 2
  assistant['neg_horny'] = 0
  assistant['pos_gentle'] = 1
 END 
 if ejaculation_intensity > 0: dynamic $master_ejaculate  
 IF erotic_stimulation > 0:
  dynamic $sex_acceptance_assistant
  dynamic $erotic_stimulation_assistant
 END
 IF orgastic > 0:
  IF final_stimulation > 0:
   orgastic = 2
   assistant["nymphomania_xp"] += 1
   dynamic $assistant_orgasm 
   txt_count = 4
   $text[4] = '  <<$orgasm_assistant_description[1]>>'
  END
 END
 }  
 $place = 'bedroom'    
END

!Assistant doing massage - crushboss
IF interaction = 5501:
 repulse = 2
 $interaction_type = 'make_assistant_do'
 $special_bg = $pazuri[assistant_type]  
 $refuse_txt = '<<$assistant_name>> refuses to make you a massage. Looks like she needs to be taught a lesson of obedience.'
 $done_txt = $assistant_massages_master[assistant["petting"]]
 sin_potential = 4
 add_house_mess = 5
 add_assistant_hygiene = 5
 $special_part = {
 massage_quality = assistant["petting"]
 IF massage_quality > 2 and already_done_today[interaction] = 0 and master_massaged = 0: 
  master_massaged = 1
  master_libido_rate += massage_quality + assistant["obedience"]
  if master_energy < 5: master_energy += 1
  if massage_quality >= brand_reputation: master_mood['pos_massage'] = 1
  assistant_rate['arousal'] += massage_quality + assistant["sensitivity"] + assistant["temper"] + assistant["nature"] 
 END
 master_mood_rate += massage_quality*2 
 master_hygiene_rate += 2
 }
 $place = 'bedroom'   
END

!Assistant entertains master - crushboss
!concert - assistant
IF interaction = 5502:
 show_assistant_fullimage = 1
 npc = 1
 $npc_id = '<<$assistant_name>>'
 $place = 'study'
 $special_bg = $study
 repulse = 1
 $interaction_type = 'make_assistant_do'
 $special_bg = $music[assistant_type]  
 $refuse_txt = '<<$assistant_name>> refuses to entertain you with representation. Looks like she needs to be taught a lesson of obedience.'
 assistant_skill = (1 + assistant["music"] + assistant["vocal"])/2
 concert_quality = assistant_skill
 $done_txt = $assistant_concert[concert_quality]
 sin_potential = 3
 add_house_mess = 5
 add_assistant_hygiene = 5
 skill_rise = concert_quality
 $target_skill = 'assistant_rate["music"]'
 $target_affinity = 'music_affinity'
 $special_part = {
 assistant_rate["vocal"] += concert_quality
 master_mood_rate += concert_quality*3 
 IF concert_quality > 0:
  master_mood['pos_show'] = 1 + concert_quality - brand_reputation
  assistant_rate["intellect"] += concert_quality
  IF assistant["sin"] = 0 and assistant["pride"] < 4:
   assistant_rate["temper"] += 1
   assistant_rate["sensitivity"] += 1
  END
 END
 }
 if hall = 1:  $place = 'hall'   
END

!acrobatic - assistant - crushboss
IF interaction = 5503:
 repulse = 1
 $interaction_type = 'make_assistant_do'
 $special_bg = $dance[assistant_type]  
 $refuse_txt = '<<$assistant_name>> refuses to entertain you with representation. Looks like she needs to be taught a lesson of obedience.'
 assistant_skill = (1 + assistant["stamina"] + assistant["callisthenics"])/2
 concert_quality = assistant_skill
 $done_txt = $assistant_acrobatic_stunt[concert_quality]
 sin_potential = 3
 add_house_mess = 5
 add_assistant_hygiene = 20
 skill_rise = concert_quality
 $target_skill = 'assistant_rate["stamina"]'
 $special_part = {
 assistant["calories"] -= 2
 assistant_rate["callisthenics"] += concert_quality
 master_mood_rate += concert_quality*3 
 IF concert_quality > 0:
  master_mood['pos_show'] = 1 + concert_quality - brand_reputation
  IF assistant["sin"] = 0 and assistant["pride"] < 4:
   assistant_rate["temper"] += 1
   assistant_rate["sensitivity"] += 1
  END
 END
 }
 if hall = 1:  $place = 'hall'   
END

!striptease - assistant - crushboss
IF interaction = 5504:
 repulse = 2
 $interaction_type = 'make_assistant_do'
 $special_bg = $dance[assistant_type]  
 $refuse_txt = '<<$assistant_name>> refuses to entertain you with representation. Looks like she needs to be taught a lesson of obedience.'
 assistant_skill = (1 + assistant["roleplay"] + assistant["callisthenics"])/2
 concert_quality = assistant_skill
 strip_ability = assistant_skill
 $done_txt = $assistant_strip[concert_quality]
 sin_potential = 5
 add_house_mess = 5
 add_assistant_hygiene = 10
 skill_rise = concert_quality
 $target_skill = 'assistant_rate["roleplay"]'
 $special_part = {
 assistant["calories"] -= 1
 assistant_rate["callisthenics"] += concert_quality
 master_mood_rate += concert_quality*3 
 IF concert_quality > 0:
  master_mood['pos_show'] = 1 + concert_quality - brand_reputation
  IF assistant["sin"] = 0 and assistant["pride"] < 4:
   assistant_rate["temper"] += 1
   assistant_rate["sensitivity"] += 1
  END
 END
 if strip_ability >= master_excitement and master_excitement < 5: master_excitement_rate += strip_ability*10
 if strip_ability >= master_libido: master_libido_rate += strip_ability*3
 if master_excitement > 5: master_excitement = 5
 assistant_rate['arousal'] += strip_ability + assistant["sensitivity"] + assistant["temper"] + assistant["nature"]
 }
 if hall = 1:  $place = 'hall'   
END

!erotic show - assistant - crushboss
IF interaction = 5505:
 repulse = 3
 $interaction_type = 'make_assistant_do'
 $special_bg = $masturbation[assistant_type]  
 $refuse_txt = '<<$assistant_name>> refuses to entertain you with representation. Looks like she needs to be taught a lesson of obedience.'
 assistant_skill = (1 + assistant["roleplay"] + assistant["expression"])/2
 concert_quality = assistant_skill
 erotic_ability = assistant_skill
 $done_txt = $assistant_ero_show[concert_quality]
 sin_potential = 6
 add_house_mess = 5
 add_assistant_hygiene = 10
 skill_rise = concert_quality
 $target_skill = 'assistant_rate["roleplay"]'
 $special_part = {
 assistant["calories"] -= 1
 assistant_rate["expression"] += concert_quality
 master_mood_rate += concert_quality*3 
 IF concert_quality > 0:
  master_mood['pos_show'] = 1 + concert_quality - brand_reputation
  IF assistant["sin"] = 0 and assistant["pride"] < 4:
   assistant_rate["temper"] += 1
   assistant_rate["sensitivity"] += 1
  END
 END
 if erotic_ability >= master_excitement and master_excitement < 5: master_excitement_rate += erotic_ability*10
 if erotic_ability >= master_libido: master_libido_rate += erotic_ability*3
 if master_excitement > 5: master_excitement = 5
 assistant_rate['arousal'] += concert_quality + assistant["sensitivity"] + assistant["temper"] + assistant["nature"]
 }
 if hall = 1:  $place = 'hall'   
END

!lesbian show - assistant - crushboss
IF interaction = 5518:
 repulse = 4
 $interaction_type = 'make_assistant_do'
 $special_bg = $masturbation[assistant_type]  
 $refuse_txt = '<<$assistant_name>> refuses to entertain you with a lesbian show. Looks like she needs to be taught a lesson of obedience.'
 assistant_skill = (1 + assistant["roleplay"] + slave["roleplay"])/2
 concert_quality = assistant_skill
 erotic_ability = assistant_skill
 $done_txt = $slave_lesbo_show[concert_quality]
 sin_potential = 6
 add_house_mess = 5
 add_assistant_hygiene = 10
 skill_rise = concert_quality
 $target_skill = 'assistant_rate["roleplay"]'
 $special_part = {
 $special_bg = $lesbian[assistant_type]    
 assistant["calories"] -= 1
 IF concert_quality > 0:
  master_mood['pos_show'] = 2 + concert_quality - brand_reputation
  IF assistant["sin"] = 0 and assistant["pride"] < 4:
   assistant_rate["temper"] += 1
   assistant_rate["sensitivity"] += 1
   !Line below needed
   assistant["lesbian_xp"] += 1
   if assistant["homosexualism"] ! 0 and assistant["homosexualism_revealed"] = 0: assistant["homosexualism_revealed"] = 1
  END
 END
 if erotic_ability >= master_excitement and master_excitement < 5: master_excitement_rate += erotic_ability*10 
 if erotic_ability >= master_libido: master_libido_rate += erotic_ability*3
 if master_excitement > 5: master_excitement = 5
 assistant_rate['arousal'] += concert_quality + assistant["sensitivity"] + assistant["temper"] + assistant["nature"]
 }
 if hall = 1:  $place = 'hall'   
END

!Drugs - assistant

!Drink Camra - assistant - crushboss
IF interaction = 5506:
 $interaction_type = 'get_grug_assistant'
 repulse = -5
 $special_part = {
 lab_store["koffe"] -= 1
 assistant['neg_slave_koffe'] = 0
 IF assistant['koffed'] = 0:  
  if assistant['energy'] < 5: assistant['energy'] += 1
  assistant['koffed'] = 1
  assistant['pos_slave_koffe'] = 1
 END 
 }
END

!Blaze it - Datura - assistant - crushboss
IF interaction = 5507:
 $interaction_type = 'get_grug_assistant'
 repulse = -1
 $special_part = {
 lab_store["kanabis"] -= 1
 assistant['pos_slave_kannabis'] = 1
 a = RAND (1,100)
 if assistant['kannabis_pressure'] > a: assistant_rate["intellect"] -= 1
 assistant['kannabis_pressure'] += 1
 }
END

!Chug - Alcohol - assistant - crushboss
IF interaction = 5508:
 $interaction_type = 'get_grug_assistant'
 repulse = -5
 $special_part = {
 frige["alcohol"] -= 1
 assistant['neg_slave_alco'] = 0
 IF assistant['on_alco'] = 0:  
  assistant['on_alco'] = 1
  assistant['pos_slave_alco'] = 1
  else
  msg "Pretty drunk, your assistant falls to the floor unconscious."
  assistant_state = CONST_INT['slave_faint']
  assistant_exhaustion_fainted = 1
  assistant['energy'] = -4
  dynamic $assistant_energy_drop
 END 
 }
END

!Smell Pollen - assistant - crushboss
IF interaction = 5509:
 $interaction_type = 'get_grug_assistant'
 repulse = 1
 $special_part = {
 lab_store["meth"] -= 1
 assistant['neg_slave_meth'] = 0
 IF assistant['on_meth'] = 0:  
  assistant['energy'] += 5
  assistant['on_meth'] = 1
  assistant['pos_slave_meth'] = 1 
  else
  msg "You decide to give your assistant another dose on the same day. Breathing the dust, your assistant suddenly starts shaking in a fit and falls to the floor unconscious. It seems her nose is bleeding."
  assistant_state = CONST_INT['slave_faint']
  assistant_stamina_fainted = 1
  assistant_rate['stamina'] = 4
  assistant['stamina'] = 0
 END 
 }
END

!Your dose of happiness - Oblivion - assistant - crushboss
IF interaction = 5510:
 $interaction_type = 'get_grug_assistant'
 repulse = 3
 $special_part = {
 lab_store["opium"] -= 1
 assistant['neg_slave_opium'] = 0
 IF assistant['on_opium'] = 0:  
  assistant['on_opium'] = 1
  assistant['pos_slave_opium'] = 1
  gs '$mod_assistant_rise', 3
  else
  msg "You decide to give your assistant another dose on the same day. After applying, your assistant rolled her eyes and goes on with a silly smile on her face for a while, ignoring your commands. Then she falls to the floor, her mouth fills with foam mixed with blood."
  assistant_state = CONST_INT['slave_faint']
  assistant_stamina_fainted = 1
  assistant_rate['stamina'] = 4
  assistant['stamina'] = 0
 END 
 }
END

!Potions, Tonics, and Elixirs - assistant

!Bacchic Nectar - alcohol - assistant - crushboss
IF interaction = 5511:
 $interaction_type = 'get_grug_assistant'
 repulse = -5
 $special_part = {
 вакхический_нектар -= 1
 assistant_rate['arousal'] += 25
 }
END

!Tonic Elixir - assistant - crushboss
IF interaction = 5512:
 $interaction_type = 'get_grug_assistant'
 repulse = -5
 $special_part = {
 тонизируюзщий_эликсир -= 1
 if assistant['energy'] < 5: assistant['energy'] += 1
 assistant_rate["stamina"] -= assistant['energysed']
 assistant['energysed'] += 1
 }
END

!Miracle Balm - healing - assistant - crushboss
IF interaction = 5513:
 $interaction_type = 'get_grug_assistant'
 repulse = -5
 $special_part = {
 целительный_бальзам -= 1
 if assistant_rate['wounds'] > 0: assistant_rate['wounds'] -= 25
 }
END

!Aphrodisiac - assistant - crushboss
IF interaction = 5514:
 $interaction_type = 'get_grug_assistant'
 repulse = 0
 $special_part = {
 афродизиак -= 1
 if assistant['arousal'] < 5: assistant_rate['arousal'] += 50
 }
END

!Powerful Aphrodisiac - assistant - crushboss
IF interaction = 5515:
 $interaction_type = 'get_grug_assistant'
 repulse = 0
 $special_part = {
 мощный_афодизиак -= 1
 assistant['arousal'] = 5
 assistant_rate['arousal'] = 200
 }
END

!Philtre potion - Love Potion - assistant - crushboss
IF interaction = 5516:
 $interaction_type = 'get_grug_assistant'
 repulse = 5
 $special_part = {
 приворотное_зелье -= 1
 IF assistant['on_love_drug'] = 0:
  assistant['on_love_drug'] = 1
  assistant['pos_slave_love'] = 50
  assistant_rate["moral"] += 50
  else
  msg "You give to your assistant the philtre, but it does not work the second time. At least you do not see any effect."
 END
 }
END

!Water of Lethe - assistant - crushboss
IF interaction = 5517:
 $interaction_type = 'get_grug_assistant'
 repulse = 5
 $special_part = {
 вода_леты -= 1
 assistant_rate["angst"] = 0 
 assistant["angst"] = 0 
 assistant_rate["fear"] = 0 
 assistant["fear"] = 0 
 assistant_rate["spoil"] = 0 
 assistant["spoil"] = 0
 assistant_rate["arousal"] = 0
 assistant["arousal"] = 0
 assistant["sin"] = 0
 assistant["virtue"] = 0
 assistant_rate["custom"] = 0
 assistant_rate["rational"] = 0
 assistant_rate["instinct"] = 0
 assistant_rate["mood"] = 0 
 assistant["mood"] = 0
 assistant_well_rested = 0
 assistant_exhaustion_fainted = 0
 assistant_nearly_fainted = 0
 assistant_stamina_fainted = 0
 assistant['obedience_difficulty'] = 0
 assistant_rate["intellect"] -= 40
 killvar '$assistant_prev_status'
 killvar '$assistant_psy_status'
 gs '$mod_assistant_rise', 100
 gs '$mod_assistant_drop', 100
 menu_form = 0
 gs 'main_layout'
 gs '$calculate_attributes'
 gs '$assistant_rank_stats'
 gs '$assistant_traits'
 gs '$newloc'
 GT 'menu_form'
 }
END

!Slave assignments
!Slave clean the house
IF interaction = menu_Tidy_S:
 repulse = -5
 complex_repulse = -5
 $interaction_type = 'make_slave_do'
 $special_bg = $cleaning[slave_type]  
 $refuse_txt = '  <<$slave_name>> refuses to clean the house. Looks like she needs to be taught a lesson of obedience.'
 slave_skill = slave["service"] 
 $done_txt = '  <<$home_work_description[slave_skill]>>'
 sin_potential = 4
 add_house_mess = 1
 add_slave_hygiene = house_mess + 2
 skill_rise = 1 
 $target_skill = 'slave_rate["service"]'
 $target_affinity = 'service_affinity'
 $special_part = {
 house_mess_rate -= (slave["service"]*16)
 if house_mess < 0: house_mess = 0
 if house_mess_rate < 0: house_mess_rate = 0
 dynamic $house_cleaning
 }
END

!slave cooks
IF interaction = menu_dinner_S:
 $interaction_type = 'make_slave_do'
 $special_bg = $cooking[slave_type] 
 repulse = -5
 complex_repulse = -5
 $refuse_txt = '  <<$slave_name>> refuses to cook. Looks like she needs to be taught a lesson of obedience.'
 slave_skill = slave["cook"]
 $done_txt = '  <<$slave_cook_description[slave_skill]>>'
 sin_potential = 4
 skill_rise = 1
 add_slave_hygiene = 5
 add_house_mess = 5
 $target_skill = 'slave_rate["cook"]'
 $target_affinity = 'cook_affinity'  
 $special_part = {
 if cooked_food < slave["cook"]: cooked_food = slave["cook"]
 }
 $place = 'kitchen'   
END

!Slave doing gymnastics
IF interaction = menu_gymnastics_S:
 $interaction_type = 'make_slave_do'
 g = RAND(1,5)
 if g = 1: $special_bg = $gymnastics[slave_type]
 if g = 2: $special_bg = 'girls\scene\gymnastics_8'
 if g = 3: $special_bg = 'girls\scene\gymnastics_9'
 if g = 4: $special_bg = 'girls\scene\gymnastics_13'
 if g = 5: $special_bg = 'girls\scene\gymnastics_15'
 g = 0
 repulse = -5
 complex_repulse = -5  
 if slave['energy'] > 3: complex_repulse = -6
 if slave['energy'] < 0: complex_repulse -= slave['energy'] 
 if slave["sport_affinity"] < 0: complex_repulse += 2    
 IF slave["sport_affinity"] > 0:
  talent_bonus = 5
  complex_repulse = -100
 END 
 if slave["sport_affinity"] < 0: talent_bonus = -3     
 $refuse_txt = '  <<$slave_name>> refuses to do gymnastics. Looks like she needs to be taught a lesson of obedience.'
 $target_skill = 'slave_rate["stamina"]'   
 slave_skill = slave["stamina"]
 misc_bonus = learn_bonus["stamina"]
 skill_rise = 2
 $done_txt = '  <<$work_out_description[slave_skill]>>'
 sin_potential = 4
 add_slave_hygiene = 5
 add_house_mess = 3
 $target_affinity = 'sport_affinity'   
 $special_part = {
 if slave["sport_affinity_revealed"] = 0 and slave["sport_affinity"] = 1: slave["sport_affinity_revealed"] = 1
 slave["calories"] -= 2
 }
 if hall = 1:  $place = 'hall'  
END

!slave washes herself - no bath rule
IF interaction = menu_bath_S:
 $interaction_type = 'special'
 repulse = -10
 complex_repulse = -10
 npc = 0
 $special_bg = $bathing_alone[slave_type]  
 slave_rate["mood"] += slave["hygiene"]
 slave_rate["hygiene"] = 0
 slave["hygiene"] = 0 
 slave['pos_slave_clean'] = 1
 house_mess_rate += 3 
 if slave["parfume"] = 1: slave["parfume"] = 0 
 $text[1] = '<<$bathing_slave_alone[$slave_psy_status]>>'
 $place = 'bathroom'  
END

!slave washes master
IF interaction = 5411:
 repulse = 0
 $interaction_type = 'make_slave_do'
 $special_bg = $washing[slave_type]  
 $refuse_txt = '<<$slave_name>> refuses to wash you. Looks like she needs to be taught a lesson of obedience.'
 $done_txt = $washing_description[slave["petting"]]
 sin_potential = 5
 add_house_mess = 3
 add_slave_hygiene = 0
 if slave["parfume"] = 1: slave["parfume"] = 0
 $special_part = {
 txt_count = 2
 oral_wash = min (diligence, slave["oral"]) 
 slave_skill = oral_wash 
 master_mood_rate += slave["petting"] + oral_wash
 $text[2] = $oral_wash_description[oral_wash]
 slave_rate["hygiene"] = 0
 slave["hygiene"] = 0
 slave["pos_slave_clean"] = 1
 slave_rate["arousal"] -= master_libido 
 master_hygiene_rate = 0
 master_hygiene = 0 
 master_mood['pos_self_clean'] = 1
 a = max (slave["oral"], slave["petting"]) 
 if a > diligence: a = diligence 
 if a >= brand_reputation: master_mood['pos_massage'] = 1
 }
 $place = 'bathroom'  
END

!Slave doing massage
IF interaction = 5412:
 repulse = 2
 $interaction_type = 'make_slave_do'
 $special_bg = $pazuri[slave_type]  
 $refuse_txt = '<<$slave_name>> refuses to give you a massage. Looks like she needs to be taught a lesson of obedience.'
 $done_txt = $slave_massages_master[slave["petting"]]
 sin_potential = 4
 add_house_mess = 5
 add_slave_hygiene = 5
 $special_part = {
 massage_quality = slave["petting"]
 IF massage_quality > 2 and already_done_today[interaction] = 0 and master_massaged = 0: 
  master_massaged = 1
  master_libido_rate += massage_quality + slave["obedience"]
  if master_energy < 5: master_energy += 1
  if massage_quality >= brand_reputation: master_mood['pos_massage'] = 1
  slave_rate['arousal'] += massage_quality + slave["sensitivity"] + slave["temper"] + slave["nature"] 
 END
 master_mood_rate += massage_quality*2 
 master_hygiene_rate += 2
 }
 $place = 'bedroom'   
END

!Slave entertains master
!concert
IF interaction = 54131:
 show_slave_fullimage = 1
 npc = 1
 $npc_id = '<<$slave_name>>'
 $place = 'study'
 $special_bg = $study
 repulse = 0
 $interaction_type = 'make_slave_do'
 $special_bg = $music[slave_type]  
 $refuse_txt = '<<$slave_name>> refuses to entertain you with representation. Looks like she needs to be taught a lesson of obedience.'
 slave_skill = (1 + slave["music"] + slave["vocal"])/2
 concert_quality = slave_skill
 $done_txt = $slave_concert[concert_quality]
 sin_potential = 3
 add_house_mess = 5
 add_slave_hygiene = 5
 skill_rise = concert_quality
 $target_skill = 'slave_rate["music"]'
 $target_affinity = 'music_affinity'
 $special_part = {
 slave_rate["vocal"] += concert_quality
 master_mood_rate += concert_quality*3 
 IF concert_quality > 0:
  master_mood['pos_show'] = 1 + concert_quality - brand_reputation
  slave_rate["intellect"] += concert_quality
  IF slave["sin"] = 0 and slave["pride"] < 4:
   slave_rate["temper"] += 1
   slave_rate["sensitivity"] += 1
  END
 END
 }
 if hall = 1:  $place = 'hall'   
END

!acrobatic
IF interaction = 54132:
 repulse = 0
 $interaction_type = 'make_slave_do'
 $special_bg = $dance[slave_type]  
 $refuse_txt = '<<$slave_name>> refuses to entertain you with representation. Looks like she needs to be taught a lesson of obedience.'
 slave_skill = (1 + slave["stamina"] + slave["callisthenics"])/2
 concert_quality = slave_skill
 $done_txt = $slave_acrobatic_stunt[concert_quality]
 sin_potential = 3
 add_house_mess = 5
 add_slave_hygiene = 20
 skill_rise = concert_quality
 $target_skill = 'slave_rate["stamina"]'
 $special_part = {
 slave["calories"] -= 2
 slave_rate["callisthenics"] += concert_quality
 master_mood_rate += concert_quality*3 
 IF concert_quality > 0:
  master_mood['pos_show'] = 1 + concert_quality - brand_reputation
  IF slave["sin"] = 0 and slave["pride"] < 4:
   slave_rate["temper"] += 1
   slave_rate["sensitivity"] += 1
  END
 END
 }
 if hall = 1:  $place = 'hall'   
END

!striptease
IF interaction = 54133:
 repulse = 2
 $interaction_type = 'make_slave_do'
 $special_bg = $dance[slave_type]  
 $refuse_txt = '<<$slave_name>> refuses to entertain you with representation. Looks like she needs to be taught a lesson of obedience.'
 slave_skill = (1 + slave["roleplay"] + slave["callisthenics"])/2
 concert_quality = slave_skill
 strip_ability = slave_skill
 $done_txt = $slave_strip[concert_quality]
 sin_potential = 5
 add_house_mess = 5
 add_slave_hygiene = 10
 skill_rise = concert_quality
 $target_skill = 'slave_rate["roleplay"]'
 $special_part = {
 slave["calories"] -= 1
 slave_rate["callisthenics"] += concert_quality
 master_mood_rate += concert_quality*3 
 IF concert_quality > 0:
  master_mood['pos_show'] = 1 + concert_quality - brand_reputation
  IF slave["sin"] = 0 and slave["pride"] < 4:
   slave_rate["temper"] += 1
   slave_rate["sensitivity"] += 1
  END
 END
 if strip_ability >= master_excitement and master_excitement < 5: master_excitement_rate += strip_ability*10
 if strip_ability >= master_libido: master_libido_rate += strip_ability*3
 if master_excitement > 5: master_excitement = 5
 slave_rate['arousal'] += strip_ability + slave["sensitivity"] + slave["temper"] + slave["nature"]
 }
 if hall = 1:  $place = 'hall'   
END

!erotic show
IF interaction = 54134:
 repulse = 3
 $interaction_type = 'make_slave_do'
 $special_bg = $masturbation[slave_type]  
 $refuse_txt = '<<$slave_name>> refuses to entertain you with representation. Looks like she needs to be taught a lesson of obedience.'
 slave_skill = (1 + slave["roleplay"] + slave["expression"])/2
 concert_quality = slave_skill
 erotic_ability = slave_skill
 $done_txt = $slave_ero_show[concert_quality]
 sin_potential = 6
 add_house_mess = 5
 add_slave_hygiene = 10
 skill_rise = concert_quality
 $target_skill = 'slave_rate["roleplay"]'
 $special_part = {
 slave["calories"] -= 1
 slave_rate["expression"] += concert_quality
 master_mood_rate += concert_quality*3 
 IF concert_quality > 0:
  master_mood['pos_show'] = 1 + concert_quality - brand_reputation
  IF slave["sin"] = 0 and slave["pride"] < 4:
   slave_rate["temper"] += 1
   slave_rate["sensitivity"] += 1
  END
 END
 if erotic_ability >= master_excitement and master_excitement < 5: master_excitement_rate += erotic_ability*10
 if erotic_ability >= master_libido: master_libido_rate += erotic_ability*3
 if master_excitement > 5: master_excitement = 5
 slave_rate['arousal'] += concert_quality + slave["sensitivity"] + slave["temper"] + slave["nature"]
 }
 if hall = 1:  $place = 'hall'   
END

!lesbian show
IF interaction = 54135:
 repulse = 4
 $interaction_type = 'make_slave_do'
 $special_bg = $masturbation[slave_type]  
 $refuse_txt = '<<$slave_name>> refuses to entertain you with a lesbian show. Looks like she needs to be taught a lesson of obedience.'
 slave_skill = (1 + slave["roleplay"] + assistant["roleplay"])/2
 concert_quality = slave_skill
 erotic_ability = slave_skill
 $done_txt = $slave_lesbo_show[concert_quality]
 sin_potential = 6
 add_house_mess = 5
 add_slave_hygiene = 10
 skill_rise = concert_quality
 $target_skill = 'slave_rate["roleplay"]'
 $special_part = {
 $special_bg = $lesbian[slave_type]    
 slave["calories"] -= 1
 IF concert_quality > 0:
  master_mood['pos_show'] = 2 + concert_quality - brand_reputation
  IF slave["sin"] = 0 and slave["pride"] < 4:
   slave_rate["temper"] += 1
   slave_rate["sensitivity"] += 1
   !Line below needed
   slave["lesbian_xp"] += 1
   if slave["homosexualism"] ! 0 and slave["homosexualism_revealed"] = 0: slave["homosexualism_revealed"] = 1
  END
 END
 if erotic_ability >= master_excitement and master_excitement < 5: master_excitement_rate += erotic_ability*10 
 if erotic_ability >= master_libido: master_libido_rate += erotic_ability*3
 if master_excitement > 5: master_excitement = 5
 slave_rate['arousal'] += concert_quality + slave["sensitivity"] + slave["temper"] + slave["nature"]
 }
 if hall = 1:  $place = 'hall'   
END

!relaxed sex - fixed and improved - crushboss
IF interaction = 5414:
 repulse = 3
 if slave["nymphomania"] > 0: repulse -= 3
 if slave["nymphomania"] < 0: repulse += 1
 $interaction_type = 'make_slave_do'
 $special_bg = $sex_vaginal[slave_type]
 if virginity < 2: $special_bg = $defloration[slave_type]
 if virginity < 2: painful = 1
 $refuse_txt = '<<$slave_name>> refuses to have sex with you. Well, if she prefers rape - it is easy to arrange...'
 sex_ability = (2 + slave["roleplay"] + slave["oral"] + slave["penetration"])/3
 sex_quality = max (1, sex_ability)
 sin_potential = 6
 add_house_mess = 10
 add_master_hygiene = 15 
 add_slave_hygiene = 15
 $special_part = {
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1  
 slave["calories"] -= 2
 if slave["sub_vaginal"] < 2: slave["sub_vaginal"] += 1
 slave["sub_vaginal_xp"] += sex_quality
 erotic_stimulation = master_penetration
 orgastic = 1
 ejaculation_intensity = sex_quality
 txt_count = 3 
 $play_sound[1] = '<<$fuck_sound[slave["age"]]>>'
 $text[1] = $slave_seduction[slave["roleplay"]]
 $text[2] = $slave_foreplay[slave["oral"]]
 $text[3] = $slave_fuck[slave["penetration"]]
 dynamic $master_energy_drop
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 1
  master_penetration_rate += 2
  slave['neg_horny'] = 0
  slave['pos_gentle'] = 1
 END 
 if ejaculation_intensity > 0: dynamic $master_ejaculate
 IF erotic_stimulation > 0:
  dynamic $sex_acceptance
  dynamic $erotic_stimulation
 END
 IF orgastic > 0:
  IF final_stimulation > 0:
   orgastic = 2
   slave["nymphomania_xp"] += 1
   dynamic $slave_orgasm
   txt_count = 4
   $text[4] = '  <<$orgasm_description[orgasm_description]>>'
  END
 END
 IF virginity < 2: 
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']
 END
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END 
 }  
 gs '$pregnancy' 
 $place = 'bedroom'    
END

!relaxed anal sex - fixed and improved - crushboss
IF interaction = 54141:
 repulse = 5
 if slave["nymphomania"] > 0: repulse -= 3
 if slave["nymphomania"] < 0: repulse += 1
 $interaction_type = 'make_slave_do'
 $special_bg = $analsex[slave_type] 
 $refuse_txt = '<<$slave_name>> refuses to have sex with you. Well, if she prefers rape - it is easy to arrange...'
 sex_ability = (2 + slave["roleplay"] + slave["oral"] + slave["penetration"])/3
 sex_quality = max (1, sex_ability)
 sin_potential = 6
 add_house_mess = 10
 add_master_hygiene = 20 
 add_slave_hygiene = 20
 $special_part = {
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1  
 slave["calories"] -= 2
 if slave["sub_anal"] < 2: slave["sub_anal"] += 1
 slave["sub_anal_xp"] += sex_quality
 erotic_stimulation = master_penetration - 1
 if slave["sub_anal"] >= 2: orgastic = 1
 if slave["sub_anal"] <= 2: painful = 1 
 ejaculation_intensity = sex_quality
 txt_count = 3 
 $play_sound[1] = '<<$assfuck_sound[slave["age"]]>>'
 $text[1] = $slave_seduction_anal[slave["roleplay"]]
 $text[2] = $slave_foreplay_anal[slave["oral"]]
 $text[3] = $slave_fuck_anal[slave["penetration"]]
 dynamic $master_energy_drop
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 1
  master_penetration_rate += 2
  slave['neg_horny'] = 0
  slave['pos_gentle'] = 1
 END 
 if ejaculation_intensity > 0: dynamic $master_ejaculate  
 IF erotic_stimulation > 0:
  dynamic $sex_acceptance
  dynamic $erotic_stimulation
 END
 IF orgastic > 0:
  IF final_stimulation > 0:
   orgastic = 2
   slave["nymphomania_xp"] += 1
   dynamic $slave_orgasm
   txt_count = 4
   $text[4] = '  <<$orgasm_description[orgasm_description]>>'
  END
 END
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END 
 }  
 $place = 'bedroom'    
END

!relaxed oral sex - fixed and improved - crushboss
IF interaction = 54142:
 repulse = 2
 if slave["nymphomania"] > 0: repulse -= 3
 if slave["nymphomania"] < 0: repulse += 1
 $interaction_type = 'make_slave_do'
 $special_bg = $bj[slave_type] 
 $refuse_txt = '<<$slave_name>> refuses to have sex with you. Well, if she prefers rape - it is easy to arrange...'
 sex_ability = (2 + slave["roleplay"] + slave["oral"] + slave["oral"])/3
 sex_quality = max (1, sex_ability)
 slave["sub_bj_xp"] += sex_quality
 sin_potential = 6
 add_house_mess = 10
 add_master_hygiene = 10 
 add_slave_hygiene = 15
 $special_part = {
 slave["calories"] -= 2
 if slave["sub_bj"] < 2: slave["sub_bj"] += 1
 slave["sub_bj_xp"] += sex_quality
 IF slave["oral"] > 3: erotic_stimulation = 1
 IF slave["oral"] > 3: orgastic = 1
 ejaculation_intensity = sex_quality
 txt_count = 3 
 $play_sound[1] = '<<$bj_sound[slave["age"]]>>'
 $text[1] = $slave_seduction_oral[slave["roleplay"]]
 $text[2] = $slave_foreplay_oral[slave["oral"]]
 $text[3] = $slave_fuck_oral[slave["oral"]]
 dynamic $master_energy_drop
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 1
  master_oral_rate += 2
  slave['neg_horny'] = 0
  slave['pos_gentle'] = 1
 END 
 if ejaculation_intensity > 0: dynamic $master_ejaculate  
 IF erotic_stimulation > 0:
  dynamic $sex_acceptance
  dynamic $erotic_stimulation
 END
 IF orgastic > 0:
  IF final_stimulation > 0:
   orgastic = 2
   slave["nymphomania_xp"] += 1
   dynamic $slave_orgasm
   txt_count = 4
   $text[4] = '  <<$orgasm_description[orgasm_description]>>'
  END
 END
 }  
 $place = 'bedroom'    
END

!active sex with slave
IF interaction = 5415:
 $place = 'bedroom'
 $interaction_type = 'make_slave_do'
 repulse = 4
 sin_potential = 6
 dynamic $sex_acceptance 
 res = slave["obedience"] - repulse + sex_acceptance
 if slave['domini_dictum'] = 1: res = 0
 IF res < 0: 
  $refuse_txt = '<<$slave_name>> refuses to have sex with you. Well, if she prefers rape - it is easy to arrange...'
  else
  master_penetration_rate += 3
  master_oral_rate += 3
  master_petting_rate += 3
  master_fetish_rate += 2
  master_domination_rate += 1
  gt 'sex_initiate'
 END
END

!Threesome - non-lesson type - with assistant - similar to relaxed vaginal, anal, and oral sex - improved and fixed - crushboss
IF interaction = menu_threesome:
 repulse = 5
 lesbian = 1
 orgastic = 1
 couch_skill = master_penetration
 $interaction_type = 'make_slave_assistant_do'
 $target_skill = 'slave_rate["sub_threesome"]'
 $target_skill_two = 'assistant_rate["sub_threesome"]'
 $subskill = 'slave["sub_threesome"]'
 $subskill_xp = 'slave["lesbian_xp"]'
 $subskill_two = 'assistant["sub_threesome"]'
 $subskill_two_xp = 'assistant["lesbian_xp"]'
 $target_affinity = 'nymphomania'  
 if slave["nymphomania"] > 0: repulse -= 3
 if slave["nymphomania"] < 0: repulse += 1
 $special_bg = $lesbian[slave_type]
 $refuse_txt = '<<$slave_name>> refuses to have sex with you. Well, if she prefers rape - it is easy to arrange...'
 sex_ability = (assistant["roleplay"] + assistant["oral"] + assistant["penetration"] + slave["roleplay"] + slave["oral"] + slave["penetration"])/6
 sex_quality = max (1, sex_ability)
 if sex_quality < 5: sex_quality += 1
 sin_potential = 6
 add_master_hygiene = 15 
 add_slave_hygiene = 15
 add_assistant_hygiene = 15 
 add_house_mess = 10
 $special_part = {
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1
 if slave["homosexualism"] ! 0 and slave["homosexualism_revealed"] = 0:  slave["homosexualism_revealed"] = 1 
 if slave["sub_threesome"] < 1: slave["sub_threesome"] += 1
 if assistant["sub_threesome"] < 1: assistant["sub_threesome"] += 1
 slave["calories"] -= 2
 erotic_stimulation = master_fetish
 ejaculation_intensity = sex_quality
 if ejaculation_intensity < 2: ejaculation_intensity = 2
 $play_sound[1] = '<<$slopy[0]>>' 
 txt_count = 1
 a = RAND(1,4)
 $text[1] = $trio_sex_description[a]
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 1
  master_penetration_rate += 2
 END 
 if ejaculation_intensity > 0: dynamic $master_ejaculate  
 IF erotic_stimulation > 0:
  dynamic $sex_acceptance
  dynamic $erotic_stimulation
  dynamic $erotic_stimulation_assistant
 END
 IF orgastic > 0:
  IF final_stimulation > 0:
   orgastic = 2 
   dynamic $slave_orgasm
   dynamic $assistant_orgasm
   slave["lesbian_xp"] += 1
   if slave["homosexualism"] ! 0 and slave["homosexualism_revealed"] = 0: slave["homosexualism_revealed"] = 1
   assistant["lesbian_xp"] += 1
   if assistant["homosexualism"] ! 0 and assistant["homosexualism_revealed"] = 0: assistant["homosexualism_revealed"] = 1
   txt_count = 2
   $text[2] = '  <<$orgasm_description[orgasm_description]>>'
  END
 END
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']  
 END
 gs '$pregnancy'
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END 
 npc = 0
 $special_bg = $lesbo[slave_type]  
 }  
 $place = 'bedroom'
 gs '$pregnancy'
END

!Threesome - non-lesson type - no assistant required - similar to relaxed vaginal, anal, and oral sex - option added by crushboss
IF interaction = menu_threesome_noassistant:
 repulse = 5
 orgastic = 1
 if slave["nymphomania"] > 0: repulse -= 3
 if slave["nymphomania"] < 0: repulse += 1
 $interaction_type = 'make_slave_do'
 $special_bg = $lesbian[slave_type]  
 $refuse_txt = '<<$slave_name>> refuses to have sex with you. Well, if she prefers rape - it is easy to arrange...'
 sex_ability = (slave["roleplay"] + slave["oral"] + slave["penetration"])/3
 sex_quality = max (1, sex_ability)
 if sex_quality < 5: sex_quality += 1
 sin_potential = 6
 add_house_mess = 10
 add_master_hygiene = 15 
 add_slave_hygiene = 15
 $special_part = {
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1
 if slave["homosexualism"] ! 0 and slave["homosexualism_revealed"] = 0:  slave["homosexualism_revealed"] = 1
 if slave["sub_threesome"] < 1: slave["sub_threesome"] += 1  
 slave["sub_threesome_xp"] += sex_quality
 slave["calories"] -= 2
 erotic_stimulation = master_fetish
 ejaculation_intensity = sex_quality
 $play_sound[1] = '<<$slopy[0]>>' 
 txt_count = 1
 a = RAND(1,4)
 $text[1] = $trio_sex_description[a]
 dynamic $master_energy_drop
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 1
  master_penetration_rate += 2
 END 
 if ejaculation_intensity > 0: dynamic $master_ejaculate  
 IF erotic_stimulation > 0:
  dynamic $sex_acceptance
  dynamic $erotic_stimulation
 END
 IF orgastic > 0:
  IF final_stimulation > 0:
   orgastic = 2
   dynamic $slave_orgasm
   !Line below needed
   slave["lesbian_xp"] += 1
   if slave["homosexualism"] ! 0 and slave["homosexualism_revealed"] = 0: slave["homosexualism_revealed"] = 1
   txt_count = 2
   $text[2] = '  <<$orgasm_description[orgasm_description]>>'
  END
 END
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END 
 npc = 0
 $special_bg = $lesbo[slave_type]  
 }  
 $place = 'bedroom'
 gs '$pregnancy'
END

!rape
IF interaction = 161:
 $interaction_type = 'rape'
 orgastic = 1
 painful = 1
 $subskill = 'slave["sub_vaginal"]'
 repulse = 4 + slave["ego"] + slave["pride"] + master_excitement
 complex_repulse = max (slave["ego"], slave["pride"])
 if slave["nymphomania"] > 0: repulse -= 4 
 $text[1] = '  <<$rape_description>>'
 $text[2] = '  <<$rape_reaction[$slave_psy_status]>>' 
 $text[3] = '  <<$rape_conclusion[slave["sub_vaginal"]]>>' 
 $play_sound[1] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $sex_vaginal[slave_type]   
 if virginity < 2: $special_bg = $defloration[slave_type]   
 add_master_hygiene = 20 
 add_slave_hygiene = 20 
 add_house_mess = 15
 slave["calories"] -= 2
 ejaculation_intensity = 1
 erotic_stimulation = master_excitement
 if erotic_stimulation = 0: erotic_stimulation = 1
 rape_fear = 5 - slave["sub_vaginal"]
 $special_part = {   
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1  
 slave_rate["custom"] += 1
 slave_rate["pride"] -= rape_fear 
 slave_rate["ego"] -= 1 
 slave_rate["temper"] -= 1   
 slave_rate["angst"] += rape_fear*3
 if slave["moral"] < 3: slave_rate["arousal"] -= ((rape_fear*3) + (slave["sensitivity"]*3))
 if slave_rate["arousal"] < 0: slave_rate["arousal"] = 0
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 2
  master_penetration_rate += 1
 END 
 if final_stimulation <= 0: slave_rate["mood"] -= 5 + slave["sensitivity"]
 IF slave["sub_vaginal"] < 2:
  slave["sub_vaginal"] += 1
  else
  slave_concentration += 1 
 END
 if res < 0: slave_rate["rational"] += rape_fear
 if res < 0: slave_rate["fear"] += rape_fear*3 
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + master_excitement + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration'] 
 END
 gs '$pregnancy' 
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END  
 }   
 $place = 'bedroom'    
END

!oral rape
IF interaction = 162:
 $interaction_type = 'rape'
 disgusting = 1
 painful = 1
 orgastic = 0
 $subskill_xp = 'slave["preversion_xp"]'
 repulse = 5 + slave["pride"] + master_excitement - slave["sub_dt"]
 if slave["preversion"] > 1: repulse -= 5  
 $text[1] = '  <<$oral_rape_description>>'
 $text[2] = '  <<$rape_reaction[$slave_psy_status]>>' 
 $text[3] = '  <<$oral_rape_conclusion[slave["sub_dt"]]>>' 
 $play_sound[1] = '<<$throatfuck_sound[slave["age"]]>>'
 $special_bg = $dt[slave_type]   
 add_master_hygiene = 15 
 add_slave_hygiene = 20 
 add_house_mess = 20
 slave["calories"] -= 2
 ejaculation_intensity = 2
 erotic_stimulation = 1
 rape_fear = 5 - slave["sub_dt"]
 $special_part = {   
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1   
 slave_rate["custom"] += 1
 slave_rate["pride"] -= rape_fear 
 slave_rate["ego"] -= 1 
 slave_rate["temper"] -= 1   
 slave_rate["angst"] += rape_fear*3
 if slave["moral"] < 3: slave_rate["arousal"] -= ((rape_fear*3) + (slave["sensitivity"]*3))
 if slave_rate["arousal"] < 0: slave_rate["arousal"] = 0
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 2
  master_oral_rate += 1
 END 
 IF slave["sub_dt"] < 3:
  slave["sub_dt"] += 1
  else
  slave_concentration += 1 
 END
 if res < 0: slave_rate["rational"] += rape_fear
 if res < 0: slave_rate["fear"] += rape_fear*3 
 if final_stimulation <= 0: slave_rate["mood"] -= 10 + slave["sensitivity"]*2  
 }   
 $place = 'bedroom'    
END

!anal rape
IF interaction = 163:
 $interaction_type = 'rape'
 painful = 1
 disgusting = 1
 orgastic = 0
 $subskill_xp = 'slave["masohism_xp"]'
 repulse = 6 + slave["pride"] + master_excitement - slave["sub_anal"]
 if slave["masohism"] > 1: repulse -= 4   
 $text[1] = '  <<$anal_rape_description>>'
 $text[2] = '  <<$rape_reaction[$slave_psy_status]>>' 
 $text[3] = '  <<$anal_rape_conclusion[slave["sub_anal"]]>>' 
 $play_sound[1] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $analsex[slave_type]   
 add_master_hygiene = 30 
 add_slave_hygiene = 30 
 add_house_mess = 30
 slave["calories"] -= 2
 ejaculation_intensity = 3
 erotic_stimulation = 2
 rape_fear = 5 - slave["sub_anal"]
 $special_part = {   
 if slave["masohism"] ! 0 and slave["masohism_revealed"] = 0: slave["masohism_revealed"] = 1
 slave_rate["custom"] += 1
 slave_rate["pride"] -= rape_fear*2
 slave_rate["ego"] -= 2 
 slave_rate["temper"] -= 2   
 slave_rate["angst"] += rape_fear*5
 if slave["moral"] < 3: slave_rate["arousal"] -= ((rape_fear*5) + (slave["sensitivity"]*5))
 if slave_rate["arousal"] < 0: slave_rate["arousal"] = 0
 IF ejaculation_intensity > 0 and erotic_stimulation > 0:
  master_domination_rate += 2
  master_penetration_rate += 1
 END 
 IF slave["sub_anal"] < 2:
  slave["sub_anal"] += 1
  else
  slave_concentration += 1 
 END
 if res < 0: slave_rate["rational"] += rape_fear
 if res < 0: slave_rate["fear"] += rape_fear*5 
 if final_stimulation <= 0: slave_rate["mood"] -= 15 + slave["sensitivity"]*3   
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END  
 }   
 $place = 'bedroom'    
END

!Personal lessons
!Personal lesson on housekeeping
IF interaction = 1211:
 IF house_mess < 1: 
  $info_text = 'Now the house is clean and tidy. In order to conduct an effective practice session for cleaning - you need at least a minimal mess. You know that it will inevitably appear. Soon.'
  gt 'slave_stat'
 END
 $interaction_type = 'master_teaches_slave'
 $special_bg = $cleaning[slave_type]  
 repulse = -3
 complex_repulse = -3
 if slave["service_affinity"] < 0: complex_repulse += 2 
 if slave["service_affinity"] > 0: talent_bonus = 5  
 sin_potential = 3
 couch_skill = master_butler
 $target_skill = 'slave_rate["service"]'
 $target_affinity = 'service_affinity'
 slave_skill = slave["service"]  
 misc_bonus = learn_bonus["service"] 
 $text[1] = '  <<$service_lesson_description[slave_skill]>>'
 add_master_hygiene = 2
 add_slave_hygiene = house_mess + 2
 $special_part = {
 if slave["service_affinity"] ! 0 and slave["service_affinity_revealed"] = 0: slave["service_affinity_revealed"] = 1    
 house_mess_rate -= (slave["service"]*16)
 if house_mess < 0: house_mess = 0
 if house_mess_rate < 0: house_mess_rate = 0
 master_butler_rate += 1
 dynamic $house_cleaning
 }
END

!Personal lesson on cooking
IF interaction = 1212:
 IF kitchen < 1:
  $info_text = 'You do not have your own kitchen, so you can not cook and conduct cooking lessons at home.'
  gt 'slave_stat'
 END
 $interaction_type = 'master_teaches_slave'
 $special_bg = $cooking[slave_type]
 repulse = -3
 complex_repulse = -3
 if slave["cook_affinity"] < 0: complex_repulse += 2
 if slave["cook_affinity"] > 0: talent_bonus = 5
 sin_potential = 3
 couch_skill = master_butler
 $target_skill = 'slave_rate["cook"]'
 $target_affinity = 'cook_affinity'
 misc_bonus = learn_bonus["cook"]
 slave_skill = slave["cook"]
 $text[1] = '  <<$cook_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 2
 add_slave_hygiene = house_mess + 2
 add_house_mess = 2
 $special_part = {
 master_butler_rate += 1
 if slave["cook_affinity"] ! 0 and slave["cook_affinity_revealed"] = 0: slave["cook_affinity_revealed"] = 1
 if cooked_food < slave["cook"]: cooked_food = slave["cook"]
 if cooked_food < 1: cooked_food = 1
 }
 $place = 'kitchen'
END

!Personal lesson on medicine
!добавлен код прокачки интеллекта для медицины, делопроизводства и алхимии, if diligence > 2 - старание выше двух, т.е. как минимум на троечку, slave["nurse"] < 5 - добавлена для всего на всякий случай, для школы обязательно, т.к. была возможность послать еще раз и получить рейт интеллекта на халяву.
IF interaction = 1213:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $nurse[slave_type] 
 repulse = 1
 complex_repulse = 1 
 if slave["nurse_affinity"] < 0: complex_repulse += 2  
 if slave["nurse_affinity"] > 0: talent_bonus = 5     
 sin_potential = 4
 couch_skill = master_medic
 $target_skill = 'slave_rate["nurse"]'
 $target_affinity = 'nurse_affinity'
 slave_skill = slave["nurse"] 
 misc_bonus = learn_bonus["nurse"]  
 $text[1] = '  <<$nurse_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1 + slave["nurse"]
 add_slave_hygiene = 1 + slave["nurse"]
 add_house_mess = 1 + slave["nurse"]
 $place = 'bedroom'   
 $special_part = {
  master_medic_rate += 2
  if diligence >= 0 and slave["nurse"] < 5: slave_rate["intellect"] += 2
  if slave["nurse_affinity"] ! 0 and slave["nurse_affinity_revealed"] = 0: slave["nurse_affinity_revealed"] = 1     
 }  
END

!Personal lesson on paperwork
IF interaction = 1214:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $secretary[slave_type]  
 repulse = 1
 complex_repulse = 0 
 if slave["intellect"] < 3: complex_repulse = 1
 if slave["secretary_affinity"] < 0: complex_repulse += 2  
 if slave["secretary_affinity"] > 0: talent_bonus = 5     
 sin_potential = 3
 couch_skill = master_butler
 $target_skill = 'slave_rate["secretary"]'
 $target_affinity = 'secretary_affinity'
 slave_skill = slave["secretary"] 
 misc_bonus = learn_bonus["secretary"]   
 $text[1] = '  <<$secretary_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1 
 add_slave_hygiene = 1 
 add_house_mess = 2
 $special_part = {
 master_butler_rate += 1 
 if diligence >= 0 and slave["secretary"] < 5: slave_rate["intellect"] += 2
 if slave["secretary_affinity"] ! 0 and slave["secretary_affinity_revealed"] = 0: slave["secretary_affinity_revealed"] = 1     
 }   
END

!Personal lesson on gymnastics and sports and fitness
IF interaction = 1221:
 $interaction_type = 'master_teaches_slave'
 g = RAND(1,5)
 if g = 1: $special_bg = $gymnastics[slave_type]
 if g = 2: $special_bg = 'girls\scene\gymnastics_8'
 if g = 3: $special_bg = 'girls\scene\gymnastics_9'
 if g = 4: $special_bg = 'girls\scene\gymnastics_13'
 if g = 5: $special_bg = 'girls\scene\gymnastics_15'
 repulse = -6
 complex_repulse = -6  
 if slave['energy'] > 3: complex_repulse = 0
 if slave['energy'] < 0: complex_repulse -= slave['energy'] 
 if slave["sport_affinity"] < 0: complex_repulse += 2    
 IF slave["sport_affinity"] > 0:
  talent_bonus = 5
  complex_repulse = -100
 END
 if slave["sport_affinity"] < 0: talent_bonus = -3   
 sin_potential = 4
 couch_skill = master_str
 $target_skill = 'slave_rate["stamina"]'  
 slave_skill = slave["stamina"] 
 misc_bonus = learn_bonus["stamina"]  
 $text[1] = '  <<$gym_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 skill_rise = 2
 add_master_hygiene = 5
 add_slave_hygiene = 10
 add_house_mess = 5
 $target_affinity = 'sport_affinity'
 $special_part = { 
  if slave["sport_affinity_revealed"] = 0 and slave["sport_affinity"] = 1: slave["sport_affinity_revealed"] = 1      
  slave["calories"] -= 2
  master_domination_rate += 1   
  master_str_rate += 1
  }
  if hall = 1:  $place = 'hall'    
END

!Personal lesson on dance
IF interaction = 1222:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $dance[slave_type]   
 repulse = 1
 complex_repulse = 1 
 if slave["callisthenics_affinity"] < 0: complex_repulse += 2   
 if slave["callisthenics_affinity"] > 0: talent_bonus = 5      
 sin_potential = 4
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["callisthenics"]'
 $target_affinity = 'callisthenics_affinity'
 slave_skill = slave["callisthenics"] 
 misc_bonus = learn_bonus["callisthenics"]     
 $text[1] = '  <<$dance_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 5
 add_slave_hygiene = 10
 add_house_mess = 5
 $special_part = {  
  if slave["callisthenics_affinity"] ! 0 and slave["callisthenics_affinity_revealed"] = 0: slave["callisthenics_affinity_revealed"] = 1    
  slave["calories"] -= 1
  slave_rate["sensitivity"] += 1
  master_artdirector_rate += 1
  }
  if hall = 1:  $place = 'hall'    
END

!Personal lesson on martial arts
IF interaction = 1223:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $fighting[slave_type] 
 repulse = 1
 complex_repulse = 1 
 if slave["gladiatrix_affinity"] < 0: complex_repulse += 2     
 if slave["gladiatrix_affinity"] > 0: talent_bonus = 5     
 sin_potential = 4
 couch_skill = master_fighter
 $target_skill = 'slave_rate["gladiatrix"]'
 $target_affinity = 'gladiatrix_affinity'
 slave_skill = slave["gladiatrix"]  
 misc_bonus = learn_bonus["gladiatrix"]     
 $text[1] = '  <<$martial_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 10
 add_slave_hygiene = 10
 add_house_mess = 10
 $special_part = {  
  if slave["gladiatrix_affinity"] ! 0 and slave["gladiatrix_affinity_revealed"] = 0: slave["gladiatrix_affinity_revealed"] = 1     
  slave["calories"] -= 2
  if diligence > 2 and slave["gladiatrix"] < 5: slave_rate["ego"] += 1
  master_fighter_rate += 1  
  master_str_rate += 1
  }
  if hall = 1:  $place = 'hall'    
END

!Personal lesson on dressage
IF interaction = 1224:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $ponyplay[slave_type] 
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["dressage_affinity"] < 0: complex_repulse += 2
 IF slave["dressage_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 sin_potential = 6
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["dressage"]'
 $target_affinity = 'dressage_affinity'
 slave_skill = slave["dressage"]  
 misc_bonus = learn_bonus["dressage"]    
 $text[1] = '  <<$dressage_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 2
 add_slave_hygiene = 10
 add_house_mess = 5
 $special_part = {  
 if slave["dressage_affinity"] ! 0 and slave["dressage_affinity_revealed"] = 0:  slave["dressage_affinity_revealed"] = 1
  slave["calories"] -= 1
  slave_rate["pride"] -= 1
  slave_rate["temper"] += 1
  master_artdirector_rate += 1  
  }
  if hall = 1:  $place = 'hall'    
END

!Personal lesson on ponyplay
IF interaction = 1225:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $ponyplay[slave_type] 
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["dressage_affinity"] < 0: complex_repulse += 2
 IF slave["dressage_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 sin_potential = 6
 couch_skill = master_domination
 $target_skill = 'slave_rate["dressage"]'
 $target_affinity = 'dressage_affinity'  
 slave_skill = slave["dressage"]  
 misc_bonus = learn_bonus["dressage"]     
 $text[1] = '  <<$draft_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 2
 add_slave_hygiene = 10
 add_house_mess = 5
 $special_part = {  
 if slave["dressage_affinity"] ! 0 and slave["dressage_affinity_revealed"] = 0: slave["dressage_affinity_revealed"] = 1 
  slave["calories"] -= 2
  slave_rate["pride"] -= 1
  slave_rate["temper"] += 1
  master_domination_rate += 1  
  }
  if hall = 1:  $place = 'hall'    
END

!Personal lesson - etiquette and rhetoric and escort
IF interaction = 1231:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $student[slave_type]  
 repulse = 0
 complex_repulse = 0
 if slave["expression_affinity"] < 0: complex_repulse += 2 
 if slave["expression_affinity"] > 0: talent_bonus = 5 
 sin_potential = 3
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["expression"]'
 $target_affinity = 'expression_affinity'
 slave_skill = slave["expression"] 
 misc_bonus = learn_bonus["expression"]     
 $text[1] = '  <<$ritor_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1 
 add_slave_hygiene = 1 
 add_house_mess = 1
 $special_part = {  
 master_artdirector_rate += 1
 if slave["expression_affinity"] ! 0 and slave["expression_affinity_revealed"] = 0: slave["expression_affinity_revealed"] = 1
 if slave["sin"] = 0 and slave["pride"] < 4: slave_rate["temper"] += 1
 } 
END

!Personal lesson - acting
IF interaction = 1232:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $student[slave_type]   
 repulse = 1
 complex_repulse = 1
 if slave["expression_affinity"] < 0: complex_repulse += 2 
 if slave["expression_affinity"] > 0: talent_bonus = 5   
 sin_potential = 4
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["expression"]'
 $target_affinity = 'expression_affinity'
 slave_skill = slave["expression"] 
 misc_bonus = learn_bonus["expression"]    
 $text[1] = '  <<$acting_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1 
 add_slave_hygiene = 1 
 add_house_mess = 1
 $special_part = {   
 master_artdirector_rate += 1  
 if slave["expression_affinity"] ! 0 and slave["expression_affinity_revealed"] = 0:  slave["expression_affinity_revealed"] = 1
 if slave["sin"] = 0 and slave["pride"] < 4: slave_rate["temper"] += 1   
 }
END

!Personal lesson on singing
IF interaction = 1234:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $singing[slave_type]   
 repulse = 1
 complex_repulse = 1
 if slave["vocal_affinity"] < 0: complex_repulse += 2
 if slave["vocal_affinity"] > 0: talent_bonus = 5    
 sin_potential = 3
 couch_skill = master_artdirector
 slave_skill = slave["vocal"] 
 $target_skill = 'slave_rate["vocal"]'
 $target_affinity = 'vocal_affinity'
 misc_bonus = learn_bonus["vocal"]    
 $text[1] = '  <<$vocal_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1 
 add_slave_hygiene = 1 
 add_house_mess = 1
 $special_part = {   
 master_artdirector_rate += 1  
 if slave["vocal_affinity"] ! 0 and slave["vocal_affinity_revealed"] = 0:  slave["vocal_affinity_revealed"] = 1  
 } 
END

!Personal lesson on domestication
IF interaction = 1241:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $petplay[slave_type] 
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["pet_affinity"] < 0: complex_repulse += 2
 IF slave["pet_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 sin_potential = 6
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["pet"]'
 $target_affinity = 'pet_affinity'
 slave_skill = slave["pet"]  
 misc_bonus = learn_bonus["pet"]    
 $text[1] = '  <<$catplay_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1
 add_slave_hygiene = 10
 add_house_mess = 5
 $special_part = {  
  if slave["pet_affinity"] ! 0 and slave["pet_affinity_revealed"] = 0: slave["pet_affinity_revealed"] = 1 
  slave_rate["callisthenics"] += 1
  slave_rate["pride"] -= 1
  slave_rate["temper"] += 1
  master_artdirector_rate += 1  
  }
END

!Personal lesson on taming
IF interaction = 1242:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $petplay[slave_type] 
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["pet_affinity"] < 0: complex_repulse += 2
 IF slave["pet_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 sin_potential = 6
 couch_skill = master_domination
 $target_skill = 'slave_rate["pet"]'
 $target_affinity = 'pet_affinity'
 slave_skill = slave["pet"]  
 misc_bonus = learn_bonus["pet"]    
 $text[1] = '  <<$dogplay_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 5
 add_slave_hygiene = 20
 add_house_mess = 3
 $special_part = {  
  if slave["pet_affinity"] ! 0 and slave["pet_affinity_revealed"] = 0: slave["pet_affinity_revealed"] = 1 
  slave["calories"] -= 1
  slave_rate["pride"] -= 1
  slave_rate["temper"] += 1
  slave_rate["stamina"] += 1
  master_domination_rate += 1  
  }
  $place = 'street'    
END

!Personal lesson on alchemy
IF interaction = 1243:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $enchanting[slave_type] 
 complex_repulse = 1 
 if slave["enchanter_affinity"] < 0: complex_repulse += 2
 if slave["enchanter_affinity"] > 0: talent_bonus = 5 
 sin_potential = 6
 couch_skill = master_mage
 $target_skill = 'slave_rate["enchanter"]'
 $target_affinity = 'enchanter_affinity'
 slave_skill = slave["enchanter"]
 repulse = 1 + slave_skill
 misc_bonus = learn_bonus["enchanter"]    
 if slave["enchanter_affinity"] > 0: repulse = 0
 if slave["enchanter_affinity"] > 0: talent_bonus = 5 
 $text[1] = '  <<$alchemy_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 5
 add_slave_hygiene = 10
 add_house_mess = 20
 $special_part = {  
  if diligence >= 0 and slave["enchanter"] < 5: slave_rate["intellect"] += 2
  if slave["enchanter_affinity"] ! 0 and slave["enchanter_affinity_revealed"] = 0: slave["enchanter_affinity_revealed"] = 1
  master_mage_rate += 1  
  }
  $place = 'lab'    
END

!Personal lesson play the flute
IF interaction = 112331:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $flyte[slave_type] 
 sin_potential = 4
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["music"]'
 $target_affinity = 'music_affinity'
 slave_skill = slave["music"]
 misc_bonus = learn_bonus["music"]     
 repulse = 1
 complex_repulse = 1
 if slave["music_affinity"] < 0: repulse += 2
 if slave["music_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$music_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1
 add_slave_hygiene = 1
 add_house_mess = 1
 $special_part = {  
  if slave["music_affinity"] ! 0 and slave["music_affinity_revealed"] = 0: slave["music_affinity_revealed"] = 1 
  master_artdirector_rate += 1
  slave_rate["intellect"] += 1  
  }
END

!Personal lesson on guitar
IF interaction = 112332:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $guitar[slave_type] 
 sin_potential = 4
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["music"]'
 $target_affinity = 'music_affinity'
 slave_skill = slave["music"]
 misc_bonus = learn_bonus["music"]      
 repulse = 1
 complex_repulse = 1
 if slave["music_affinity"] < 0: complex_repulse += 2
 if slave["music_affinity"] > 0: talent_bonus = 5 
 $text[1] = '  <<$music_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1
 add_slave_hygiene = 1
 add_house_mess = 1
 $special_part = {  
  if slave["music_affinity"] ! 0 and slave["music_affinity_revealed"] = 0:  slave["music_affinity_revealed"] = 1 
  slave_rate["music"] += 1
  master_artdirector_rate += 1
  slave_rate["intellect"] += 1 
  }
END

!Personal lesson on piano
IF interaction = 112333:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $piano[slave_type] 
 sin_potential = 4
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["music"]'
 $target_affinity = 'music_affinity'
 slave_skill = slave["music"]
 misc_bonus = learn_bonus["music"]      
 repulse = 1
 complex_repulse = 1
 if slave["music_affinity"] < 0: complex_repulse += 2
 if slave["music_affinity"] > 0: talent_bonus = 5 
 $text[1] = '  <<$music_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1
 add_slave_hygiene = 1
 add_house_mess = 1
 $special_part = {  
  if slave["music_affinity"] ! 0 and slave["music_affinity_revealed"] = 0:  slave["music_affinity_revealed"] = 1
  slave_rate["music"] += 2
  master_artdirector_rate += 1
  slave_rate["intellect"] += 1  
  }
END

!Personal lesson on cello
IF interaction = 112334:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $cello[slave_type] 
 sin_potential = 4
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["music"]'
 $target_affinity = 'music_affinity'
 slave_skill = slave["music"]
 misc_bonus = learn_bonus["music"]      
 repulse = 1
 complex_repulse = 1
 if slave["music_affinity"] < 0: complex_repulse += 2
 if slave["music_affinity"] > 0: talent_bonus = 5 
 $text[1] = '  <<$music_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1
 add_slave_hygiene = 1
 add_house_mess = 1
 $special_part = {  
  if slave["music_affinity"] ! 0 and slave["music_affinity_revealed"] = 0: slave["music_affinity_revealed"] = 1
  slave_rate["music"] += 3
  master_artdirector_rate += 1
  slave_rate["intellect"] += 1
  }
END

!Personal lesson on violin
IF interaction = 112335:
 $interaction_type = 'master_teaches_slave'
 $special_bg = $violin[slave_type] 
 sin_potential = 4
 couch_skill = master_artdirector
 $target_skill = 'slave_rate["music"]'
 $target_affinity = 'music_affinity'
 slave_skill = slave["music"]
 misc_bonus = learn_bonus["music"]      
 repulse = 1
 complex_repulse = 1
 if slave["music_affinity"] < 0: complex_repulse += 2
 if slave["music_affinity"] > 0: talent_bonus = 5 
 $text[1] = '  <<$music_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1
 add_slave_hygiene = 1
 add_house_mess = 1
 $special_part = {  
  if slave["music_affinity"] ! 0 and slave["music_affinity_revealed"] = 0: slave["music_affinity_revealed"] = 1
  slave_rate["music"] += 4
  master_artdirector_rate += 1
  slave_rate["intellect"] += 1  
  }
END

!sex lessons
!handjob
IF interaction = 1311:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_hj"]'
 $subskill_xp = 'slave["sub_hj_xp"]'
 repulse = 2
 rise_difficulty = 4 + slave["sub_hj"]
 $text[1] = '  <<$hj_lesson_description[slave["sub_hj"]]>>'
 $play_sound[2] = '<<$slopy[slave["age"]]>>'
 $special_bg = $hj[slave_type]   
 couch_skill = master_petting
 add_master_hygiene = 3 
 add_slave_hygiene = 10 
 add_house_mess = 5
 ejaculation_intensity = 1
 if slave["sub_hj"] > 5: $interaction_type = 'completed'
 $place = 'bedroom'  
 $special_part = {master_petting_rate += 1}   
END

!footjob
IF interaction = 1312:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_fj"]'
 $subskill_xp = 'slave["sub_fj_xp"]' 
 repulse = 2
 rise_difficulty = 7 + slave["sub_fj"]
 $text[1] = '  <<$fj_lesson_description[slave["sub_fj"]]>>'
 $play_sound[2] = '<<$slopy[slave["age"]]>>'
 $special_bg = $fj[slave_type]   
 couch_skill = master_petting
 add_master_hygiene = 4 
 add_slave_hygiene = 10 
 add_house_mess = 5
 ejaculation_intensity = 1
 if slave["sub_fj"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_petting_rate += 1}    
END

!hugs
!Some sex activities I had to hardcode the pictures due to the slave .json files pointing to the wrong location or wrong image - crushboss
IF interaction = 1313:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_hug"]'
 $subskill_xp = 'slave["sub_hug_xp"]'  
 repulse = 2
 if slave["nymphomania"] > 0: repulse -= 1 & rise_modifer = -2
 if slave["nymphomania"] < 0: repulse += 1 & rise_modifer = 2
 rise_difficulty = 5 + slave["sub_hug"]
 $text[1] = '  <<$hug_lesson_description[slave["sub_hug"]]>>'
 $play_sound[2] = '<<$petting_sound[slave["age"]]>>'
 IF slave["age"] = CONST_INT['loli_age']:
  g = RAND (1,10)
  if g = 1: $special_bg = 'girls\sex\hug_red_long_loli'
  if g = 2: $special_bg = 'girls\sex\petting_black_purpleeye'
  if g = 3: $special_bg = 'girls\sex\petting_blond_redeye_loli'
  if g = 4: $special_bg = 'girls\sex\petting_blond_blueeye_loli'
  if g = 5: $special_bg = 'girls\sex\petting_brown_short_darkeye'
  if g = 6: $special_bg = 'girls\sex\petting_general_loli'
  if g = 7: $special_bg = 'girls\sex\petting_brown'
  if g = 8: $special_bg = 'girls\sex\petting_brown_bkackeye_loli'
  if g = 9: $special_bg = 'girls\sex\petting_blond_short_greeneye_loli'
  if g = 10: $special_bg = 'girls\sex\petting_brown_blueeye_loli'
 END 
 IF slave["age"] = CONST_INT['milf_age']:
  g = RAND (1,10)
  if g = 1: $special_bg = 'girls\sex\hug_red_long_milf'
  if g = 2: $special_bg = 'girls\sex\petting_black_purpleeye'
  if g = 3: $special_bg = 'girls\sex\petting_general_girl_2'
  if g = 4: $special_bg = 'girls\sex\petting_brown_milf'
  if g = 5: $special_bg = 'girls\sex\petting_blond_long_greeneye'
  if g = 6: $special_bg = 'girls\sex\petting_general_girl_3'
  if g = 7: $special_bg = 'girls\sex\petting_general_milf'
  if g = 8: $special_bg = 'girls\sex\petting_pink_blueeye'
  if g = 9: $special_bg = 'girls\sex\petting_blue_long_goldeye'
  if g = 10: $special_bg = 'girls\sex\petting_general_girl'
 END
 IF slave["age"] = CONST_INT['young_age']:
  g = RAND (1,15)
  if g = 1: $special_bg = 'girls\sex\hug_young'
  if g = 2: $special_bg = 'girls\sex\hug_blond_long_young'
  if g = 3: $special_bg = 'girls\sex\petting_black_purpleeye'
  if g = 4: $special_bg = 'girls\sex\petting_brown_short_darkeye'
  if g = 5: $special_bg = 'girls\sex\hug_blond_short_young'
  if g = 6: $special_bg = 'girls\sex\petting_blond_short_darkeye'
  if g = 7: $special_bg = 'girls\sex\petting_general_loli'
  if g = 8: $special_bg = 'girls\sex\petting_blond_long_greeneye'
  if g = 9: $special_bg = 'girls\sex\petting_general_girl_3'
  if g = 10: $special_bg = 'girls\sex\petting_brown'
  if g = 11: $special_bg = 'girls\sex\petting_general_milf'
  if g = 12: $special_bg = 'girls\sex\petting_pink_blueeye'
  if g = 13: $special_bg = 'girls\sex\petting_blond_long_goldeye'
  if g = 14: $special_bg = 'girls\sex\petting_blue_long_goldeye'
  if g = 15: $special_bg = 'girls\sex\petting_general_girl'
 END
 g = 0
 couch_skill = master_petting
 add_master_hygiene = 5 
 add_slave_hygiene = 5 
 add_house_mess = 4
 ejaculation_intensity = 1
 if slave["sub_hug"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'   
 $special_part = {  
  if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1
  master_petting_rate += 1  
  }  
END

!pazuri
IF interaction = 1314:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_pazuri"]'
 $subskill_xp = 'slave["sub_pazuri_xp"]'  
 repulse = 3
 rise_difficulty = 7 + slave["sub_pazuri"]
 $text[1] = '  <<$pazuri_lesson_description[slave["sub_pazuri"]]>>'
 $play_sound[2] = '<<$petting_sound[slave["age"]]>>'
 $special_bg = $pazuri[slave_type]   
 couch_skill = master_petting
 add_master_hygiene = 3 
 add_slave_hygiene = 5 
 add_house_mess = 4
 ejaculation_intensity = 1
 if slave["sub_pazuri"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_petting_rate += 1}    
END

!kiss
IF interaction = 1321:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_kiss"]'
 $subskill_xp = 'slave["sub_kiss_xp"]'  
 repulse = 0
 rise_difficulty = 3 + slave["sub_kiss"]
 $text[1] = '  <<$kiss_lesson_description[slave["sub_kiss"]]>>'
 $play_sound[2] = '<<$kiss_sound[slave["age"]]>>'
 $special_bg = $kiss[slave_type]   
 couch_skill = master_oral
 add_master_hygiene = 1 
 add_slave_hygiene = 1
 add_house_mess = 1
 ejaculation_intensity = 0 
 if slave["sub_kiss"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 master_oral_rate += 1
 } 
 $place = 'bedroom'      
END

!oral massage
IF interaction = 1322:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_thongue"]'
 $subskill_xp = 'slave["sub_thongue_xp"]'  
 repulse = 2 - slave["sub_thongue"]
 rise_difficulty = 3 + slave["sub_thongue"]
 $text[1] = '  <<$liking_lesson_description[slave["sub_thongue"]]>>'
 $play_sound[2] = '<<$kiss_sound[slave["age"]]>>'
 $special_bg = $thongue[slave_type]   
 couch_skill = master_oral
 add_master_hygiene = 1 
 add_slave_hygiene = 3 
 add_house_mess = 2
 ejaculation_intensity = 0
 if slave["sub_thongue"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_oral_rate += 1}     
END

!blowjob
IF interaction = 1323:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_bj"]'
 $subskill_xp = 'slave["sub_bj_xp"]' 
 repulse = 3 - slave["sub_bj"]
 rise_difficulty = 6 + slave["sub_bj"]
 $text[1] = '  <<$bj_lesson_description[slave["sub_bj"]]>>'
 $play_sound[3] = '<<$bj_sound[slave["age"]]>>'
 $special_bg = $bj[slave_type]   
 couch_skill = master_oral
 add_master_hygiene = -1 
 add_slave_hygiene = 5 
 add_house_mess = 3
 ejaculation_intensity = 1
 if slave["sub_bj"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_oral_rate += 1}      
END

!deepthroat
IF interaction = 1324:
 $interaction_type = 'self_sex_lesson'
 painful = 0
 $subskill = 'slave["sub_dt"]'
 $subskill_xp = 'slave["sub_dt_xp"]'  
 repulse = 5 + slave["pride"] - slave["sub_dt"]
 rise_difficulty = 5 + slave["sub_dt"]
 $text[1] = '  <<$throatfuck_lesson_description[slave["sub_dt"]]>>'
 $play_sound[2] = '<<$throatfuck_sound[slave["age"]]>>'
 $special_bg = $dt[slave_type]   
 couch_skill = master_oral
 add_master_hygiene = 5 
 add_slave_hygiene = 10 
 add_house_mess = 10
 ejaculation_intensity = 2
 $special_part = {   
 slave_rate["pride"] -= slave["sub_dt"] + 1
 master_oral_rate += 1
 } 
 if slave["sub_dt"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!rimming
IF interaction = 1325:
 $interaction_type = 'self_sex_lesson'
 disgusting = 1
 $subskill = 'slave["sub_asslik"]'
 $subskill_xp = 'slave["preversion_xp"]'
 repulse = 6 + slave["pride"] - slave["sub_asslik"]
 if slave["preversion"] > 0: repulse -= 4 & rise_modifer = -2
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2  
 rise_difficulty = 3 + slave["sub_asslik"]
 $text[1] = '  <<$rimming_lesson_description[slave["sub_asslik"]]>>'
 $play_sound[2] = '<<$kiss_sound[slave["age"]]>>'
 $special_bg = $rimming[slave_type]   
 couch_skill = master_oral
 add_master_hygiene = -5 
 add_slave_hygiene = 10 
 add_house_mess = 10
 ejaculation_intensity = 0
 $special_part = {   
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1 
 slave_rate["pride"] -= slave["sub_asslik"] + 2
 }  
 if slave["sub_asslik"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_oral_rate += 1}      
END

!vaginal sex
IF interaction = 1331:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_vaginal"]'
 $subskill_xp = 'slave["sub_vaginal_xp"]'  
 repulse = 3
 if slave["nymphomania"] > 0: repulse = 0 & rise_modifer = -2
 if slave["nymphomania"] < 0: repulse += 1 & rise_modifer = 2  
 rise_difficulty = 5 + slave["sub_vaginal"]
 $text[1] = '  <<$vaginalsex_lesson_description[slave["sub_vaginal"]]>>'
 $play_sound[2] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $sex_vaginal[slave_type]   
 if virginity < 2: $special_bg = $defloration[slave_type]   
 couch_skill = master_penetration
 add_master_hygiene = 6 
 add_slave_hygiene = 6 
 add_house_mess = 5
 ejaculation_intensity = 1
 erotic_stimulation = master_penetration
 orgastic = 1
 if slave["sub_vaginal"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1  
 master_penetration_rate += 1
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']  
 END
 gs '$pregnancy'
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END  
 }   
 $place = 'bedroom'    
END

!anal sex
IF interaction = 1332:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_anal"]'
 $subskill_xp = 'slave["sub_anal_xp"]'  
 repulse = 5
 rise_difficulty = 7 + slave["sub_anal"]
 $text[1] = '  <<$analsex_lesson_description[slave["sub_anal"]]>>'
 $play_sound[2] = '<<$assfuck_sound[slave["age"]]>>'
 $special_bg = $analsex[slave_type]   
 couch_skill = master_penetration
 add_master_hygiene = 10 
 add_slave_hygiene = 12 
 add_house_mess = 10
 erotic_stimulation = master_penetration - 1
 orgastic = 1 
 ejaculation_intensity = 2
 if slave["sub_anal"] >= 2: orgastic = 1
 if slave["sub_anal"] <= 2: painful = 1 
 $special_part = {   
 master_penetration_rate += 1
 slave_rate["pride"] -= 1
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END  
 } 
 if slave["sub_anal"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!vaginal fisting
IF interaction = 1333:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_fisting"]'
 $subskill_xp = 'slave["sub_fisting_xp"]'  
 repulse = 5
 rise_difficulty = 7 + slave["sub_fisting"]
 $text[1] = '  <<$fisting_lesson_description[slave["sub_fisting"]]>>'
 $play_sound[2] = '<<$fisting_sound[slave["age"]]>>'
 $special_bg = $fisting[slave_type]   
 couch_skill = master_penetration
 add_master_hygiene = 10 
 add_slave_hygiene = 12 
 add_house_mess = 10
 ejaculation_intensity = 0
 erotic_stimulation = master_petting 
 orgastic = 1
 if slave["sub_fisting"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'    
 $special_part = {   
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']  
 END
 }     
END

!anal fisting
IF interaction = 1334:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["anal_stretch"]'
 $subskill_xp = 'slave["anal_stretch_xp"]'  
 repulse = 7
 rise_difficulty = 9 + slave["anal_stretch"]
 $text[1] = '  <<$analfisting_lesson_description[slave["anal_stretch"]]>>'
 $play_sound[2] = '<<$fisting_sound[slave["age"]]>>'
 $special_bg = $analfisting[slave_type]   
 couch_skill = master_penetration
 add_master_hygiene = 15
 add_slave_hygiene = 12 
 add_house_mess = 12
 ejaculation_intensity = 0
 if slave["anal_stretch"] <= 3: painful = 1  
 if slave["anal_stretch"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!Personal lesson on threesome
IF interaction = 5420:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_threesome"]'
 $subskill_xp = 'slave["lesbian_xp"]'
 lesbian = 1
 repulse = 4
 if slave["nymphomania"] > 0: repulse -= 1  
 if slave["homosexualism"] > 0: repulse -= 1  
 rise_difficulty = 7 + slave["sub_threesome"]
 $text[1] = '  <<$threesome_lesson_description[slave["sub_threesome"]]>>'
 $play_sound[2] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $lesbian[slave_type]   
 couch_skill = (1 + master_penetration + master_artdirector)/2
 add_master_hygiene = 8 
 add_slave_hygiene = 8 
 add_house_mess = 6
 ejaculation_intensity = 2
 erotic_stimulation = (master_penetration + assistant["oral"] + assistant["petting"])/2
 orgastic = 1
 if slave["sub_threesome"] > 5: $interaction_type = 'completed' 
 $special_part = {
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1   
 if slave["homosexualism"] ! 0 and slave["homosexualism_revealed"] = 0:  slave["homosexualism_revealed"] = 1  
 master_penetration_rate += 1
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']  
 END
 gs '$pregnancy'
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END  
 }   
 $place = 'bedroom'    
END

!Personal lesson on threesome - no assistant - option added - crushboss
IF interaction = 5422:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_threesome"]'
 $subskill_xp = 'slave["lesbian_xp"]'
 lesbian = 1
 repulse = 4
 if slave["nymphomania"] > 0: repulse -= 1  
 if slave["homosexualism"] > 0: repulse -= 1  
 rise_difficulty = 7 + slave["sub_threesome"]
 $text[1] = '  <<$threesome_noassistant_description[slave["sub_threesome"]]>>'
 $play_sound[2] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $lesbian[slave_type]   
 couch_skill = (1 + master_penetration + master_artdirector)/2
 add_master_hygiene = 8 
 add_slave_hygiene = 8 
 add_house_mess = 6
 ejaculation_intensity = 2
 erotic_stimulation = (master_penetration + master_petting + master_oral + slave["penetration"] + slave["oral"] + slave["petting"])/4
 orgastic = 1
 if slave["sub_threesome"] > 5: $interaction_type = 'completed' 
 $special_part = {
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1   
 if slave["homosexualism"] ! 0 and slave["homosexualism_revealed"] = 0: slave["homosexualism_revealed"] = 1  
 master_penetration_rate += 1
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']  
 END
 gs '$pregnancy'
 IF slave['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END  
 }   
 $place = 'bedroom'    
END

!Personal lesson on double penetration
IF interaction = 1342:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_dp"]'
 $subskill_xp = 'slave["exhibitionism_xp"]'
 shameful = 1
 repulse = 6
 if slave["nymphomania"] > 0: repulse -= 1 & rise_modifer = -2   
 if slave["nymphomania"] < 0: repulse += 1 & rise_modifer = 2   
 rise_difficulty = 7 + slave["sub_dp"]
 $text[1] = '  <<$dp_lesson_description[slave["sub_dp"]]>>'
 $play_sound[2] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $gangbang[slave_type]
 if $dp[slave_type] ! '': $special_bg = $dp[slave_type]
 couch_skill = master_penetration
 add_master_hygiene = 8 
 add_slave_hygiene = 8 
 add_house_mess = 6
 ejaculation_intensity = 1
 erotic_stimulation = slave["sub_dp"] + 1
 if slave["sub_dp"] > 0: orgastic = 1
 if slave["sub_dp"] > 5: $interaction_type = 'completed' 
 $special_part = {
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1    
 if slave["exhibitionism"] ! 0 and slave["exhibitionism_revealed"] = 0: slave["exhibitionism_revealed"] = 1   
 master_penetration_rate += 1
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 2 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']   
 END
 gs '$pregnancy'
 b = RAND (1,5)
 IF b = 1:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END  
 }   
 $place = 'street'    
END

!Personal lesson on triple penetration
IF interaction = 1343:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_tp"]'
 $subskill_xp = 'slave["exhibitionism_xp"]'
 shameful = 1
 repulse = 7
 if slave["nymphomania"] > 0: repulse -= 1 & rise_modifer = -2   
 if slave["nymphomania"] < 0: repulse += 1 & rise_modifer = 2    
 rise_difficulty = 8 + slave["sub_tp"]
 $text[1] = '  <<$tp_lesson_description[slave["sub_tp"]]>>'
 $play_sound[2] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $gangbang[slave_type]
 if $tp[slave_type] ! '': $special_bg = $tp[slave_type]
 couch_skill = master_penetration
 add_master_hygiene = 8 
 add_slave_hygiene = 20 
 add_house_mess = 12
 ejaculation_intensity = 1
 erotic_stimulation = slave["sub_tp"] * 2
 if slave["sub_tp"] > 0: orgastic = 1 
 if slave["sub_tp"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1
 if slave["exhibitionism"] ! 0 and slave["exhibitionism_revealed"] = 0: slave["exhibitionism_revealed"] = 1
 master_penetration_rate += 1
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 5 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']    
 END
 gs '$pregnancy' 
 b = RAND (1,4)
 IF b = 1:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END   
 }   
 $place = 'street'    
END

!Personal lesson on gangbang
IF interaction = 1344:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_gangbang"]'
 $subskill_xp = 'slave["exhibitionism_xp"]'
 shameful = 1
 repulse = 8
 if slave["nymphomania"] > 0: repulse -= 1 & rise_modifer = -2   
 if slave["nymphomania"] < 0: repulse += 1 & rise_modifer = 2   
 rise_difficulty = 8 + slave["sub_gangbang"]
 $text[1] = '  <<$gangbang_lesson_description[slave["sub_gangbang"]]>>'
 $play_sound[2] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $gangbang[slave_type]   
 couch_skill = master_penetration
 add_master_hygiene = 8 
 add_slave_hygiene = 25 
 add_house_mess = 15
 ejaculation_intensity = 1
 erotic_stimulation = slave["sub_gangbang"] * 3
 if slave["sub_gangbang"] > 0: orgastic = 1 
 if slave["sub_gangbang"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1
 if slave["exhibitionism"] ! 0 and slave["exhibitionism_revealed"] = 0: slave["exhibitionism_revealed"] = 1
 master_penetration_rate += 1
 IF virginity < 2: 
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 5 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']    
 END
 gs '$pregnancy' 
 b = RAND (1,2)
 IF b = 1:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END    
 }   
 $place = 'street'    
END

!Personal lesson on bukkake
IF interaction = 1345:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_bukake"]'
 $subskill_xp = 'slave["exhibitionism_xp"]'
 shameful = 1
 disgusting = 1
 repulse = 8
 if slave["preversion"] > 0: repulse -= 6 & rise_modifer = -2    
 if slave["preversion"] < 0: repulse += 1 & rise_modifer = 2 
 rise_difficulty = 5
 $text[1] = '  <<$bukake_lesson_description[slave["sub_bukake"]]>>'
 $play_sound[2] = '<<$bj_sound[slave["age"]]>>'
 $special_bg = $bukake[slave_type]   
 couch_skill = master_fetish
 add_master_hygiene = 10 
 add_slave_hygiene = 30 
 add_house_mess = 20
 erotic_stimulation = slave["sub_bukake"]
 orgastic = 0
 if slave["sub_bukake"] > 5: $interaction_type = 'completed' 
 $special_part = {
 if slave["exhibitionism"] ! 0 and slave["exhibitionism_revealed"] = 0: slave["exhibitionism_revealed"] = 1
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 !Line below needed
 slave["preversion_xp"] += 1
 master_fetish_rate += 1
 b = RAND (1,4)
 IF b = 1:
  a = RAND (1,6)
  if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 END    
 }   
 $place = 'street'    
END

!Personal lesson on sex with dog
IF interaction = 1351:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_zoosex"]'
 $subskill_xp = 'slave["preversion_xp"]'
 disgusting = 1
 repulse = 5 + slave["pride"]
 if slave["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2 
 rise_difficulty = 6 + slave["sub_zoosex"]
 $text[1] = '  <<$dogsex_lesson_description[slave["sub_zoosex"]]>>'
 $play_sound[2] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $dog_sex[slave_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_slave_hygiene = 15 
 add_house_mess = 12
 erotic_stimulation = slave["sub_zoosex"]
 if slave["sub_zoosex"] > 0: orgastic = 1
 if slave["sub_zoosex"] > 5: $interaction_type = 'completed' 
 $special_part = {
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 master_domination_rate += 1
 IF virginity < 2 and slave["sub_zoosex"] > 0:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 2 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']     
 END
 }   
 $place = 'bedroom'   
 ejaculation_intensity = 0  
END

!Personal lesson on sex with pig
IF interaction = 1352:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_bestiality"]'
 $subskill_xp = 'slave["preversion_xp"]'
 disgusting = 1
 repulse = 6 + slave["pride"]
 if slave["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2  
 rise_difficulty = 7 + slave["sub_bestiality"]
 $text[1] = '  <<$pigsex_lesson_description[slave["sub_bestiality"]]>>'
 $play_sound[2] = '<<$fuck_sound[slave["age"]]>>'
 $special_bg = $pig_sex[slave_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_slave_hygiene = 25 
 add_house_mess = 5
 erotic_stimulation = slave["sub_bestiality"]
 if slave["sub_bestiality"] > 0: orgastic = 1
 if slave["sub_bestiality"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 master_domination_rate += 1
 IF virginity < 2 and slave["sub_bestiality"] > 0:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 3 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']   
 END
 }   
 $place = 'farm' 
 ejaculation_intensity = 0   
END

!Personal lesson on sex with horse
IF interaction = 1353:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_horse"]'
 $subskill_xp = 'slave["preversion_xp"]'
 disgusting = 1
 painful = 1  
 repulse = 5 + slave["sensitivity"]
 if slave["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2 
 rise_difficulty = 8 + slave["sub_horse"]
 $text[1] = '  <<$horsesex_lesson_description[slave["sub_horse"]]>>'
 $play_sound[2] = '<<$assfuck_sound[slave["age"]]>>'
 $special_bg = $horse_sex[slave_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_slave_hygiene = 15 
 add_house_mess = 5
 erotic_stimulation = slave["sub_horse"]
 if slave["sub_horse"] > 0: orgastic = 1
 if slave["sub_horse"] > 5: $interaction_type = 'completed' 
 if slave["sub_horse"] > 0: damage = 10 - slave["sub_horse"]
 $special_part = {   
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 slave_rate["sensitivity"] -= damage
 master_domination_rate += 1
 IF virginity < 2 and slave["sub_horse"] > 0:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 2 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']   
 END
 }   
 $place = 'farm'    
 ejaculation_intensity = 0 
END

!Personal lesson on sex with Tentacle Fiend
!Fiend Milking - slave - sex lesson
IF interaction = 1354:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_tentacles"]'
 $subskill_xp = 'slave["preversion_xp"]'
 disgusting = 1
 repulse = 4 + tentacle_size + slave["sensitivity"]
 if slave["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2 
 rise_difficulty = 9 + tentacle_size
 $text[1] = '  <<$tentacle_lesson_description[slave["sub_tentacles"]]>>'
 $play_sound[2] = '<<$bj_sound[slave["age"]]>>'
 $special_bg = $tentacles[slave_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_slave_hygiene = 20 
 add_house_mess = 10
 erotic_stimulation = 100
 orgastic = 1
 if slave["sub_tentacles"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 master_domination_rate += 1
 IF virginity < 2:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 2 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']   
 END
 tentacle_hp += 1
 IF diligence > 0:
  spawn_milked = 1
  tentacle_hp += 1
  spawn_semen += diligence
 END
 if slave['fertility'] = 0 and slave['pregnant'] < 1 and slave['parasite'] < 1 and slave['fiend_tattoo'] = 0: slave['parasite'] = 1
 if slave['parasite'] < 1: slave_rate["arousal"] -= (slave["arousal"] + slave["sensitivity"]) 
 }
 $place = 'pen'    
 ejaculation_intensity = 0
END

!Personal lesson on sex with Arachnid Spider
IF interaction = 1355:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_arachnidSpider"]'
 $subskill_xp = 'slave["preversion_xp"]'
 disgusting = 1
 painful = 1  
 repulse = 6 + slave["pride"]
 if slave["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2  
 rise_difficulty = 8 + slave["sub_arachnidSpider"]
 $text[1] = '  <<$arachnid_lesson_description[slave["sub_arachnidSpider"]]>>'
 $play_sound[2] = '<<$assfuck_sound[slave["age"]]>>'
 $special_bg = $spider[slave_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_slave_hygiene = 15 
 add_house_mess = 8
 erotic_stimulation = slave["sub_arachnidSpider"]
 if slave["sub_arachnidSpider"] > 0: orgastic = 1
 if slave["sub_arachnidSpider"] > 5: $interaction_type = 'completed' 
 if slave["sub_arachnidSpider"] > 0: damage = 10 - slave["sub_arachnidSpider"]
 $special_part = {   
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 slave_rate["sensitivity"] -= damage
 master_domination_rate += 1
 IF virginity < 2 and slave["sub_arachnidSpider"] > 0:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 3 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']   
 END
 }   
 $place = 'dungeon'    
 ejaculation_intensity = 0 
END

!Personal lesson on sex with Sea Tentacle
IF interaction = 1356:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_polypusvermin"]'
 $subskill_xp = 'slave["preversion_xp"]'
 disgusting = 1
 painful = 1  
 repulse = 6 + slave["pride"]
 if slave["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2  
 rise_difficulty = 8 + slave["sub_polypusvermin"]
 $text[1] = '  <<$polypus_lesson_description[slave["sub_polypusvermin"]]>>'
 $play_sound[2] = '<<$assfuck_sound[slave["age"]]>>'
 $special_bg = $tentacles[slave_type]
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_slave_hygiene = 15 
 add_house_mess = 8
 erotic_stimulation = 100
 if slave["sub_polypusvermin"] > 0: orgastic = 1
 if slave["sub_polypusvermin"] > 5: $interaction_type = 'completed' 
 if slave["sub_polypusvermin"] > 0: damage = 10 - slave["sub_polypusvermin"]
 $special_part = {   
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 slave_rate["sensitivity"] -= damage
 master_domination_rate += 1
 IF virginity < 2 and slave["sub_polypusvermin"] > 0:
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 3 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']   
 END
 }   
 $place = 'dungeon'    
 ejaculation_intensity = 0 
END

!masochism
IF interaction = 1361:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_mazo"]'
 $subskill_xp = 'slave["masohism_xp"]' 
 repulse = 5 + slave["pride"] - slave["sub_mazo"]
 if slave["masohism"] > 1: repulse = 0 & rise_modifer = -2
 if slave["masohism"] < 0: repulse += 2 & rise_modifer = 2     
 rise_difficulty = 6 + slave["sub_mazo"]
 $text[1] = '  <<$mazo_lesson_description[slave["sub_mazo"]]>>'
 $play_sound[2] = '<<$soft_pain[slave["age"]]>>'
 $special_bg = $bdsm[slave_type]   
 couch_skill = master_domination
 add_master_hygiene = 5 
 add_slave_hygiene = 10
 add_house_mess = 10
 ejaculation_intensity = 0 
 painful = 1 
 $special_part = {
 if slave["masohism"] ! 0 and slave["masohism_revealed"] = 0: slave["masohism_revealed"] = 1
 master_domination_rate += 1
 slave_rate["custom"] += 1
 }  
 if slave["sub_mazo"] > 5: $interaction_type = 'completed'
 $place = 'bedroom'     
END

!self-harm
IF interaction = 1362:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_selfpain"]'
 $subskill_xp = 'slave["masohism_xp"]'
 repulse = 6 + slave["pride"] - slave["sub_selfpain"]
 if slave["masohism"] > 1: repulse -= 4 & rise_modifer = -2
 if slave["masohism"] < 0: repulse += 2 & rise_modifer = 2   
 rise_difficulty = 7 + slave["sub_selfpain"]
 $text[1] = '  <<$selfpain_lesson_description[slave["sub_selfpain"]]>>'
 $play_sound[2] = '<<$soft_pain[slave["age"]]>>'
 $special_bg = $bdsm[slave_type]
 if $self_torture[slave_type] ! '': $special_bg = $self_torture[slave_type]
 couch_skill = master_domination
 add_master_hygiene = 1 
 add_slave_hygiene = 10 
 add_house_mess = 5
 ejaculation_intensity = 0
 painful = 1  
 $special_part = {   
 master_domination_rate += 1 
 if slave["masohism"] ! 0 and slave["masohism_revealed"] = 0: slave["masohism_revealed"] = 1
 slave_rate["pride"] -= 1
 }   
 if slave["sub_selfpain"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!golden shower
IF interaction = 1363:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_piss"]'
 $subskill_xp = 'slave["preversion_xp"]'
 repulse = 6 + slave["pride"] - slave["sub_piss"]
 if slave["preversion"] > 0: repulse -= 3 & rise_modifer = -2
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2    
 rise_difficulty = 5 + slave["sub_piss"]
 $text[1] = '  <<$pissing_lesson_description[slave["sub_piss"]]>>'
 $play_sound[2] = '<<$urine[slave["age"]]>>'
 $special_bg = $urine_drink[slave_type]   
 couch_skill = master_fetish
 add_master_hygiene = 3 
 add_slave_hygiene = 20 
 add_house_mess = 25
 ejaculation_intensity = 0
 disgusting = 1  
 $special_part = {   
 master_fetish_rate += 1 
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 slave_rate["pride"] -= slave["sub_piss"] + 1
 }    
 if slave["sub_piss"] > 5: $interaction_type = 'completed' 
 $place = 'bathroom'     
END

!scat
IF interaction = 1364:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_kopro"]'
 $subskill_xp = 'slave["preversion_xp"]'
 repulse = 5 + slave["pride"] - slave["sub_kopro"]
 if slave["preversion"] > 0: repulse -= 4 & rise_modifer = -2
 if slave["preversion"] < 0: repulse += 2 & rise_modifer = 2   
 rise_difficulty = 7 + slave["sub_kopro"]
 $text[1] = '  <<$kopro_lesson_description[slave["sub_kopro"]]>>'
 $play_sound[2] = '<<$kopro_sound[slave["age"]]>>'
 $special_bg = $kopro[slave_type]   
 couch_skill = master_fetish
 add_master_hygiene = 5
 add_slave_hygiene = 40 
 add_house_mess = 30
 ejaculation_intensity = 0
 disgusting = 1   
 $special_part = {   
 master_fetish_rate += 1  
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 slave_rate["stamina"] -= (slave["sub_kopro"] * 2)
 slave_rate["pride"] -= (slave["sub_kopro"] + 4)
 }    
 if slave["sub_kopro"] > 5: $interaction_type = 'completed' 
 $place = 'bathroom'     
END

!enema
IF interaction = 1365:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_enema"]'
 $subskill_xp = 'slave["preversion_xp"]'
 repulse = 1 + slave["pride"] - slave["sub_enema"]
 if slave["preversion"] > 0: repulse = 0 & rise_modifer = -2
 if slave["preversion"] < 0: repulse += 1 & rise_modifer = 2   
 rise_difficulty = 2 + slave["sub_enema"]
 $text[1] = '  <<$enema_lesson_description[slave["sub_enema"]]>>'
 $play_sound[2] = '<<$soft_pain[slave["age"]]>>'
 $special_bg = $enema[slave_type]   
 couch_skill = master_medic
 add_master_hygiene = 10
 add_slave_hygiene = -5 
 add_house_mess = 20
 ejaculation_intensity = 0
 shameful = 1   
 $special_part = {   
 master_fetish_rate += 1  
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 slave_rate["stamina"] += 1
 slave_rate["pride"] -= slave["pride"]
 }    
 if slave["sub_enema"] > 5: $interaction_type = 'completed' 
 $place = 'bathroom'     
END

!seducing
IF interaction = 1371:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_seduce"]'
 $subskill_xp = 'slave["sub_seduce_xp"]'  
 repulse = 1
 rise_difficulty = 5 + slave["sub_seduce"]
 $text[1] = '  <<$seduction_lesson_description[slave["sub_seduce"]]>>'
 $play_sound[2] = '<<$seduce_sound[slave["age"]]>>'
 $special_bg = $seduce[slave_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2 
 add_slave_hygiene = 3 
 add_house_mess = 2
 ejaculation_intensity = 0
 $special_part = {   
 rise_up = min (master_artdirector, slave["roleplay"])
 slave_rate["expression"] += rise_up
 slave_rate["callisthenics"] += rise_up
 } 
 if slave["sub_seduce"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!masturbation
IF interaction = 1372:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_masturbation"]'
 $subskill_xp = 'slave["exhibitionism_xp"]'
 repulse = 1 
 rise_difficulty = 3 + slave["sub_masturbation"]
 if slave["exhibitionism"] > 0: repulse = 0 & rise_modifer = -2      
 if slave["exhibitionism"] < 0: repulse += 1 & rise_modifer = 2      
 $text[1] = '  <<$masturbation_lesson_description[slave["sub_masturbation"]]>>'
 $play_sound[2] = '<<$masturbate_sound[slave["age"]]>>'
 $special_bg = $masturbation[slave_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2 
 add_slave_hygiene = 5 
 add_house_mess = 5
 ejaculation_intensity = 0
 erotic_stimulation = slave["sub_masturbation"]
 orgastic = 1
 shameful = 1
 $special_part = {   
 if slave["exhibitionism"] ! 0 and slave["exhibitionism_revealed"] = 0: slave["exhibitionism_revealed"] = 1   
 slave_rate["expression"] += 1
 } 
 if slave["sub_masturbation"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!dildo
IF interaction = 1373:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_dildo"]'
 $subskill_xp = 'slave["exhibitionism_xp"]'
 repulse = 2 - slave["sub_dildo"]
 if slave["exhibitionism"] > 0: repulse -= 2 & rise_modifer = -2      
 if slave["exhibitionism"] < 0: repulse += 2 & rise_modifer = 2           
 rise_difficulty = 4 + slave["sub_dildo"]
 $text[1] = '  <<$dildo_lesson_description[slave["sub_dildo"]]>>'
 $play_sound[2] = '<<$masturbate_sound[slave["age"]]>>'
 $special_bg = $dildo[slave_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2 
 add_slave_hygiene = 5 
 add_house_mess = 5
 ejaculation_intensity = 0
 shameful = 1
 erotic_stimulation = slave["sub_dildo"] + 1
 orgastic = 1 
 if slave["sub_dildo"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'  
 $special_part = { 
 if slave["exhibitionism"] ! 0 and slave["exhibitionism_revealed"] = 0: slave["exhibitionism_revealed"] = 1
 if virginity < 2 and slave["sub_dildo"] > 2: virginity = 2
 }     
END

!Exhibitionism
IF interaction = 1374:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_exhibit"]'
 $subskill_xp = 'slave["exhibitionism_xp"]'
 repulse = 2
 if slave["exhibitionism"] > 0: repulse -= 2 & rise_modifer = -2      
 if slave["exhibitionism"] < 0: repulse += 3 & rise_modifer = 2   
 rise_difficulty = 3 + slave["sub_exhibit"]
 $text[1] = '  <<$exhibit_lesson_description[slave["sub_exhibit"]]>>'
 $play_sound[2] = '<<$seduce_sound[slave["age"]]>>'
 $special_bg = $exhibit[slave_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2
 add_slave_hygiene = 1 + slave["sub_exhibit"]
 add_house_mess = 2
 ejaculation_intensity = 0
 shameful = 1
 $special_part = {   
 if slave["exhibitionism"] ! 0 and slave["exhibitionism_revealed"] = 0: slave["exhibitionism_revealed"] = 1
 slave_rate["custom"] += 1
 } 
 if slave["sub_exhibit"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!humiliation
IF interaction = 1375:
 $interaction_type = 'self_sex_lesson'
 $subskill = 'slave["sub_humiliation"]'
 $subskill_xp = 'slave["sub_humiliation_xp"]'  
 repulse = 5 - slave["sub_humiliation"]
 if slave["meekness"] > 0: repulse -= 2 & rise_modifer = -2
 if slave["meekness"] < 0: repulse += 1 & rise_modifer = 2    
 rise_difficulty = 5 + slave["sub_humiliation"]
 $text[1] = '  <<$disgrace_lesson_description[slave["sub_humiliation"]]>>'
 $play_sound[2] = '<<$moan[slave["age"]]>>'
 $special_bg = $disgrace[slave_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2
 add_slave_hygiene = 2
 add_house_mess = 2
 ejaculation_intensity = 0
 shameful = 1
 $special_part = {   
 master_domination_rate += 1 
 if slave["meekness"] ! 0 and slave["meekness_revealed"] = 0: slave["meekness_revealed"] = 1     
 slave_rate["pride"] -= slave["sub_humiliation"] + 1
 }  
 if slave["sub_humiliation"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!sex - special - Easter Egg feature - crushboss
IF interaction = 1395 and slave_state ! CONST_INT['no_exist']:
	$interaction_type = 'self_sex_lesson_special'
	$place = 'study'
	painful = 0
	orgastic = 1
	repulse = -100
	add_master_hygiene = 15 
	add_slave_hygiene = 20 
	add_house_mess = 20
	copyarr '$text', '$sex_special'
elseif interaction = 1395 and slave_state = CONST_INT['no_exist']: gt 'menu_form'
END

!Sex lessons - assistant - added by crushboss

!handjob - assistant
IF interaction = 7001:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_hj"]'
 $subskill_xp = 'assistant["sub_hj_xp"]'
 repulse = -100
 rise_difficulty = 4 + assistant["sub_hj"]
 $text[1] = '  <<$hj_lesson_description_assistant[assistant["sub_hj"]]>>'
 $play_sound[2] = '<<$slopy[assistant["age"]]>>'
 $special_bg = $hj[assistant_type]   
 couch_skill = master_petting
 add_master_hygiene = 3 
 add_assistant_hygiene = 10 
 add_house_mess = 5
 ejaculation_intensity = 1
 if assistant["sub_hj"] > 5: $interaction_type = 'completed'
 $place = 'bedroom'  
 $special_part = {master_petting_rate += 1}   
END

!footjob - assistant
IF interaction = 7002:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_fj"]'
 $subskill_xp = 'assistant["sub_fj_xp"]' 
 repulse = -100
 rise_difficulty = 7 + assistant["sub_fj"]
 $text[1] = '  <<$fj_lesson_description_assistant[assistant["sub_fj"]]>>'
 $play_sound[2] = '<<$slopy[assistant["age"]]>>'
 $special_bg = $fj[assistant_type]   
 couch_skill = master_petting
 add_master_hygiene = 4 
 add_assistant_hygiene = 10 
 add_house_mess = 5
 ejaculation_intensity = 1
 if assistant["sub_fj"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_petting_rate += 1}    
END

!hugs / rubbing - assistant
!Some sex activities I had to hardcode the pictures due to the slave .json files pointing to the wrong location or wrong image - crushboss
IF interaction = 7003:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_hug"]'
 $subskill_xp = 'assistant["sub_hug_xp"]'  
 repulse = -100
 if assistant["nymphomania"] > 0: repulse -= 1 & rise_modifer = -2
 if assistant["nymphomania"] < 0: repulse += 1 & rise_modifer = 2
 rise_difficulty = 5 + assistant["sub_hug"]
 $text[1] = '  <<$hug_lesson_description_assistant[assistant["sub_hug"]]>>'
 $play_sound[2] = '<<$petting_sound[assistant["age"]]>>'
 IF assistant["age"] = CONST_INT['loli_age']:
  g = RAND (1,10)
  if g = 1: $special_bg = 'girls\sex\hug_red_long_loli'
  if g = 2: $special_bg = 'girls\sex\petting_black_purpleeye'
  if g = 3: $special_bg = 'girls\sex\petting_blond_redeye_loli'
  if g = 4: $special_bg = 'girls\sex\petting_blond_blueeye_loli'
  if g = 5: $special_bg = 'girls\sex\petting_brown_short_darkeye'
  if g = 6: $special_bg = 'girls\sex\petting_general_loli'
  if g = 7: $special_bg = 'girls\sex\petting_brown'
  if g = 8: $special_bg = 'girls\sex\petting_brown_bkackeye_loli'
  if g = 9: $special_bg = 'girls\sex\petting_blond_short_greeneye_loli'
  if g = 10: $special_bg = 'girls\sex\petting_brown_blueeye_loli'
 END 
 IF assistant["age"] = CONST_INT['milf_age']:
  g = RAND (1,10)
  if g = 1: $special_bg = 'girls\sex\hug_red_long_milf'
  if g = 2: $special_bg = 'girls\sex\petting_black_purpleeye'
  if g = 3: $special_bg = 'girls\sex\petting_general_girl_2'
  if g = 4: $special_bg = 'girls\sex\petting_brown_milf'
  if g = 5: $special_bg = 'girls\sex\petting_blond_long_greeneye'
  if g = 6: $special_bg = 'girls\sex\petting_general_girl_3'
  if g = 7: $special_bg = 'girls\sex\petting_general_milf'
  if g = 8: $special_bg = 'girls\sex\petting_pink_blueeye'
  if g = 9: $special_bg = 'girls\sex\petting_blue_long_goldeye'
  if g = 10: $special_bg = 'girls\sex\petting_general_girl'
 END
 IF assistant["age"] = CONST_INT['young_age']:
  g = RAND (1,15)
  if g = 1: $special_bg = 'girls\sex\hug_young'
  if g = 2: $special_bg = 'girls\sex\hug_blond_long_young'
  if g = 3: $special_bg = 'girls\sex\petting_black_purpleeye'
  if g = 4: $special_bg = 'girls\sex\petting_brown_short_darkeye'
  if g = 5: $special_bg = 'girls\sex\hug_blond_short_young'
  if g = 6: $special_bg = 'girls\sex\petting_blond_short_darkeye'
  if g = 7: $special_bg = 'girls\sex\petting_general_loli'
  if g = 8: $special_bg = 'girls\sex\petting_blond_long_greeneye'
  if g = 9: $special_bg = 'girls\sex\petting_general_girl_3'
  if g = 10: $special_bg = 'girls\sex\petting_brown'
  if g = 11: $special_bg = 'girls\sex\petting_general_milf'
  if g = 12: $special_bg = 'girls\sex\petting_pink_blueeye'
  if g = 13: $special_bg = 'girls\sex\petting_blond_long_goldeye'
  if g = 14: $special_bg = 'girls\sex\petting_blue_long_goldeye'
  if g = 15: $special_bg = 'girls\sex\petting_general_girl'
 END
 g = 0
 couch_skill = master_petting
 add_master_hygiene = 5 
 add_assistant_hygiene = 5 
 add_house_mess = 4
 ejaculation_intensity = 1
 if assistant["sub_hug"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'   
 $special_part = {  
  if assistant["nymphomania"] ! 0 and assistant["nymphomania_revealed"] = 0: assistant["nymphomania_revealed"] = 1
  master_petting_rate += 1  
  }  
END

!pazuri - assistant
IF interaction = 7004:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_pazuri"]'
 $subskill_xp = 'assistant["sub_pazuri_xp"]'  
 repulse = -100
 rise_difficulty = 7 + assistant["sub_pazuri"]
 $text[1] = '  <<$pazuri_lesson_description_assistant[assistant["sub_pazuri"]]>>'
 $play_sound[2] = '<<$petting_sound[assistant["age"]]>>'
 $special_bg = $pazuri[assistant_type]   
 couch_skill = master_petting
 add_master_hygiene = 3 
 add_assistant_hygiene = 5 
 add_house_mess = 4
 ejaculation_intensity = 1
 if assistant["sub_pazuri"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_petting_rate += 1}    
END

!kissing - assistant
IF interaction = 7005:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_kiss"]'
 $subskill_xp = 'assistant["sub_kiss_xp"]'  
 repulse = -100
 rise_difficulty = 3 + assistant["sub_kiss"]
 $text[1] = '  <<$kiss_lesson_description_assistant[assistant["sub_kiss"]]>>'
 $play_sound[2] = '<<$kiss_sound[assistant["age"]]>>'
 $special_bg = $kiss[assistant_type]   
 couch_skill = master_oral
 add_master_hygiene = 1 
 add_assistant_hygiene = 1
 add_house_mess = 1
 ejaculation_intensity = 0 
 if assistant["sub_kiss"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 master_oral_rate += 1
 } 
 $place = 'bedroom'      
END

!oral massage - assistant
IF interaction = 7006:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_thongue"]'
 $subskill_xp = 'assistant["sub_thongue_xp"]'  
 repulse = 1 + assistant["sub_thongue"]
 rise_difficulty = 3 + assistant["sub_thongue"]
 $text[1] = '  <<$liking_lesson_description_assistant[assistant["sub_thongue"]]>>'
 $play_sound[2] = '<<$kiss_sound[assistant["age"]]>>'
 $special_bg = $thongue[assistant_type]   
 couch_skill = master_oral
 add_master_hygiene = 1 
 add_assistant_hygiene = 3 
 add_house_mess = 2
 ejaculation_intensity = 0
 if assistant["sub_thongue"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_oral_rate += 1}     
END

!blowjob - assistant
IF interaction = 7007:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_bj"]'
 $subskill_xp = 'assistant["sub_bj_xp"]' 
 repulse = -100 + assistant["sub_bj"]
 rise_difficulty = 6 + assistant["sub_bj"]
 $text[1] = '  <<$bj_lesson_description_assistant[assistant["sub_bj"]]>>'
 $play_sound[3] = '<<$bj_sound[assistant["age"]]>>'
 $special_bg = $bj[assistant_type]   
 couch_skill = master_oral
 add_master_hygiene = -1 
 add_assistant_hygiene = 5 
 add_house_mess = 3
 ejaculation_intensity = 1
 if assistant["sub_bj"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_oral_rate += 1}      
END

!deepthroat - assistant
IF interaction = 7008:
 $interaction_type = 'self_sex_lesson_assistant'
 painful = 0
 $subskill = 'assistant["sub_dt"]'
 $subskill_xp = 'assistant["sub_dt_xp"]'  
 repulse = -100 + assistant["pride"] - assistant["sub_dt"]
 rise_difficulty = 5 + assistant["sub_dt"]
 $text[1] = '  <<$throatfuck_lesson_description_assistant[assistant["sub_dt"]]>>'
 $play_sound[2] = '<<$throatfuck_sound[assistant["age"]]>>'
 $special_bg = $dt[assistant_type]   
 couch_skill = master_oral
 add_master_hygiene = 5 
 add_assistant_hygiene = 10 
 add_house_mess = 10
 ejaculation_intensity = 2
 $special_part = {   
 assistant_rate["pride"] -= assistant["sub_dt"] + 1
 master_oral_rate += 1
 } 
 if assistant["sub_dt"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!rimming - assistant
IF interaction = 7009:
 $interaction_type = 'self_sex_lesson_assistant'
 disgusting = 1
 $subskill = 'assistant["sub_asslik"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 repulse = -100 + assistant["pride"] + assistant["sub_asslik"]
 if assistant["preversion"] > 0: repulse -= 4 & rise_modifer = -2
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2  
 rise_difficulty = 3 + assistant["sub_asslik"]
 $text[1] = '  <<$rimming_lesson_description_assistant[assistant["sub_asslik"]]>>'
 $play_sound[2] = '<<$kiss_sound[assistant["age"]]>>'
 $special_bg = $rimming[assistant_type]   
 couch_skill = master_oral
 add_master_hygiene = -5 
 add_assistant_hygiene = 10 
 add_house_mess = 10
 ejaculation_intensity = 0
 $special_part = {   
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1
 assistant_rate["pride"] -= assistant["sub_asslik"] + 2
 }  
 if assistant["sub_asslik"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
 $special_part = {master_oral_rate += 1}      
END

!vaginal sex - assistant
IF interaction = 7010:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_vaginal"]'
 $subskill_xp = 'assistant["sub_vaginal_xp"]'  
 repulse = -100
 if assistant["nymphomania"] > 0: repulse = 0 & rise_modifer = -2
 if assistant["nymphomania"] < 0: repulse += 1 & rise_modifer = 2  
 rise_difficulty = 5 + assistant["sub_vaginal"]
 $text[1] = '  <<$vaginalsex_lesson_description_assistant[assistant["sub_vaginal"]]>>'
 $play_sound[2] = '<<$fuck_sound[assistant["age"]]>>'
 $special_bg = $sex_vaginal[assistant_type]   
 if assistant_virginity < 2: $special_bg = $defloration[assistant_type]   
 couch_skill = master_penetration
 add_master_hygiene = 6 
 add_assistant_hygiene = 6 
 add_house_mess = 5
 ejaculation_intensity = 1
 erotic_stimulation = master_penetration
 orgastic = 1
 if assistant["sub_vaginal"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["nymphomania_revealed"] = 0:  assistant["nymphomania_revealed"] = 1  
 master_penetration_rate += 1
 IF assistant_virginity < 2:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']  
 END
 gs '$pregnancy_assistant'
 IF assistant['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END  
 }   
 $place = 'bedroom'    
END

!anal sex - assistant
IF interaction = 7011:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_anal"]'
 $subskill_xp = 'assistant["sub_anal_xp"]'  
 repulse = -100
 rise_difficulty = 7 + assistant["sub_anal"]
 $text[1] = '  <<$analsex_lesson_description_assistant[assistant["sub_anal"]]>>'
 $play_sound[2] = '<<$assfuck_sound[assistant["age"]]>>'
 $special_bg = $analsex[assistant_type]   
 couch_skill = master_penetration
 add_master_hygiene = 10 
 add_assistant_hygiene = 12 
 add_house_mess = 10
 erotic_stimulation = master_penetration - 1
 orgastic = 1 
 ejaculation_intensity = 2
 if assistant["sub_anal"] >= 2: orgastic = 1
 if assistant["sub_anal"] <= 2: painful = 1 
 $special_part = {   
 master_penetration_rate += 1
 assistant_rate["pride"] -= 1
 IF assistant['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END  
 } 
 if assistant["sub_anal"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!vaginal fisting - assistant
IF interaction = 7012:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_fisting"]'
 $subskill_xp = 'assistant["sub_fisting_xp"]'  
 repulse = -100
 rise_difficulty = 7 + assistant["sub_fisting"]
 $text[1] = '  <<$fisting_lesson_description_assistant[assistant["sub_fisting"]]>>'
 $play_sound[2] = '<<$fisting_sound[assistant["age"]]>>'
 $special_bg = $fisting[assistant_type]   
 couch_skill = master_penetration
 add_master_hygiene = 10 
 add_assistant_hygiene = 12 
 add_house_mess = 10
 ejaculation_intensity = 0
 erotic_stimulation = master_petting 
 orgastic = 1
 if assistant["sub_fisting"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'    
 $special_part = {   
 IF assistant_virginity < 2:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']  
 END
 }     
END

!anal fisting - assistant
IF interaction = 7013:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["anal_stretch"]'
 $subskill_xp = 'assistant["anal_stretch_xp"]'  
 repulse = -100
 rise_difficulty = 9 + assistant["anal_stretch"]
 $text[1] = '  <<$analfisting_lesson_description_assistant[assistant["anal_stretch"]]>>'
 $play_sound[2] = '<<$fisting_sound[assistant["age"]]>>'
 $special_bg = $analfisting[assistant_type]   
 couch_skill = master_penetration
 add_master_hygiene = 15
 add_assistant_hygiene = 12 
 add_house_mess = 12
 ejaculation_intensity = 0
 if assistant["anal_stretch"] <= 3: painful = 1  
 if assistant["anal_stretch"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!Personal lesson on threesome - assistant
IF interaction = 7014:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_threesome"]'
 $subskill_xp = 'assistant["lesbian_xp"]'
 lesbian = 1
 repulse = -100
 if assistant["nymphomania"] > 0: repulse -= 1  
 if assistant["homosexualism"] > 0: repulse -= 1  
 rise_difficulty = 7 + assistant["sub_threesome"]
 $text[1] = '  <<$threesome_lesson_description_assistant[assistant["sub_threesome"]]>>'
 $play_sound[2] = '<<$fuck_sound[assistant["age"]]>>'
 $special_bg = $lesbian[assistant_type]   
 couch_skill = (1 + master_penetration + master_artdirector)/2
 add_master_hygiene = 8 
 add_assistant_hygiene = 8 
 add_house_mess = 6
 ejaculation_intensity = 2
 erotic_stimulation = (master_penetration + assistant["oral"] + assistant["petting"])/2
 orgastic = 1
 if assistant["sub_threesome"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["nymphomania"] ! 0 and assistant["nymphomania_revealed"] = 0: assistant["nymphomania_revealed"] = 1   
 if assistant["homosexualism"] ! 0 and assistant["homosexualism_revealed"] = 0: assistant["homosexualism_revealed"] = 1  
 master_penetration_rate += 1
 IF assistant_virginity < 2:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']  
 END
 gs '$pregnancy_assistant'
 IF assistant['ill'] > 0:
  a = RAND (1,6)
  if a > master_str and master_ill = 0: master_ill = 1
 END 
 IF master_ill > 0:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END  
 }   
 $place = 'bedroom'    
END

!Personal lesson on double penetration - assistant
IF interaction = 7015:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_dp"]'
 $subskill_xp = 'assistant["exhibitionism_xp"]'
 shameful = 1
 repulse = -100
 if assistant["nymphomania"] > 0: repulse -= 1 & rise_modifer = -2   
 if assistant["nymphomania"] < 0: repulse += 1 & rise_modifer = 2   
 rise_difficulty = 7 + assistant["sub_dp"]
 $text[1] = '  <<$dp_lesson_description_assistant[assistant["sub_dp"]]>>'
 $play_sound[2] = '<<$fuck_sound[assistant["age"]]>>'
 $special_bg = $gangbang[assistant_type]
 if $dp[assistant_type] ! '': $special_bg = $dp[assistant_type]  
 couch_skill = master_penetration
 add_master_hygiene = 8 
 add_assistant_hygiene = 8 
 add_house_mess = 6
 ejaculation_intensity = 1
 erotic_stimulation = assistant["sub_dp"] + 1
 if assistant["sub_dp"] > 0: orgastic = 1
 if assistant["sub_dp"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["nymphomania"] ! 0 and assistant["nymphomania_revealed"] = 0: assistant["nymphomania_revealed"] = 1
 if assistant["exhibitionism"] ! 0 and assistant["exhibitionism_revealed"] = 0: assistant["exhibitionism_revealed"] = 1
 master_penetration_rate += 1
 IF assistant_virginity < 2:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 2 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']   
 END
 gs '$pregnancy_assistant'
 b = RAND (1,5)
 IF b = 1:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END  
 }   
 $place = 'street'    
END

!Personal lesson on triple penetration - assistant
IF interaction = 7016:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_tp"]'
 $subskill_xp = 'assistant["exhibitionism_xp"]'
 shameful = 1
 repulse = -100
 if assistant["nymphomania"] > 0: repulse -= 1 & rise_modifer = -2   
 if assistant["nymphomania"] < 0: repulse += 1 & rise_modifer = 2    
 rise_difficulty = 8 + assistant["sub_tp"]
 $text[1] = '  <<$tp_lesson_description_assistant[assistant["sub_tp"]]>>'
 $play_sound[2] = '<<$fuck_sound[assistant["age"]]>>'
 $special_bg = $gangbang[assistant_type]
 if $tp[assistant_type] ! '': $special_bg = $tp[assistant_type]  
 couch_skill = master_penetration
 add_master_hygiene = 8 
 add_assistant_hygiene = 20 
 add_house_mess = 12
 ejaculation_intensity = 1
 erotic_stimulation = assistant["sub_tp"] * 2
 if assistant["sub_tp"] > 0: orgastic = 1 
 if assistant["sub_tp"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["nymphomania"] ! 0 and assistant["nymphomania_revealed"] = 0: assistant["nymphomania_revealed"] = 1
 if assistant["exhibitionism"] ! 0 and assistant["exhibitionism_revealed"] = 0: assistant["exhibitionism_revealed"] = 1
 master_penetration_rate += 1
 IF assistant_virginity < 2:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 5 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']    
 END
 gs '$pregnancy_assistant' 
 b = RAND (1,4)
 IF b = 1:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END   
 }   
 $place = 'street'    
END

!Personal lesson on gangbang - assistant
IF interaction = 7017:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_gangbang"]'
 $subskill_xp = 'assistant["exhibitionism_xp"]'
 shameful = 1
 repulse = -100
 if assistant["nymphomania"] > 0: repulse -= 1 & rise_modifer = -2   
 if assistant["nymphomania"] < 0: repulse += 1 & rise_modifer = 2   
 rise_difficulty = 8 + assistant["sub_gangbang"]
 $text[1] = '  <<$gangbang_lesson_description_assistant[assistant["sub_gangbang"]]>>'
 $play_sound[2] = '<<$fuck_sound[assistant["age"]]>>'
 $special_bg = $gangbang[assistant_type]   
 couch_skill = master_penetration
 add_master_hygiene = 8 
 add_assistant_hygiene = 25 
 add_house_mess = 15
 ejaculation_intensity = 1
 erotic_stimulation = assistant["sub_gangbang"] * 3
 if assistant["sub_gangbang"] > 0: orgastic = 1 
 if assistant["sub_gangbang"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["nymphomania"] ! 0 and assistant["nymphomania_revealed"] = 0: assistant["nymphomania_revealed"] = 1 
 if assistant["exhibitionism"] ! 0 and assistant["exhibitionism_revealed"] = 0: assistant["exhibitionism_revealed"] = 1  
 master_penetration_rate += 1
 IF assistant_virginity < 2: 
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 5 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']    
 END
 gs '$pregnancy_assistant' 
 b = RAND (1,2)
 IF b = 1:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END    
 }   
 $place = 'street'    
END

!Personal lesson on bukkake - assistant
IF interaction = 7018:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_bukake"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 shameful = 1
 disgusting = 1
 repulse = -100
 if assistant["preversion"] > 0: repulse -= 6 & rise_modifer = -2    
 if assistant["preversion"] < 0: repulse += 1 & rise_modifer = 2 
 rise_difficulty = 5
 $text[1] = '  <<$bukake_lesson_description_assistant[assistant["sub_bukake"]]>>'
 $play_sound[2] = '<<$bj_sound[assistant["age"]]>>'
 $special_bg = $bukake[assistant_type]   
 couch_skill = master_fetish
 add_master_hygiene = 10 
 add_assistant_hygiene = 30 
 add_house_mess = 20
 erotic_stimulation = assistant["sub_bukake"]
 orgastic = 0
 if assistant["sub_bukake"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["exhibitionism"] ! 0 and assistant["exhibitionism_revealed"] = 0: assistant["exhibitionism_revealed"] = 1   
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1
 master_fetish_rate += 1
 b = RAND (1,4)
 IF b = 1:
  a = RAND (1,6)
  if a > assistant['stamina'] and assistant['ill'] = 0: assistant['ill'] = 1
 END    
 }   
 $place = 'street'    
END

!Personal lesson on sex with dog - assistant
IF interaction = 7019:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_zoosex"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 disgusting = 1
 repulse = -100 + assistant["pride"]
 if assistant["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2 
 rise_difficulty = 6 + assistant["sub_zoosex"]
 $text[1] = '  <<$dogsex_lesson_description_assistant[assistant["sub_zoosex"]]>>'
 $play_sound[2] = '<<$fuck_sound[assistant["age"]]>>'
 $special_bg = $dog_sex[assistant_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_assistant_hygiene = 15 
 add_house_mess = 12
 erotic_stimulation = assistant["sub_zoosex"]
 if assistant["sub_zoosex"] > 0: orgastic = 1
 if assistant["sub_zoosex"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1     
 master_domination_rate += 1
 IF assistant_virginity < 2 and assistant["sub_zoosex"] > 0:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 2 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']     
 END
 }   
 $place = 'bedroom'   
 ejaculation_intensity = 0  
END

!Personal lesson on sex with pig - assistant
IF interaction = 7020:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_bestiality"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 disgusting = 1
 repulse = -100 + assistant["pride"]
 if assistant["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2  
 rise_difficulty = 7 + assistant["sub_bestiality"]
 $text[1] = '  <<$pigsex_lesson_description_assistant[assistant["sub_bestiality"]]>>'
 $play_sound[2] = '<<$fuck_sound[assistant["age"]]>>'
 $special_bg = $pig_sex[assistant_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_assistant_hygiene = 25 
 add_house_mess = 5
 erotic_stimulation = assistant["sub_bestiality"]
 if assistant["sub_bestiality"] > 0: orgastic = 1
 if assistant["sub_bestiality"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1     
 master_domination_rate += 1
 IF assistant_virginity < 2 and assistant["sub_bestiality"] > 0:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 3 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']   
 END
 }   
 $place = 'farm' 
 ejaculation_intensity = 0   
END

!Personal lesson on sex with horse - assistant
IF interaction = 7021:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_horse"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 disgusting = 1
 painful = 1  
 repulse = -100 + assistant["sensitivity"]
 if assistant["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2 
 rise_difficulty = 8 + assistant["sub_horse"]
 $text[1] = '  <<$horsesex_lesson_description_assistant[assistant["sub_horse"]]>>'
 $play_sound[2] = '<<$assfuck_sound[assistant["age"]]>>'
 $special_bg = $horse_sex[assistant_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_assistant_hygiene = 15 
 add_house_mess = 5
 erotic_stimulation = assistant["sub_horse"]
 if assistant["sub_horse"] > 0: orgastic = 1
 if assistant["sub_horse"] > 5: $interaction_type = 'completed' 
 if assistant["sub_horse"] > 0: damage = 10 - assistant["sub_horse"]
 $special_part = {   
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1     
 assistant_rate["sensitivity"] -= damage
 master_domination_rate += 1
 IF assistant_virginity < 2 and assistant["sub_horse"] > 0:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 2 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']   
 END
 }   
 $place = 'farm'    
 ejaculation_intensity = 0 
END

!Personal lesson on sex with Tentacle Fiend - assistant
!Fiend Milking - assistant - sex lesson
IF interaction = 7022:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_tentacles"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 disgusting = 1
 repulse = -100 + tentacle_size + assistant["sensitivity"]
 if assistant["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2 
 rise_difficulty = 9 + tentacle_size
 $text[1] = '  <<$tentacle_lesson_description_assistant[assistant["sub_tentacles"]]>>'
 $play_sound[2] = '<<$bj_sound[assistant["age"]]>>'
 $special_bg = $tentacles[assistant_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_assistant_hygiene = 20 
 add_house_mess = 10
 erotic_stimulation = 100
 orgastic = 1
 if assistant["sub_tentacles"] > 5: $interaction_type = 'completed' 
 $special_part = {   
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1    
 master_domination_rate += 1
 IF assistant_virginity < 2:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 2 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']   
 END
 tentacle_hp += 1
 IF diligence > 0:
  spawn_milked = 1
  tentacle_hp += 1
  spawn_semen += diligence
 END
 if assistant['fertility'] = 0 and assistant['pregnant'] < 1 and assistant['parasite'] < 1 and assistant['fiend_tattoo'] = 0: assistant['parasite'] = 1
 if assistant['parasite'] < 1: assistant_rate["arousal"] -= (assistant["arousal"] + assistant["sensitivity"]) 
 }
 $place = 'pen'    
 ejaculation_intensity = 0
END

!Personal lesson on sex with Arachnid Spider - assistant
IF interaction = 7023:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_arachnidspider"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 disgusting = 1
 painful = 1  
 repulse = -100 + assistant["pride"]
 if assistant["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2  
 rise_difficulty = 8 + assistant["sub_arachnidspider"]
 $text[1] = '  <<$arachnid_lesson_description_assistant[assistant["sub_arachnidspider"]]>>'
 $play_sound[2] = '<<$assfuck_sound[assistant["age"]]>>'
 $special_bg = $spider[assistant_type]   
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_assistant_hygiene = 15 
 add_house_mess = 8
 erotic_stimulation = assistant["sub_arachnidspider"]
 if assistant["sub_arachnidspider"] > 0: orgastic = 1
 if assistant["sub_arachnidspider"] > 5: $interaction_type = 'completed' 
 if assistant["sub_arachnidspider"] > 0: damage = 10 - assistant["sub_arachnidspider"]
 $special_part = {   
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1     
 assistant_rate["sensitivity"] -= damage
 master_domination_rate += 1
 IF assistant_virginity < 2 and assistant["sub_arachnidspider"] > 0:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 3 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']   
 END
 }   
 $place = 'dungeon'    
 ejaculation_intensity = 0 
END

!Personal lesson on sex with Sea Tentacle - assistant
IF interaction = 7024:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_polypusvermin"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 disgusting = 1
 painful = 1  
 repulse = -100 + assistant["pride"]
 if assistant["preversion"] > 0: repulse -= 5 & rise_modifer = -2    
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2  
 rise_difficulty = 8 + assistant["sub_polypusvermin"]
 $text[1] = '  <<$polypus_lesson_description_assistant[assistant["sub_polypusvermin"]]>>'
 $play_sound[2] = '<<$assfuck_sound[assistant["age"]]>>'
 $special_bg = $tentacles[assistant_type]
 couch_skill = master_fetish
 add_master_hygiene = 1 
 add_assistant_hygiene = 15 
 add_house_mess = 8
 erotic_stimulation = 100
 if assistant["sub_polypusvermin"] > 0: orgastic = 1
 if assistant["sub_polypusvermin"] > 5: $interaction_type = 'completed' 
 if assistant["sub_polypusvermin"] > 0: damage = 10 - assistant["sub_polypusvermin"]
 $special_part = {   
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1     
 assistant_rate["sensitivity"] -= damage
 master_domination_rate += 1
 IF assistant_virginity < 2 and assistant["sub_polypusvermin"] > 0:
  assistant_virginity = 2
  assistant['neg_defloration'] = assistant["sensitivity"] + 3 + assistant['pride'] - assistant["moral"] - assistant["arousal"]
  if assistant['neg_defloration'] > 0: gs '$mod_assistant_drop', assistant['neg_defloration']   
 END
 }   
 $place = 'dungeon'    
 ejaculation_intensity = 0 
END

!enema - assistant
IF interaction = 7025:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_enema"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 repulse = 1 + assistant["pride"] + assistant["sub_enema"]
 if assistant["preversion"] > 0: repulse = 0 & rise_modifer = -2
 if assistant["preversion"] < 0: repulse += 1 & rise_modifer = 2   
 rise_difficulty = 2 + assistant["sub_enema"]
 $text[1] = '  <<$enema_lesson_description_assistant[assistant["sub_enema"]]>>'
 $play_sound[2] = '<<$soft_pain[assistant["age"]]>>'
 $special_bg = $enema[assistant_type]   
 couch_skill = master_medic
 add_master_hygiene = 10
 add_assistant_hygiene = -5 
 add_house_mess = 20
 ejaculation_intensity = 0
 shameful = 1   
 $special_part = {   
 master_fetish_rate += 1  
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1   
 assistant_rate["stamina"] += 1
 assistant_rate["pride"] -= assistant["pride"]
 }    
 if assistant["sub_enema"] > 5: $interaction_type = 'completed' 
 $place = 'bathroom'     
END

!masochism - assistant
IF interaction = 7026:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_mazo"]'
 $subskill_xp = 'assistant["masohism_xp"]'
 repulse = -100 + assistant["pride"] + assistant["sub_mazo"]
 if assistant["masohism"] > 1: repulse = 0 & rise_modifer = -2
 if assistant["masohism"] < 0: repulse += 2 & rise_modifer = 2     
 rise_difficulty = 6 + assistant["sub_mazo"]
 $text[1] = '  <<$mazo_lesson_description_assistant[assistant["sub_mazo"]]>>'
 $play_sound[2] = '<<$soft_pain[assistant["age"]]>>'
 $special_bg = $bdsm[assistant_type]   
 couch_skill = master_domination
 add_master_hygiene = 5 
 add_assistant_hygiene = 10
 add_house_mess = 10
 ejaculation_intensity = 0 
 painful = 1 
 $special_part = {   
 if assistant["masohism"] ! 0 and assistant["masohism_revealed"] = 0: assistant["masohism_revealed"] = 1
 master_domination_rate += 1
 assistant_rate["custom"] += 1
 }  
 if assistant["sub_mazo"] > 5: $interaction_type = 'completed'
 $place = 'bedroom'     
END

!self-harm - assistant
IF interaction = 7027:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_selfpain"]'
 $subskill_xp = 'assistant["masohism_xp"]'
 repulse = -100 + assistant["pride"] + assistant["sub_selfpain"]
 if assistant["masohism"] > 1: repulse -= 4 & rise_modifer = -2
 if assistant["masohism"] < 0: repulse += 2 & rise_modifer = 2   
 rise_difficulty = 7 + assistant["sub_selfpain"]
 $text[1] = '  <<$selfpain_lesson_description_assistant[assistant["sub_selfpain"]]>>'
 $play_sound[2] = '<<$soft_pain[assistant["age"]]>>'
 $special_bg = $bdsm[assistant_type]
 if $self_torture[assistant_type] ! '': $special_bg = $self_torture[assistant_type]
 couch_skill = master_domination
 add_master_hygiene = 1 
 add_assistant_hygiene = 10 
 add_house_mess = 5
 ejaculation_intensity = 0
 painful = 1  
 $special_part = {   
 master_domination_rate += 1 
 if assistant["masohism"] ! 0 and assistant["masohism_revealed"] = 0: assistant["masohism_revealed"] = 1
 assistant_rate["pride"] -= 1
 }   
 if assistant["sub_selfpain"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!golden shower - assistant
IF interaction = 7028:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_piss"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 repulse = -100 + assistant["pride"] + assistant["sub_piss"]
 if assistant["preversion"] > 0: repulse -= 3 & rise_modifer = -2
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2    
 rise_difficulty = 5 + assistant["sub_piss"]
 $text[1] = '  <<$pissing_lesson_description_assistant[assistant["sub_piss"]]>>'
 $play_sound[2] = '<<$urine[assistant["age"]]>>'
 $special_bg = $urine_drink[assistant_type]   
 couch_skill = master_fetish
 add_master_hygiene = 3 
 add_assistant_hygiene = 20 
 add_house_mess = 25
 ejaculation_intensity = 0
 disgusting = 1  
 $special_part = {   
 master_fetish_rate += 1 
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1   
 assistant_rate["pride"] -= assistant["sub_piss"] + 1
 }    
 if assistant["sub_piss"] > 5: $interaction_type = 'completed' 
 $place = 'bathroom'     
END

!scat - assistant
IF interaction = 7029:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_kopro"]'
 $subskill_xp = 'assistant["preversion_xp"]'
 repulse = -100 + assistant["pride"] + assistant["sub_kopro"]
 if assistant["preversion"] > 0: repulse -= 4 & rise_modifer = -2
 if assistant["preversion"] < 0: repulse += 2 & rise_modifer = 2   
 rise_difficulty = 7 + assistant["sub_kopro"]
 $text[1] = '  <<$kopro_lesson_description_assistant[assistant["sub_kopro"]]>>'
 $play_sound[2] = '<<$kopro_sound[assistant["age"]]>>'
 $special_bg = $kopro[assistant_type]   
 couch_skill = master_fetish
 add_master_hygiene = 5
 add_assistant_hygiene = 40 
 add_house_mess = 30
 ejaculation_intensity = 0
 disgusting = 1   
 $special_part = {   
 master_fetish_rate += 1  
 if assistant["preversion"] ! 0 and assistant["preversion_revealed"] = 0: assistant["preversion_revealed"] = 1   
 assistant_rate["stamina"] -= assistant["sub_kopro"]
 assistant_rate["pride"] -= (assistant["sub_kopro"] + 4)
 }    
 if assistant["sub_kopro"] > 5: $interaction_type = 'completed' 
 $place = 'bathroom'     
END

!seduction - assistant
IF interaction = 7030:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_seduce"]'
 $subskill_xp = 'assistant["sub_seduce_xp"]'  
 repulse = 1
 rise_difficulty = 5 + assistant["sub_seduce"]
 $text[1] = '  <<$seduction_lesson_description_assistant[assistant["sub_seduce"]]>>'
 $play_sound[2] = '<<$seduce_sound[assistant["age"]]>>'
 $special_bg = $seduce[assistant_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2 
 add_assistant_hygiene = 3 
 add_house_mess = 2
 ejaculation_intensity = 0
 $special_part = {   
 rise_up = min (master_artdirector, assistant["roleplay"])
 assistant_rate["expression"] += rise_up
 assistant_rate["callisthenics"] += rise_up
 } 
 if assistant["sub_seduce"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!masturbation - assistant
IF interaction = 7031:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_masturbation"]'
 $subskill_xp = 'assistant["exhibitionism_xp"]'
 repulse = -100 
 rise_difficulty = 3 + assistant["sub_masturbation"]
 if assistant["exhibitionism"] > 0: repulse = 0 & rise_modifer = -2      
 if assistant["exhibitionism"] < 0: repulse += 1 & rise_modifer = 2      
 $text[1] = '  <<$masturbation_lesson_description_assistant[assistant["sub_masturbation"]]>>'
 $play_sound[2] = '<<$masturbate_sound[assistant["age"]]>>'
 $special_bg = $masturbation[assistant_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2 
 add_assistant_hygiene = 5 
 add_house_mess = 5
 ejaculation_intensity = 0
 erotic_stimulation = assistant["sub_masturbation"]
 orgastic = 1
 shameful = 1
 $special_part = {   
 if assistant["exhibitionism"] ! 0 and assistant["exhibitionism_revealed"] = 0: assistant["exhibitionism_revealed"] = 1
 assistant_rate["expression"] += 1
 } 
 if assistant["sub_masturbation"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!dildo - assistant
IF interaction = 7032:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_dildo"]'
 $subskill_xp = 'assistant["exhibitionism_xp"]'
 repulse = -100 + assistant["sub_dildo"]
 if assistant["exhibitionism"] > 0: repulse -= 2 & rise_modifer = -2      
 if assistant["exhibitionism"] < 0: repulse += 2 & rise_modifer = 2           
 rise_difficulty = 4 + assistant["sub_dildo"]
 $text[1] = '  <<$dildo_lesson_description_assistant[assistant["sub_dildo"]]>>'
 $play_sound[2] = '<<$masturbate_sound[assistant["age"]]>>'
 $special_bg = $dildo[assistant_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2 
 add_assistant_hygiene = 5 
 add_house_mess = 5
 ejaculation_intensity = 0
 shameful = 1
 erotic_stimulation = assistant["sub_dildo"] + 1
 orgastic = 1 
 if assistant["sub_dildo"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'  
 $special_part = { 
 if assistant["exhibitionism"] ! 0 and assistant["exhibitionism_revealed"] = 0: assistant["exhibitionism_revealed"] = 1
 if assistant_virginity < 2 and assistant["sub_dildo"] > 2: assistant_virginity = 2
 }     
END

!Exhibitionism - assistant
IF interaction = 7033:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_exhibit"]'
 $subskill_xp = 'assistant["exhibitionism_xp"]'
 repulse = -100
 if assistant["exhibitionism"] > 0: repulse -= 2 & rise_modifer = -2      
 if assistant["exhibitionism"] < 0: repulse += 3 & rise_modifer = 2   
 rise_difficulty = 3 + assistant["sub_exhibit"]
 $text[1] = '  <<$exhibit_lesson_description_assistant[assistant["sub_exhibit"]]>>'
 $play_sound[2] = '<<$seduce_sound[assistant["age"]]>>'
 $special_bg = $exhibit[assistant_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2
 add_assistant_hygiene = 1 + assistant["sub_exhibit"]
 add_house_mess = 2
 ejaculation_intensity = 0
 shameful = 1
 $special_part = {   
 if assistant["exhibitionism_revealed"] = 0:  assistant["exhibitionism_revealed"] = 1    
 assistant_rate["custom"] += 1
 } 
 if assistant["sub_exhibit"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!humiliation - assistant
IF interaction = 7034:
 $interaction_type = 'self_sex_lesson_assistant'
 $subskill = 'assistant["sub_humiliation"]'
 $subskill_xp = 'assistant["sub_humiliation_xp"]'  
 repulse = -100 +  assistant["sub_humiliation"]
 if assistant["meekness"] > 0: repulse -= 2 & rise_modifer = -2
 if assistant["meekness"] < 0: repulse += 1 & rise_modifer = 2    
 rise_difficulty = 5 + assistant["sub_humiliation"]
 $text[1] = '  <<$disgrace_lesson_description_assistant[assistant["sub_humiliation"]]>>'
 $play_sound[2] = '<<$moan[assistant["age"]]>>'
 $special_bg = $disgrace[assistant_type]   
 couch_skill = master_artdirector
 add_master_hygiene = 2
 add_assistant_hygiene = 2
 add_house_mess = 2
 ejaculation_intensity = 0
 shameful = 1
 $special_part = {   
 master_domination_rate += 1 
 if assistant["meekness"] ! 0 and assistant["meekness_revealed"] = 0: assistant["meekness_revealed"] = 1     
 assistant_rate["pride"] -= assistant["sub_humiliation"] + 1
 }  
 if assistant["sub_humiliation"] > 5: $interaction_type = 'completed' 
 $place = 'bedroom'     
END

!REWARDS
!Stroll on the roof
IF interaction = 1511:
 $interaction_type = 'prise_date'
 prise_level = 1 
 prise_potence = 1 + (slave["moral"]*2 + slave["rational"] + slave["instinct"] + slave["spoil"])/2 - slave["fear"] - already_done_curslave[interaction]
 if prise_potence <= 0: prise_potence = 1
 if slave["deprivation_attitude"] = -1:  prise_potence += prise_potence
 date_succes = 5
 if prise_potence < 40: date_succes = 4
 if prise_potence < 10: date_succes = 3
 if prise_potence < 5: date_succes = 2  
 if prise_potence <= 1: date_succes = 1
 IF date_succes > 2:
  slave['promise_reward'] = 0
  slave_rate["moral"] += 1
 END 
 prise_cost = 0 
 add_master_hygiene = 1  
 add_slave_hygiene = 1 
 add_house_mess = 1 
 $text[1] = '  <<$date_description[1]>>' 
 $text[2] = '  <<$date_result[date_succes]>>' 
 $place = 'high_view'
 daily_reward_count += 1
  if slave["passion_fame"] ! 0 and slave["passion_fame_revealed"] = 0: slave["passion_fame_revealed"] = 1     
END

!Walk around the city
IF interaction = 1512:
 $interaction_type = 'prise_date'
 prise_level = 2 
 prise_potence = (slave["ego"] + slave["temper"])/2 + (slave["moral"]*2 + slave["rational"] + slave["instinct"] + slave["spoil"])*1 - slave["fear"] - already_done_curslave[interaction]
 if slave["passion_fame"] = -1:  prise_potence = prise_potence/2
 if prise_potence <= 0: prise_potence = 1
 date_succes = 5
 if prise_potence < 40: date_succes = 4
 if prise_potence < 10: date_succes = 3
 if prise_potence < 5: date_succes = 2  
 if prise_potence <= 1: date_succes = 1
 IF date_succes > 2:
  slave['promise_reward'] = 0
  slave_rate["moral"] += 1
 END  
 prise_cost = 0
 add_master_hygiene = 4  
 add_slave_hygiene = 4 
 add_house_mess = 0 
 $text[1] = '  <<$date_description[2]>>' 
 $text[2] = '  <<$date_result[date_succes]>>' 
 $place = 'street'
 daily_reward_count += 1
 if slave["passion_fame"] ! 0 and slave["passion_fame_revealed"] = 0: slave["passion_fame_revealed"] = 1
END

!Go to the beach
IF interaction = 1513:
 $interaction_type = 'prise_date'
 prise_level = 3 
 prise_potence = slave["stamina"] + slave["temper"] + (slave["moral"]*2 + slave["rational"] + slave["instinct"] + slave["spoil"])*2 - slave["fear"] - already_done_curslave[interaction]
 if slave["passion_fame"] = -1:  prise_potence = prise_potence/2
 if slave["water_attitude"] = -1: prise_potence -= prise_potence 
 if prise_potence <= 0: prise_potence = 1
 if slave["passion_fame"] > 0:  prise_potence += prise_potence 
 if slave["water_attitude"] = 2: prise_potence += prise_potence 
 date_succes = 5
 if prise_potence < 40: date_succes = 4
 if prise_potence < 10: date_succes = 3
 if prise_potence < 5: date_succes = 2  
 if prise_potence <= 1: date_succes = 1
 IF date_succes > 2:
  slave['promise_reward'] = 0
  if slave["sin"] = 0 and slave["pride"] < 4: slave_rate["temper"] += 1 & slave_rate["moral"] += 2
 END 
 prise_cost = 2
 master_hygiene = 1
 slave["hygiene"] = 1
 add_house_mess = 2 
 $text[1] = '  <<$date_description[3]>>' 
 $text[2] = '  <<$date_result[date_succes]>>' 
 $place = 'beach'    
 slave["calories"] -= 1
 daily_reward_count += 1
  if slave["passion_fame"] ! 0 and slave["passion_fame_revealed"] = 0: slave["passion_fame_revealed"] = 1     
END

!Go to the theater
IF interaction = 1514:
 $interaction_type = 'prise_date'
 prise_level = 4 
 prise_potence = 5 + (slave["moral"]*2 + slave["rational"] + slave["instinct"] + slave["spoil"])*3  - slave["fear"] - already_done_curslave[interaction]
 if slave["passion_fame"] = -1:  prise_potence = prise_potence/2
 if prise_potence <= 0: prise_potence = 1
 if slave["passion_fame"] > 0:  prise_potence += prise_potence
 date_succes = 5
 if prise_potence < 40: date_succes = 4
 if prise_potence < 10: date_succes = 3
 if prise_potence < 5: date_succes = 2  
 if prise_potence <= 1: date_succes = 1
 IF date_succes > 2:
  slave['promise_reward'] = 0
 if slave["sin"] = 0 and slave["pride"] < 4: slave_rate["temper"] += 1 & slave_rate["moral"] += 2
 END 
 prise_cost = 4
 add_master_hygiene = 2  
 add_slave_hygiene = 2 
 add_house_mess = 1 
 $text[1] = '  <<$date_description[4]>>' 
 $text[2] = '  <<$date_result[date_succes]>>' 
 $place = 'theater'
 daily_reward_count += 1
 if slave["passion_fame"] ! 0 and slave["passion_fame_revealed"] = 0: slave["passion_fame_revealed"] = 1     
 $special_part = {
 if master_mood['pos_show'] < 1: master_mood['pos_show'] = 1
 }
END

!Go to a restaurant
IF interaction = 1515:
 $interaction_type = 'prise_date'
 prise_level = 5 
 slave['promise_reward'] = 0 
 prise_potence = 4 + (slave["moral"]*2 + slave["rational"] + slave["instinct"] + slave["spoil"] - slave["fear"])*4 - already_done_curslave[interaction] 
 if slave["passion_fame"] = -1:  prise_potence = prise_potence/2
 if slave["passion_sweets"] < 0: prise_potence -= 4 
 if prise_potence <= 0: prise_potence = 1
 if slave["passion_sweets"] > 0: prise_potence += prise_potence
 date_succes = 5
 if prise_potence < 40: date_succes = 4
 if prise_potence < 10: date_succes = 3
 if prise_potence < 5: date_succes = 2  
 if prise_potence <= 1: date_succes = 1
 IF date_succes > 2:
  slave['promise_reward'] = 0
  if slave["sin"] = 0 and slave["pride"] < 4: slave_rate["temper"] += 1 & slave_rate["moral"] += 2
 END  
 prise_cost = 8 
 add_master_hygiene = 3  
 add_slave_hygiene = 3 
 add_house_mess = 1 
 $text[1] = '  <<$date_description[5]>>' 
 $text[2] = '  <<$date_result[date_succes]>>' 
 $place = 'restaurant'
 daily_reward_count += 1
 special_food = 1
 if slave["passion_fame"] ! 0 and slave["passion_fame_revealed"] = 0: slave["passion_fame_revealed"] = 1    
 if slave["passion_sweets"] ! 0 and slave["passion_sweets_revealed"] = 0: slave["passion_sweets_revealed"] = 1   
 $special_part = {
 if master_mood['pos_self_food'] < 1: master_mood['pos_self_food'] = 1
 }   
END

!An hour of rest
IF interaction = 1521:
 $interaction_type = 'rest'
 $special_bg = $rest[slave_type]  
 prise_level = 1
 prise_potence = 1
 $text[1] = $slave_rest
 add_slave_hygiene = 1 
 add_house_mess = 2 
 free_time = 1
 slave_well_rested += free_time 
 $place = 'bedroom'
 daily_reward_count += 1
 if slave["passion_comfort"] ! 0 and slave["passion_comfort_revealed"] = 0: slave["passion_comfort_revealed"] = 1    
END

!An hour of fun
IF interaction = 1522:
 $interaction_type = 'rest'
 $special_bg = $games  
 prise_level = 2
 prise_potence = boardgames 
 $text[1] = $boardgames
 add_slave_hygiene = 2 
 add_house_mess = 5 
 free_time = 1
 $place = 'study'
 daily_reward_count += 1
 $special_part = {
 if slave['pos_games'] < 1: slave['pos_games'] = 1
 slave_rate["angst"] -= 2
 }    
END

!Rest till evening
IF interaction = 1523:
 $interaction_type = 'rest'
 $special_bg = $rest[slave_type]  
 prise_level = 3
 slave['promise_reward'] = 0  
 prise_potence = 5
 $text[1] = $slave_rest
 add_slave_hygiene = 5 
 add_house_mess = 10 
 free_time = slave["energy"]
 slave_well_rested += free_time 
 $place = 'bedroom'
 daily_reward_count += 1
 if slave["passion_comfort"] ! 0 and slave["passion_comfort_revealed"] = 0: slave["passion_comfort_revealed"] = 1     
END

!Fun till evening
IF interaction = 1524:
 $interaction_type = 'rest'
 $special_bg = $games  
 prise_level = 4
 slave['promise_reward'] = 0  
 free_time = slave["energy"]
 prise_potence = boardgames * 3
 $text[1] = $boardgames
 add_slave_hygiene = 5 
 add_house_mess = 10 
 $place = 'study'
 daily_reward_count += 1
 $special_part = {
 if slave['pos_games'] < 3: slave['pos_games'] = 3
 slave_rate["angst"] -= (slave["custom"] + slave["instinct"] + slave["rational"] + slave["moral"])
 }    
END

!Garden of Gethsemane
IF interaction = 1525:
 $interaction_type = 'rest'
 prise_level = 5
 slave['promise_reward'] = 0
 prise_potence = 5 + slave["fear"]*2 + slave["angst"]*3
 $text[1] = $outdoor_rest[1]
 add_slave_hygiene = 10 
 add_house_mess = 0
 free_time = 2
 $place = 'garden'
 daily_reward_count += 1
 $special_part = {
slave_rate["fear"] -= slave["fear"]*4 
slave_rate["angst"] -= slave["angst"]*4
slave_rate["spoil"] -= slave["spoil"]*4
slave_rate["arousal"] -= slave["arousal"]*4
slave_well_rested = slave["energy"]
slave_rate["sensitivity"] += 2
slave_rate["ego"] += 2
slave_rate["moral"] += 2
slave_rate["pride"] -= 1
if slave['pos_games'] < 5: slave['pos_games'] = 5
}
END

!Hot springs
IF interaction = 1526:
 $interaction_type = 'rest'
 prise_level = 2
 slave['promise_reward'] = 0  
 prise_potence = 3
 $text[1] = $outdoor_rest[2]
 add_slave_hygiene = 0 
 add_house_mess = 0
 free_time = 1
 $place = 'onsen'
 daily_reward_count += 1
 $special_part = {
 slave["hygiene"] = 0
 slave_rate["hygiene"] = 0
 slave["pos_slave_clean"] = 2
 if slave["parfume"] = 1: slave["parfume"] = 0
 slave_rate["sensitivity"] += 2
 slave_rate["ego"] += 1
 slave_rate["moral"] += 1
 slave_rate["angst"] -= (slave["custom"] + slave["instinct"] + slave["rational"] + slave["moral"])
 slave_rate["fear"] -= (slave["custom"] + slave["instinct"] + slave["rational"] + slave["moral"])
 sparks -= 2
 if slave['pos_games'] < 2: slave['pos_games'] = 2
} 
END

!Golden cage
IF interaction = 1527:
 $interaction_type = 'rest'
 prise_level = 5
 slave['promise_reward'] = 0  
 prise_potence = 25 + slave["ego"] + slave["temper"] + slave["sensitivity"]
 $text[1] = $outdoor_rest[3]
 add_slave_hygiene = 3 
 add_house_mess = 0
 free_time = 2 
 $place = 'harem'
 daily_reward_count += 1
 $special_part = {
slave_rate["angst"] -= ((slave["angst"]*2) * (slave["instinct"]*2))
slave_well_rested += 1
slave_rate["ego"] += 2
slave_rate["temper"] += 1
slave_rate["sensitivity"] += 2
slave_rate["moral"] += 2
sparks -= 5
slave['pos_games'] = slave["ego"] + slave["temper"] + slave["sensitivity"]
} 
END

!Gentle hug
IF interaction = 1531:
 $interaction_type = 'prise_erotic'
 $special_bg = $hug[slave_type]    
 prise_level = 1
 erotic_stimulation = (master_oral + slave["arousal"])/2
 $text[1] = $prise_erotic[prise_level]
 $play_sound[2] = '<<$kiss_sound[slave["age"]]>>'
 slave_rate["moral"] += 1 
 orgastic = 0  
 add_slave_hygiene = 2 
 add_master_hygiene = 2 
 add_house_mess = 4 
 $place = 'bedroom'
 daily_reward_count += 1
 if slave["abuse_attitude"] ! 0 and slave["abuse_attitude_revealed"] = 0: slave["abuse_attitude_revealed"] = 1    
 master_petting_rate += 1
 slave_rate["angst"] -= slave["sensitivity"] 
END

!Sensual massage - improved - added some healing effects - crushboss
IF interaction = 1532:
 $interaction_type = 'prise_erotic'
 $special_bg = $petting[slave_type]    
 prise_level = 2
 erotic_stimulation = master_petting + slave["arousal"]
 $text[1] = $prise_erotic[prise_level]
 orgastic = 0 
 add_slave_hygiene = 5 
 add_master_hygiene = 5 
 add_house_mess = 10
 daily_reward_count += 1 
 $play_sound[2] = '<<$petting_sound[slave["age"]]>>'  
 IF master_petting > 2 and already_done_today[interaction] = 0 and slave["massaged"] = 0: 
  slave["massaged"] = 1
  if slave["energy"] ! 5: slave["energy"] += 1
 END
 $place = 'bedroom'     
 if slave["passion_comfort"] ! 0 and slave["passion_comfort_revealed"] = 0: slave["passion_comfort_revealed"] = 1
 IF slave["spoil"] < 3 and slave["obedience"] > 1:
  slave_rate["sensitivity"] += 2
  slave_rate["instinct"] += 1
  slave_rate["moral"] += 2
  slave_rate["ego"] += 1
  slave_rate["arousal"] += master_str + master_domination + slave["obedience"]
 END 
 master_petting_rate += 2
 slave_rate["spoil"] += (master_str + master_domination + master_cha)/2
 if slave["bruises"] > 0 or slave_rate["bruises"] > 0: slave_rate["bruises"] -= slave["stamina"]
 if slave["wounds"] > 0 or slave_rate["wounds"] > 0: slave_rate["wounds"] -= slave["stamina"]
 if slave["angst"] > 0 or slave_rate["angst"] > 0: slave_rate["angst"] -= (slave["sensitivity"]*2)
 if slave["fear"] > 0 or slave_rate["fear"] > 0: slave_rate["fear"] -= (slave["temper"]*2)
 if master_petting > 3 and slave["angst"] < 2: slave['neg_pain'] = 0
 if slave['reabilitation'] > 0: slave['reabilitation'] -= 1
END

!Petting
IF interaction = 1533:
 $interaction_type = 'prise_erotic'
 $special_bg = $petting[slave_type]    
 prise_level = 3
 erotic_stimulation = (master_petting + slave["arousal"])*2
 $text[1] = $prise_erotic[prise_level]
 orgastic = 1
 add_slave_hygiene = 5 
 add_master_hygiene = 5   
 add_house_mess = 10 
 $place = 'bedroom'
 daily_reward_count += 1
 $play_sound[2] = '<<$petting_sound[slave["age"]]>>'  
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1
 master_petting_rate += 2
 slave_rate["angst"] -= slave["sensitivity"]      
END

!Vibes
IF interaction = 1534:
 $interaction_type = 'prise_erotic'
 $special_bg = $dildo[slave_type]    
 prise_level = 4
 slave['promise_reward'] = 0  
 erotic_stimulation = (master_petting + slave["arousal"])*3
 $text[1] = $prise_erotic[prise_level]
 orgastic = 1
 slave_rate["moral"] += 1
 add_slave_hygiene = 10 
 add_master_hygiene = 5  
 add_house_mess = 15
 $place = 'bedroom'
 daily_reward_count += 1
 $play_sound[2] = '<<$orgasm_sound[slave["age"]]>>'   
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1    
 master_fetish_rate += 1 
 master_petting_rate += 1
 slave_rate["angst"] -= slave["sensitivity"]       
END

!Cunnilingus
IF interaction = 1535:
 $interaction_type = 'prise_erotic'
 $special_bg = $kuni[slave_type]    
 prise_level = 5
 slave['promise_reward'] = 0 
 erotic_stimulation = (master_oral + slave["arousal"])*4
 $text[1] = $prise_erotic[prise_level]
 orgastic = 1
 slave_rate["moral"] += 1
 add_slave_hygiene = 2 
 add_master_hygiene = 10  
 add_house_mess = 10
 $place = 'bedroom'
 daily_reward_count += 1
 $play_sound[2] = '<<$orgasm_sound[slave["age"]]>>'    
 if slave["nymphomania"] ! 0 and slave["nymphomania_revealed"] = 0: slave["nymphomania_revealed"] = 1     
 master_oral_rate += 2
 slave_rate["angst"] -= slave["sensitivity"]*2   
END

!GIFTS
!misc
IF interaction = 1541:
 $interaction_type = 'present'
 $item_id = 'bouqet'
 prise_level = 1
 prise_potence = 1
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1
 slave['promise_gift'] = 0   
 everlasting = 1 
 slave_inventory['bouqet'] += 1
 daily_reward_count += 1   
END

IF interaction = 1542:
 $interaction_type = 'present'
 $item_id = 'parfume'
 prise_level = 2
 prise_potence = 2
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1     
 slave['promise_gift'] = 0   
 everlasting = 1 
 slave_inventory['parfume'] += 1
 daily_reward_count += 1   
END

IF interaction = 1543:
 $interaction_type = 'present'
 $item_id = 'plaid'
 prise_level = 3
 prise_potence = 3
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1    
 slave['promise_gift'] = 0   
 slave_inventory['plaid'] += 1
 daily_reward_count += 1   
END

IF interaction = 1544:
 $interaction_type = 'present'
 $item_id = 'stuffed_toy'
 prise_level = 4
 prise_potence = 4
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1    
 slave['promise_gift'] = 0 
 slave_inventory['stuffed_toy'] += 1
 daily_reward_count += 1   
END

IF interaction = 1545:
 $interaction_type = 'present'
 $item_id = 'pony'
 prise_level = 5
 prise_potence = 5
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1    
 slave['promise_gift'] = 0 
 slave_inventory['pony'] += 1
 daily_reward_count += 1   
END

!Jewelry
IF interaction = 15461:
 $interaction_type = 'present'
 $item_id = 'plain_headband'
 prise_level = 1
 prise_potence = 1
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1        
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['plain_headband'] += 1
 $new_item = 'plain_headband' 
 dynamic $slot_25_change
}  
END

IF interaction = 15462:
 $interaction_type = 'present'
 $item_id = 'plain_earring'
 prise_level = 2
 prise_potence = 2
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1       
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['plain_earring'] += 1
 $new_item = 'plain_earring' 
 dynamic $slot_26_change
}  
END

IF interaction = 15463:
 $interaction_type = 'present'
 $item_id = 'incrusted_ring'
 prise_level = 3
 prise_potence = 3
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1        
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['incrusted_ring'] += 1
 $new_item = 'incrusted_ring' 
 IF $slave["ring_right"] = '' or $slave["ring_left"] ! '':
  dynamic $slot_33_change
  else
  dynamic $slot_32_change 
 END
}  
END

IF interaction = 15464:
 $interaction_type = 'present'
 $item_id = 'incrusted_necklace'
 prise_level = 4
 prise_potence = 4
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1        
 slave['promise_gift'] = 0
 daily_reward_count += 1  
 $special_part = {
 slave_inventory['incrusted_necklace'] += 1
 $new_item = 'incrusted_necklace' 
 dynamic $slot_27_change
}  
END

IF interaction = 15465:
 $interaction_type = 'present'
 $item_id = 'incrusted_tiara'
 prise_level = 5
 prise_potence = 5
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1    
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['incrusted_tiara'] += 1
 $new_item = 'incrusted_tiara' 
 dynamic $slot_25_change
}  
END

!Clothes
IF interaction = 15471:
 $interaction_type = 'present'
 $item_id = 'fluffy_stepins'
 prise_level = 1
 prise_potence = 1
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1        
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['fluffy_stepins'] += 1
 $new_item = 'fluffy_stepins' 
 dynamic $slot_31_change
}  
END

IF interaction = 15472:
 $interaction_type = 'present'
 $item_id = 'sun_dress'
 prise_level = 2
 prise_potence = 2
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1  
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['sun_dress'] += 1
 $new_item = 'sun_dress' 
 dynamic $slot_24_change
}  
END

IF interaction = 15473:
 $interaction_type = 'present'
 $item_id = 'cocktail_dress'
 prise_level = 3
 prise_potence = 3
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1  
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['cocktail_dress'] += 1
 $new_item = 'cocktail_dress' 
 dynamic $slot_24_change
}  
END

IF interaction = 15474:
 $interaction_type = 'present'
 $item_id = 'rich_dress'
 prise_level = 4
 prise_potence = 4
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1    
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['rich_dress'] += 1
 $new_item = 'rich_dress' 
 dynamic $slot_24_change
}  
END

IF interaction = 15475:
 $interaction_type = 'present'
 $item_id = 'wedding_dress'
 prise_level = 5
 prise_potence = 5
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1     
 slave['promise_gift'] = 0
 daily_reward_count += 1
 $special_part = {
 slave_inventory['wedding_dress'] += 1
 $new_item = 'wedding_dress' 
 dynamic $slot_24_change
}  
END

!sweets
IF interaction = 1551:
 $interaction_type = 'prise_sweets'
 g = RAND(1,4)
 if g = 1: $special_bg = $chokolate 
 if g = 2: $special_bg = 'scene/chokolate_2'    
 if g = 3: $special_bg = 'scene/chokolate_3'     
 if g = 4: $special_bg = 'scene/chokolate_4' 
 prise_level = 1
 prise_potence = 2
 prise_cost = 1
 $text[1] = '  <<$sweets_description[1]>>'
 add_slave_hygiene = 2 
 add_house_mess = 2 
 IF kitchen > 0:  $place = 'kitchen'
 daily_reward_count += 1
 if slave["passion_sweets"] ! 0 and slave["passion_sweets_revealed"] = 0: slave["passion_sweets_revealed"] = 1        
END

IF interaction = 1552:
 $interaction_type = 'prise_sweets'
 g = RAND(1,3)
 if g = 1: $special_bg = $cake  
 if g = 2: $special_bg = 'scene/cake_2'    
 if g = 3: $special_bg = 'scene/cake_3'       
 prise_level = 2 
 prise_potence = 4
 prise_cost = 2 
 add_slave_hygiene = 2 
 add_house_mess = 2 
 $text[1] = '  <<$sweets_description[2]>>' 
 IF kitchen > 0:  $place = 'kitchen'
 daily_reward_count += 1
 if slave["passion_sweets"] ! 0 and slave["passion_sweets_revealed"] = 0: slave["passion_sweets_revealed"] = 1       
END

IF interaction = 1553:
 $interaction_type = 'prise_sweets'
 g = RAND(1,4)
 if g = 1: $special_bg = $ice_cream  
 if g = 2: $special_bg = 'scene/ice_cream_2'    
 if g = 3: $special_bg = 'scene/ice_cream_3'  
 if g = 4: $special_bg = 'scene/ice_cream_4'  
 prise_level = 3 
 prise_potence = 8
 prise_cost = 4 
 add_slave_hygiene = 2 
 add_house_mess = 2 
 $text[1] = '  <<$sweets_description[3]>>' 
 IF kitchen > 0: $place = 'kitchen'
 daily_reward_count += 1
 if slave["passion_sweets"] ! 0 and slave["passion_sweets_revealed"] = 0: slave["passion_sweets_revealed"] = 1       
END

IF interaction = 1554:
 $interaction_type = 'prise_sweets'
 g = RAND(1,2)
 if g = 1: $special_bg = $jelly  
 if g = 2: $special_bg = 'scene/jelly_2' 
 prise_level = 4
 slave['promise_gift'] = 0 
 prise_potence = 16
 prise_cost = 8 
 add_slave_hygiene = 2 
 add_house_mess = 2 
 $text[1] = '  <<$sweets_description[4]>>' 
 IF kitchen > 0:  $place = 'kitchen'
 daily_reward_count += 1
 if slave["passion_sweets"] ! 0 and slave["passion_sweets_revealed"] = 0: slave["passion_sweets_revealed"] = 1  
END

IF interaction = 1555:
 $interaction_type = 'prise_sweets'
 $special_bg = $ambrosia     
 prise_level = 5 
 slave['promise_gift'] = 0 
 prise_potence = 32
 prise_cost = 25 
 add_slave_hygiene = 0 
 add_house_mess = 2
 slave_rate["sensitivity"] += 1
 slave_rate["rational"] += 1
 slave_rate["instinct"] += 1
 slave_rate["custom"] += 1
 slave_rate["moral"] += 1
 slave_rate["ego"] += 1
 slave_rate["temper"] += 1
 slave_rate["stamina"] += 5
 $text[1] = '  <<$sweets_description[5]>>' 
 IF kitchen > 0:  $place = 'kitchen'
 daily_reward_count += 1
 if slave["passion_sweets"] ! 0 and slave["passion_sweets_revealed"] = 0: slave["passion_sweets_revealed"] = 1  
END

!Moral encouragement
!Sparingly approve
IF interaction = 1561:
 $interaction_type = 'compliment'
 prise_level = 1
 prise_potence = master_cha
 $text[1] = '  <<$compliment_description[1]>>'
 daily_reward_count += 1
 if slave["abuse_attitude"] ! 0 and slave["abuse_attitude_revealed"] = 0: slave["abuse_attitude_revealed"] = 1  
END

!Praise
IF interaction = 1562:
 $interaction_type = 'compliment'
 prise_level = 2 
 prise_potence = master_cha*2
 $text[1] = '  <<$compliment_description[2]>>'
 daily_reward_count += 1 
 if slave["abuse_attitude"] ! 0 and slave["abuse_attitude_revealed"] = 0: slave["abuse_attitude_revealed"] = 1   
END

!Weighty compliment
IF interaction = 1563:
 $interaction_type = 'compliment'
 prise_level = 3 
 prise_potence = master_cha*3
 $text[1] = '  <<$compliment_description[3]>>'
 daily_reward_count += 1 
 if slave["abuse_attitude"] ! 0 and slave["abuse_attitude_revealed"] = 0: slave["abuse_attitude_revealed"] = 1   
END

!Promise a reward
IF interaction = 1564:
 $interaction_type = 'compliment'
 prise_level = 4 
 prise_potence = master_cha*3
 $text[1] = '  <<$compliment_description[4]>>' 
 IF slave['promise_reward'] > 0:
  prise_potence = 0 - slave['promise_reward']
  $text[2] = '  <<$promise_fail>>'
 END
 if slave["abuse_attitude"] ! 0 and slave["abuse_attitude_revealed"] = 0: slave["abuse_attitude_revealed"] = 1   
 slave['promise_reward'] += 1
END

!Promise a gift
IF interaction = 1565:
 $interaction_type = 'compliment'
 prise_level = 5 
 prise_potence = master_cha*4
 $text[1] = '  <<$compliment_description[5]>>' 
 IF slave['promise_gift'] > 0:
  prise_potence = 0 - slave['promise_gift']
  $special_text = '  <<$promise_fail>>' 
 END
 if slave["passion_luxury"] ! 0 and slave["passion_luxury_revealed"] = 0: slave["passion_luxury_revealed"] = 1   
 slave['promise_gift'] += 1 
END

!PUNISH
!Strictly chastise
IF interaction = 1411:
 $interaction_type = 'abuse'
 abuse = 1
 $text[1] = '  <<$verbal_abuse_description[1]>>'
 $text[2] = '  <<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_domination*2 + master_supermacy*2
 torture_intensity = 1
 $play_sound[1] = '<<$cry[slave["age"]]>>'
END

!Roughly scold
IF interaction = 1412:
 abuse = 1
 $interaction_type = 'abuse'
 $text[1] = '  <<$verbal_abuse_description[2]>>'
 $text[2] = '  <<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_domination*2 + master_supermacy*2
 sensitivity_threshold = 6
 torture_intensity = 2
 $special_bg = $fullimage[slave_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if slave["abuse_attitude"] ! 0 and slave["abuse_attitude_revealed"] = 0: slave["abuse_attitude_revealed"] = 1   
END

!Threaten with tortures
IF interaction = 1413:
 $interaction_type = 'abuse'
 abuse = 1
 $text[1] = '<<$verbal_abuse_description[3]>>'
 $text[2] = '<<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['threat_pain'] = 0 or cruciato = 1:
  torture_fear = 5 + master_domination*2 + master_supermacy*2
  sensitivity_threshold = 5
  slave['threat_pain'] = 1
  futile_threat = 0
  else
  torture_fear = master_supermacy*3
  futile_threat = 1
  sensitivity_threshold = 6
 END  
 torture_intensity = 3
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if slave["abuse_attitude"] ! 0 and slave["abuse_attitude_revealed"] = 0: slave["abuse_attitude_revealed"] = 1  
END

!Threaten with sale
IF interaction = 1414:
 $interaction_type = 'abuse'
 abuse = 1
 $text[1] = '  <<$verbal_abuse_description[4]>>'
 $text[2] = '  <<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['threat_abandon'] = 0: 
  torture_fear = master_supermacy*5
  sensitivity_threshold = 4
  slave['threat_abandon'] = 1
  else
  torture_fear = master_supermacy*3
  futile_threat = 1
  sensitivity_threshold = 6
 END
 torture_intensity = 4
 $play_sound[1] = '<<$cry[slave["age"]]>>'
END

!Threaten with death
IF interaction = 1415:
 $interaction_type = 'abuse'
 abuse = 1
 $text[1] = '  <<$verbal_abuse_description[5]>>'
 $text[2] = '  <<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['threat_death'] = 0:
  torture_fear = 5 + master_domination*2 + master_supermacy*2
  sensitivity_threshold = 3
  slave['threat_death'] = 1
  else
  torture_fear = master_supermacy*3
  futile_threat = 1
  sensitivity_threshold = 5 
 END
 torture_intensity = 5
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if slave["abuse_attitude"] ! 0 and slave["abuse_attitude_revealed"] = 0: slave["abuse_attitude_revealed"] = 1   
END

!Paddle
IF interaction = 1421:
 $interaction_type = 'torture'
 painful = 1
 abuse = 1
 $text[1] = '  <<$bare_hands_description[1]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_str*2 + master_domination
 sensitivity_threshold = 4
 torture_intensity = 1
 add_slave_hygiene = 2 
 add_master_hygiene = 4  
 add_house_mess = 5
 $special_bg = $spank[slave_type]
 $play_sound[1] = '<<$spank_sound>>' 
 if dungeon = 1: $place = 'dungeon'    
END

!Slap
IF interaction = 1422:
 $interaction_type = 'torture'
 painful = 1 
 abuse = 1 
 $text[1] = '  <<$bare_hands_description[2]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_str*2 + master_domination
 sensitivity_threshold = 3
 torture_intensity = 2
 add_slave_hygiene = 2 
 add_master_hygiene = 4  
 add_house_mess = 5
 $special_bg = $slap[slave_type]
 $play_sound[1] = '<<$slap_sound>>'
 if dungeon = 1: $place = 'dungeon'  
END

!Tear the ear
IF interaction = 1423:
 $interaction_type = 'torture'
 painful = 1 
 $text[1] = '  <<$bare_hands_description[3]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_str*3
 sensitivity_threshold = 2
 torture_intensity = 3
 add_slave_hygiene = 2 
 add_master_hygiene = 4  
 add_house_mess = 5
 $special_bg = $ear_grab[slave_type]
 $play_sound[1] = '<<$pain[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
END

!punch
IF interaction = 1424:
 $interaction_type = 'torture'
 painful = 1 
 $text[1] = '  <<$bare_hands_description[4]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 a = master_str*3
 b = master_fighter*4
 torture_fear = max (a,b)
 sensitivity_threshold = 1
 torture_intensity = 4
 slave['threat_pain'] = 0
 bruising = 1 
 damage = master_str
 add_slave_hygiene = 5 
 add_master_hygiene = 5  
 add_house_mess = 5
 $special_bg = $fist_hit[slave_type]
 $play_sound[1] = '<<$fist_hit_sound[slave["age"]]>>' 
 if dungeon = 1: $place = 'dungeon'  
END

!Beat
IF interaction = 1425:
 $interaction_type = 'torture'
 painful = 1 
 $text[1] = '  <<$bare_hands_description[5]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 a = master_str*3
 b = master_fighter*4
 torture_fear = max (a,b)
 sensitivity_threshold = 0
 torture_intensity = 5
 slave['threat_pain'] = 0 
 bruising = 1 
 damage = master_str*3 
 add_slave_hygiene = 20 
 add_master_hygiene = 10  
 add_house_mess = 15
 $special_bg = $fist_hit[slave_type]
 $play_sound[1] = '<<$fist_hit_sound[slave["age"]]>>'  
 if dungeon = 1: $place = 'dungeon'  
END

!Spank with slipper
IF interaction = 1431:
 $interaction_type = 'torture'
 painful = 1
 abuse = 1
 $text[1] = '  <<$flagelation_description[1]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_flagelation*2
 sensitivity_threshold = 4
 torture_intensity = 1
 add_slave_hygiene = 2 
 add_master_hygiene = 4  
 add_house_mess = 5 
 $special_bg = $spank[slave_type]
 $play_sound[1] = '<<$spank_sound>>' 
 if dungeon = 1: $place = 'dungeon'  
 $special_part = {if master_flagelation <= 1: master_flagelation_rate += 1}
END

!Flog with belt
IF interaction = 1432:
 $interaction_type = 'torture'
 painful = 1
 $text[1] = '  <<$flagelation_description[2]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_flagelation*2
 sensitivity_threshold = 3
 torture_intensity = 2
 add_slave_hygiene = 3 
 add_master_hygiene = 5  
 add_house_mess = 5
 $special_bg = $spank[slave_type]
 $play_sound[1] = '<<$spank_sound>>' 
 if dungeon = 1: $place = 'dungeon'  
 $special_part = {if master_flagelation <= 2: master_flagelation_rate += 1} 
END

!Flog with branch
IF interaction = 1433:
 $interaction_type = 'torture'
 painful = 1
 $text[1] = '  <<$flagelation_description[3]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_flagelation*2
 sensitivity_threshold = 2
 torture_intensity = 3
 slave['threat_pain'] = 0 
 scarification = 1 
 add_slave_hygiene = 3 
 add_master_hygiene = 5  
 add_house_mess = 5 
 damage = 2 - master_flagelation  
 $special_bg = $cane[slave_type]
 $play_sound[1] = '<<$whip_sound>>' 
 if dungeon = 1: $place = 'dungeon'  
 $special_part = {if master_flagelation <= 3: master_flagelation_rate += 1}  
END

!Flog with lash
IF interaction = 1434:
 $interaction_type = 'torture'
 painful = 1
 $text[1] = '  <<$flagelation_description[4]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_flagelation*2
 sensitivity_threshold = 1
 torture_intensity = 4
 fear_force = master_flagelation + master_domination + torture_intensity   
 slave['threat_pain'] = 0 
 scarification = 1 
 add_slave_hygiene = 3 
 add_master_hygiene = 5  
 add_house_mess = 5 
 damage = 10 - master_flagelation*2   
 $special_bg = $leash[slave_type]
 $play_sound[1] = '<<$whip_sound>>' 
 if dungeon = 1: $place = 'dungeon'  
 $special_part = {if master_flagelation <= 4: master_flagelation_rate += 1}   
END

!Flog with whip
IF interaction = 1435:
 $interaction_type = 'torture'
 painful = 1
 $text[1] = '  <<$flagelation_description[5]>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_flagelation*2
 sensitivity_threshold = 0
 torture_intensity = 5
 scarification = 1 
 damage = 15 - master_flagelation*3   
 slave['threat_pain'] = 0 
 add_slave_hygiene = 10
 add_master_hygiene = 10  
 add_house_mess = 5 
 $special_bg = $whip[slave_type]
 $play_sound[1] = '<<$whip_sound>>' 
 if dungeon = 1: $place = 'dungeon'  
 $special_part = {master_flagelation_rate += 2}    
END


!hot wax
IF interaction = 1441:
 $interaction_type = 'torture'
 fire_based = 1
 $text[1] = '  <<$wax_torture_description>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_torture*2
 sensitivity_threshold = 4
 torture_intensity = 1
 add_slave_hygiene = 15 
 add_master_hygiene = 5  
 add_house_mess = 10 
 $special_bg = $wax[slave_type]
 $play_sound[1] = '<<$pain[slave["age"]]>>' 
 $place = 'dungeon'  
 $special_part = {if master_torture <= 1: master_torture_rate += 1}    
END

!Burning ointment
IF interaction = 1442:
 $interaction_type = 'torture'
 painful = 1
 $text[1] = '  <<$gar_torture_description>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_torture*2
 sensitivity_threshold = 3
 torture_intensity = 2
 add_slave_hygiene = 20 
 add_master_hygiene = 15  
 add_house_mess = 5
 $special_bg = $fisting[slave_type]
 $play_sound[1] = '<<$pain[slave["age"]]>>' 
 $place = 'dungeon'  
 $special_part = {if master_torture <= 2: master_torture_rate += 1}    
END

!Crocodiles
IF interaction = 1443:
 $interaction_type = 'torture'
 painful = 1
 $text[1] = '  <<$pins_torture_description>>'
 $text[2] = '  <<$light_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_torture*2
 sensitivity_threshold = 2
 torture_intensity = 3
 fear_force = master_torture + master_domination + torture_intensity    
 slave['threat_pain'] = 0 
 scarification = 1 
 damage = 1  
 add_slave_hygiene = 3 
 add_master_hygiene = 2  
 add_house_mess = 5 
 $special_bg = $pins[slave_type]
 $play_sound[1] = '<<$pain[slave["age"]]>>' 
 $place = 'dungeon'  
 $special_part = {if master_torture <= 2: master_torture_rate += 1}     
END

!Acetic infusion
IF interaction = 1444:
 $interaction_type = 'torture'
 painful = 1
 shameful = 1 
 $text[1] = '  <<$infusion_torture_description>>'
 $text[2] = '  <<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_torture*2
 sensitivity_threshold = 0
 torture_intensity = 4
 slave['threat_pain'] = 0 
 damage = 10   
 add_slave_hygiene = 15 
 add_master_hygiene = 5  
 add_house_mess = 10  
 $special_bg = $exhibit[slave_type]
 $play_sound[1] = '<<$pain[slave["age"]]>>' 
 $place = 'dungeon'  
 $special_part = {if master_torture <= 3: master_torture_rate += 1}     
END

!Finger vices
IF interaction = 1445:
 $interaction_type = 'torture'
 painful = 1
 $text[1] = '  <<$gripe_torture_description>>'
 $text[2] = '  <<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_torture*2
 sensitivity_threshold = 0
 torture_intensity = 5
 scarification = 1 
 damage = 15   
 slave['threat_pain'] = 0 
 add_slave_hygiene = 10 
 add_master_hygiene = 10  
 add_house_mess = 10  
 $special_bg = $finger_gripe
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 $place = 'dungeon'  
 $special_part = {master_torture_rate += 2}     
END

!Pricking
IF interaction = 1446:
 $interaction_type = 'torture'
 bloody = 1
 painful = 1
 $text[1] = '  <<$needle_torture_description>>'
 $text[2] = '  <<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_torture*4
 sensitivity_threshold = 3
 torture_intensity = 3
 slave['threat_pain'] = 0 
 scarification = 1 
 damage = 5 - master_torture*2
 if damage < 0 : damage = 0
 add_slave_hygiene = 20 
 add_master_hygiene = 15  
 add_house_mess = 15  
 IF no_guro = 1:
  $special_bg = ''
  ELSE
  $special_bg = $needle[slave_type]
 END
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 $place = 'dungeon'  
 $special_part = {master_torture_rate += 2}      
END

!Water torture
IF interaction = 1447:
 $interaction_type = 'torture'
 water_based = 1
 $text[1] = '  <<$water_torture_description>>'
 $text[2] = '  <<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_torture*2
 sensitivity_threshold = 0
 torture_intensity = 3
 fear_force = master_torture + master_domination + torture_intensity    
 slave['threat_pain'] = 0 
 damage = 10 - master_torture*2
 if damage < 0 : damage = 0
 add_slave_hygiene = 0 
 add_master_hygiene = 5  
 add_house_mess = 15  
 $special_bg = $water[slave_type]
 $play_sound[1] = '<<$drowing[slave["age"]]>>' 
 $place = 'dungeon'  
 $special_part = {master_torture_rate += 2}      
END

!Cauterization
IF interaction = 1448:
 $interaction_type = 'torture'
 fire_based = 1
 $text[1] = '  <<$fire_torture_description>>'
 $text[2] = '  <<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_torture*2
 sensitivity_threshold = 0
 torture_intensity = 4
 slave['threat_pain'] = 0 
 scarification = 1 
 damage = 10 - master_torture
 if damage < 0 : damage = 0
 add_slave_hygiene = 15 
 add_master_hygiene = 10  
 add_house_mess = 15  
 $special_bg = $branding[slave_type]
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 $place = 'dungeon'  
 $special_part = {master_torture_rate += 2}      
END

!Presentation - Wooden horse
IF interaction = 14511:
 $interaction_type = 'present_torture'
 abuse = 1
 $text[1] = '<<$woodenhorse_presentation_description>>'
 $text[2] = '<<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['woodenhorse_treat'] = 0:
  torture_fear = 5 + master_domination*2
  sensitivity_threshold = 5
  woodenhorse_treat = 1
  else
  torture_fear = master_domination
  futile_threat = 1
  sensitivity_threshold = 6
 END  
 torture_intensity = 1
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 $place = 'dungeon'   
END

!Presentation - Manual rack
IF interaction = 14512:
 $interaction_type = 'present_torture'
 painful = 1
 $text[1] = '<<$strappado_presentation_description>>'
 $text[2] = '<<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['strappado_treat'] = 0:
  torture_fear = 5 + master_domination*2
  sensitivity_threshold = 5
  strappado_treat = 1
  else
  torture_fear = master_domination
  futile_threat = 1
  sensitivity_threshold = 6
 END  
 torture_intensity = 1
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 $place = 'dungeon'   
END

!Presentation - Water barrel
IF interaction = 14513:
 $interaction_type = 'present_torture'
 water_based = 1
 $text[1] = '<<$watertank_presentation_description>>'
 $text[2] = '<<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['watertank_treat'] = 0:
  torture_fear = 5 + master_domination*2
  sensitivity_threshold = 5
  watertank_treat = 1
  else
  torture_fear = master_domination
  futile_threat = 1
  sensitivity_threshold = 6
 END  
 torture_intensity = 1
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 $place = 'dungeon'   
END

!Presentation - Molten swing
IF interaction = 14514:
 $interaction_type = 'present_torture'
 fire_based = 1
 $text[1] = '<<$fireswing_presentation_description>>'
 $text[2] = '<<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['fireswing_treat'] = 0:
  torture_fear = 5 + master_domination*2
  sensitivity_threshold = 5
  fireswing_treat = 1
  else
  torture_fear = master_domination
  futile_threat = 1
  sensitivity_threshold = 6
 END  
 torture_intensity = 1
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 $place = 'dungeon'   
END

!Presentation - Iron maiden
IF interaction = 14515:
 $interaction_type = 'present_torture'
 darkness = 1
 $text[1] = '<<$ironmaiden_presentation_description>>'
 $text[2] = '<<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['ironmaiden_treat'] = 0:
  torture_fear = 5 + master_domination*2
  sensitivity_threshold = 5
  ironmaiden_treat = 1
  else
  torture_fear = master_domination
  futile_threat = 1
  sensitivity_threshold = 6
 END  
 torture_intensity = 1
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 $place = 'dungeon'   
END

!Presentation - Infested pit
IF interaction = 14516:
 $interaction_type = 'present_torture'
 vermin_based = 1
 $text[1] = '<<$verminpit_presentation_description>>'
 $text[2] = '<<$abuse_torture_reaction["<<$slave_psy_status>>"]>>'
 IF slave['verminpit_treat'] = 0:
  torture_fear = 5 + master_domination*2
  sensitivity_threshold = 5
  verminpit_treat = 1
  else
  torture_fear = master_domination
  futile_threat = 1
  sensitivity_threshold = 6
 END  
 torture_intensity = 1
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 $place = 'dungeon'   
END

!Demonstration - Wooden horse
IF interaction = 14521:
 $interaction_type = 'torture'
 pain = 1
 $text[1] = '<<$woodenhorse_demonstration_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 10 + master_torture
 scarification = 0
 damage = 1 + slave["sensitivity"]  
 sensitivity_threshold = 4
 torture_intensity = 2
 add_slave_hygiene = 3 
 add_master_hygiene = 4  
 add_house_mess = 5  
 $special_bg = $woodenhorse[slave_type]  
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 $place = 'dungeon'   
END

!Demonstration - Manual rack
IF interaction = 14522:
 $interaction_type = 'torture'
 pain = 1
 $text[1] = '<<$strappado_demonstration_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 10 + master_torture
 scarification = 0
 damage = 2  
 sensitivity_threshold = 3
 torture_intensity = 3
 add_slave_hygiene = 3 
 add_master_hygiene = 4  
 add_house_mess = 5  
 $special_bg = $strappado[slave_type]  
 $play_sound[1] = '<<$pain[slave["age"]]>>'
 $place = 'dungeon'   
END

!Demonstration - Water barrel
IF interaction = 14523:
 $interaction_type = 'torture'
 water_based = 1
 $text[1] = '<<$watertank_demonstration_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 10 + master_torture
 scarification = 0
 damage = 1
 sensitivity_threshold = 3
 torture_intensity = 3
 add_slave_hygiene = 0 
 add_master_hygiene = 5  
 add_house_mess = 10  
 $special_bg = $water[slave_type]
 $play_sound[1] = '<<$drowing[slave["age"]]>>'
 $place = 'dungeon'   
END

!Demonstration - Molten swing
IF interaction = 14524:
 $interaction_type = 'torture'
 fire_based = 1
 $text[1] = '<<$fireswing_demonstration_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 10 + master_torture
 scarification = 0
 damage = 5 - slave["stamina"]
 sensitivity_threshold = 3
 torture_intensity = 3
 add_slave_hygiene = 15
 add_master_hygiene = 10  
 add_house_mess = 15  
 $special_bg = $fireswing[slave_type]  
 $play_sound[1] = '<<$pain[slave["age"]]>>'
 $place = 'dungeon'   
END

!Demonstration - Iron maiden
IF interaction = 14525:
 $interaction_type = 'torture'
 darkness = 0
 $text[1] = '<<$ironmaiden_demonstration_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 10 + master_torture
 scarification = 0
 damage = 0 
 sensitivity_threshold = 3
 torture_intensity = 3
 fear_force = 11    
 add_slave_hygiene = 3 
 add_master_hygiene = 4  
 add_house_mess = 5  
 $special_bg = $ironmaiden[slave_type]  
 $play_sound[1] = '<<$panik_sound[slave["age"]]>>'
 $place = 'dungeon'   
END

!Demonstration - Infested pit
IF interaction = 14526:
 $interaction_type = 'torture'
 vermin_based = 1
 $text[1] = '<<$verminpit_demonstration_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 10 + master_torture
 scarification = 0
 damage = 0
 sensitivity_threshold = 3
 torture_intensity = 3
 add_slave_hygiene = 15 
 add_master_hygiene = 10  
 add_house_mess = 15  
 $special_bg = $verminpit[slave_type]  
 $play_sound[1] = '<<$panik_sound[slave["age"]]>>'
 $place = 'dungeon'   
END

!Application - Wooden horse
IF interaction = 14531:
 $interaction_type = 'torture'
 pain = 1
 $text[1] = '<<$woodenhorse_use_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 15
 scarification = 0
 damage = 5 + slave["sensitivity"]  
 sensitivity_threshold = 1
 torture_intensity = 4
 add_slave_hygiene = 5 
 add_master_hygiene = 4  
 add_house_mess = 5  
 $special_bg = $woodenhorse[slave_type]  
 $play_sound[1] = '<<$pain[slave["age"]]>>'
 $place = 'dungeon'   
END

!Application - Manual rack
IF interaction = 14532:
 $interaction_type = 'torture'
 pain = 1
 $text[1] = '<<$strappado_use_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 15
 scarification = 0
 damage = 10 - slave["stamina"]
 sensitivity_threshold = 0
 torture_intensity = 5
 add_slave_hygiene = 5 
 add_master_hygiene = 4  
 add_house_mess = 5  
 $special_bg = $strappado[slave_type]  
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>'
 $place = 'dungeon'   
END

!Application - Water barrel
IF interaction = 14533:
 $interaction_type = 'torture'
 water_based = 1
 $text[1] = '<<$watertank_use_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 15
 scarification = 0
 damage = 5 - slave["stamina"]
 sensitivity_threshold = 1
 torture_intensity = 5
 add_slave_hygiene = 0 
 add_master_hygiene = 5  
 add_house_mess = 15  
 $special_bg = $water[slave_type]
 $play_sound[1] = '<<$drowing[slave["age"]]>>'
 $place = 'dungeon'   
END

!Application - Molten swing
IF interaction = 14534:
 $interaction_type = 'torture'
 fire_based = 1
 $text[1] = '<<$fireswing_use_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 15
 scarification = 1
 damage = 5 + slave["sensitivity"]
 sensitivity_threshold = 0
 torture_intensity = 5
 add_slave_hygiene = 20 
 add_master_hygiene = 15  
 add_house_mess = 25  
 $special_bg = $fireswing[slave_type]  
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>'
 $place = 'dungeon'    
END

!Application - Iron maiden
IF interaction = 14535:
 $interaction_type = 'torture'
 deprivation = 1
 $text[1] = '<<$ironmaiden_use_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 15
 scarification = 0
 damage = 0 
 sensitivity_threshold = 1
 torture_intensity = 5
 add_slave_hygiene = 15 
 add_master_hygiene = 4  
 add_house_mess = 5  
 $special_bg = $ironmaiden[slave_type]  
 $play_sound[1] = '<<$panik_sound[slave["age"]]>>'
 $place = 'dungeon'   
END

!Application - Infested pit
IF interaction = 14536:
 $interaction_type = 'torture'
 vermin_based = 1
 $text[1] = '<<$verminpit_use_description>>'
 $text[2] = '<<$torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 15
 scarification = 0
 damage = 0
 sensitivity_threshold = 1
 torture_intensity = 5
 add_slave_hygiene = 15 
 add_master_hygiene = 10  
 add_house_mess = 15   
 $special_bg = $verminpit[slave_type]  
 $play_sound[1] = '<<$panik_sound[slave["age"]]>>'
 $place = 'dungeon'   
END

!Put into a corner
IF interaction = 1461:
 $interaction_type = 'torture'
 deprivation = 1
 $text[1] = '  <<$bondage_description[1]>>'
 $text[2] = '  <<$bondage_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = slave["temper"]*4
 sensitivity_threshold = 5
 torture_intensity = 1
 fear_force = master_bondage + master_domination + torture_intensity    
 $special_bg = $bondage[slave_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>' 
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
END

!Put on peas
IF interaction = 1462:
 $interaction_type = 'torture'
 deprivation = 1
 painful = 1  
 $text[1] = '  <<$bondage_description[2]>>'
 $text[2] = '  <<$bondage_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + slave["temper"]*3
 sensitivity_threshold = 5
 torture_intensity = 2
 fear_force = master_bondage + master_domination + torture_intensity     
 $special_bg = $bondage[slave_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>' 
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
 $special_part = {master_bondage_rate += 1}      
END

!Rope saddle
IF interaction = 1463:
 $interaction_type = 'torture'
 deprivation = 1
 painful = 1  
 $text[1] = '  <<$bondage_description[3]>>'
 $text[2] = '  <<$bondage_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_bondage*2
 sensitivity_threshold = 4
 torture_intensity = 3
 $special_bg = $bondage[slave_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
 $special_part = {master_bondage_rate += 1}       
END

!Hang by the legs
IF interaction = 1464:
 $interaction_type = 'torture'
 deprivation = 1
 $text[1] = '  <<$bondage_description[4]>>'
 $text[2] = '  <<$bondage_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_bondage*2
 sensitivity_threshold = 3
 torture_intensity = 4
 $special_bg = $bondage[slave_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
 $special_part = {master_bondage_rate += 2}       
END

!Rope rack
IF interaction = 1465:
 $interaction_type = 'torture'
 deprivation = 1
 painful = 1 
 $text[1] = '  <<$bondage_description[5]>>'
 $text[2] = '  <<$bondage_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + master_bondage*2
 sensitivity_threshold = 2
 torture_intensity = 5
 slave['threat_pain'] = 0 
 $special_bg = $bondage[slave_type]
 $play_sound[1] = '<<$pain[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
 $special_part = {master_bondage_rate += 2}       
END

!Erotic bondage
IF interaction = 1466:
 $interaction_type = 'torture'
 shameful = 1
 deprivation = 1 
 $text[1] = '  <<$ero_bondage_description>>'
 $text[2] = '  <<$bondage_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_bondage*2 + master_fetish + slave['pride']
 sensitivity_threshold = 6
 torture_intensity = 2
 if slave['fear'] >= 2: torture_intensity = 3
 $special_bg = $bondage[slave_type]
 $play_sound[1] = '<<$orgasm_sound[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
 erotic_stimulation = master_bondage
 slave_rate["arousal"] += (master_bondage + master_domination + master_libido)
 $special_part = {master_bondage_rate += 3}       
END

!Painful bondage
IF interaction = 1467:
 $interaction_type = 'torture'
 painful = 1
 deprivation = 1  
 $text[1] = '  <<$pain_bondage_description>>'
 $text[2] = '  <<$bondage_reaction["<<$slave_psy_status>>"]>>'
 if master_bondage = 1: torture_skill += 1
 if master_bondage = 2: torture_skill += 2
 if master_bondage = 3: torture_skill += 5
 if master_bondage = 4: torture_skill += 10
 if master_bondage = 5: torture_skill += 15  
 torture_fear = master_bondage*3 + master_torture
 sensitivity_threshold = 6
 torture_intensity = 3
 if slave['fear'] > 2: torture_intensity = slave['fear'] + 1
 if torture_intensity > 5: torture_intensity = 5
 fear_force = master_bondage*2 + torture_intensity     
 slave['threat_pain'] = 0 
 $special_bg = $bondage[slave_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
 damage = 10 - (master_bondage*2)
 $special_part = {master_bondage_rate += 3}       
END

!Deprivation
IF interaction = 1468:
 $interaction_type = 'torture'
 deprivation = 1
 darkness = 1
 $text[1] = '  <<$deprivation_bondage_description>>'
 $text[2] = '  <<$bondage_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + slave["temper"]*3
 sensitivity_threshold = 6
 torture_intensity = 2
 $special_bg = $deprivation_suit[slave_type]
 $play_sound[1] = '<<$gag_sound[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
END

!SHAMING
!Naked walk
IF interaction = 1471:
 $interaction_type = 'torture'
 $place = 'marketplace'
 shameful = 1
 $text[1] = '  <<$exhibition_walk_description>>'
 $text[2] = '  <<$shame_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = slave["pride"]*4
 sensitivity_threshold = 6
 torture_intensity = 1
 $special_bg = $fullimage[slave_type]
 easy_for_master = 1  
END

!Shameful podium
IF interaction = 1472:
 $interaction_type = 'torture'
 $place = 'marketplace'
 shameful = 1
 $text[1] = '  <<$exhibition_podium_description>>'
 $text[2] = '  <<$shame_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = slave["pride"]*4
 sensitivity_threshold = 5
 torture_intensity = 2
 $special_bg = 'scene\public_exhibit'
 easy_for_master = 1  
 $special_part = {
 $interaction_type = 'special_jpg'
 }
END

!Living canvas
IF interaction = 1473:
 $interaction_type = 'torture'
 $place = 'marketplace'
 shameful = 1
 $text[1] = '  <<$body_art_description>>'
 $text[2] = '  <<$shame_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = slave["pride"]*4
 sensitivity_threshold = 4
 torture_intensity = 3
 g = RAND(1,4)
 if g = 1: $special_bg = 'scene\public_paint' 
 if g = 2: $special_bg = 'scene\public_paint_2'    
 if g = 3: $special_bg = 'scene\public_paint_3'  
 if g = 4: $special_bg = 'scene\public_paint_4'
 add_slave_hygiene = 20 
 easy_for_master = 1  
 $special_part = {
 $interaction_type = 'special_jpg'
 }
END

!Public use
IF interaction = 1474:
 $interaction_type = 'torture'
 $place = 'marketplace'
 shameful = 1
 abuse = 1
 $text[1] = '  <<$common_use_description>>'
 $text[2] = '  <<$shame_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 5 + slave["pride"]*3
 sensitivity_threshold = 3
 torture_intensity = 4
 fear_force = 10
 add_slave_hygiene = 10 
 g = RAND(1,6)
 if g = 1: $special_bg = 'scene\public_use' 
 if g = 2: $special_bg = 'scene\public_use_2'    
 if g = 3: $special_bg = 'scene\public_use_3'  
 if g = 4: $special_bg = 'scene\public_use_4'
 if g = 5: $special_bg = 'scene\public_use_5'  
 if g = 6: $special_bg = 'scene\public_use_6'
 easy_for_master = 1  
 $special_part = {
 $interaction_type = 'special_jpg'
 IF virginity < 2: 
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 5 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']    
 END
 gs '$pregnancy' 
 a = RAND (1,7)
 if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1
 }
END

!Public toilet
!Убрана потеря девственности при наказании общественным туалетом. Скорее всего - это ошибка копипасты наказания сверху.
!Вероятность залететь оставлена - 1/10
IF interaction = 1475:
 $interaction_type = 'torture'
 $place = 'marketplace'
 shameful = 1
 abuse = 1
 disgusting = 1
 $text[1] = '  <<$common_toilet_description>>'
 $text[2] = '  <<$shame_torture_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 10 + slave["pride"]*2
 sensitivity_threshold = 2
 torture_intensity = 5
 fear_force = 12
 g = RAND(1,4)
 if g = 1: $special_bg = 'scene\public_urinal' 
 if g = 2: $special_bg = 'scene\public_urinal_2'    
 if g = 3: $special_bg = 'scene\public_urinal_3'  
 if g = 4: $special_bg = 'scene\public_urinal_4'
 easy_for_master = 1  
 add_slave_hygiene = 25
 $special_part = {
 $interaction_type = 'special_jpg'
 gs '$pregnancy'
 IF virginity < 2 AND a > 7: 
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 6 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']    
 END
 a = RAND (1,8)
 if a > slave['stamina'] and slave['ill'] = 0: slave['ill'] = 1 
 }
END

!Example of punishment
!Threaten prisoner
IF interaction = 1481:
 $interaction_type = 'prisoner_torture'
 compassion = 1
 $text[1] = '  <<$prisoner_intimidate_description>>'
 $text[2] = '  <<$compassion_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_domination*3
 sensitivity_threshold = 6
 torture_intensity = 1
 fear_force = master_domination + slave["sensitivity"] + torture_intensity     
 $special_bg = $fullimage[prisoner_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 easy_for_master = 1  
END

!Flog prisoner
IF interaction = 1482:
 $interaction_type = 'prisoner_torture'
 compassion = 1
 $text[1] = '  <<$prisoner_cane_description>>'
 $text[2] = '  <<$compassion_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_domination*2 + master_flagelation*2
 sensitivity_threshold = 6
 torture_intensity = 2
 prisoner_rate["scares"] += 5
 prisoner_rate["stamina"] -= 2 
 $special_bg = $cane[prisoner_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 $special_part = {master_flagelation_rate += 2}       
END

!Beat prisoner
IF interaction = 1483:
 $interaction_type = 'prisoner_torture'
 compassion = 1
 $text[1] = '  <<$prisoner_hit_description>>'
 $text[2] = '  <<$compassion_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_domination*2 + master_fighter*2
 sensitivity_threshold = 5
 torture_intensity = 3
 prisoner_rate["bruises"] += 20
 prisoner_rate["stamina"] -= 5  
 $special_bg = $fist_hit[prisoner_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
END

!Torture prisoner
IF interaction = 1484:
 $interaction_type = 'prisoner_torture'
 compassion = 1
 $text[1] = '  <<$prisoner_torture_description>>'
 $text[2] = '  <<$compassion_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = master_domination*2 + master_torture*2
 sensitivity_threshold = 4
 torture_intensity = 4
 prisoner_rate["scares"] += 10
 prisoner_rate["stamina"] -= 10
 $special_bg = $pins[prisoner_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 $special_part = {master_torture_rate += 2}       
END

IF interaction = 1485:
 $place = 'study'
 $picture_type = 'prisoner_picture'
 txt_count = 1
 txt = 1
 npc = 0
 $text[1] = '   As a result of this action, you will lose this prisoner forever. Execute her?'
 $yes = {
interaction = 14850 
gt "interaction"
}
 $no = {gt 'menu_form'}
 menu_form = 0
 gt 'choice_screen'
END

IF interaction = 14850:
 $interaction_type = 'prisoner_torture' 
 compassion = 1
 $text[1] = '  <<$prisoner_hanged_description>>'
 $text[2] = '  <<$compassion_reaction["<<$slave_psy_status>>"]>>'
 torture_fear = 15
 sensitivity_threshold = 3
 torture_intensity = 5
 $special_bg = $hanging[prisoner_type]
 $play_sound[1] = '<<$cry[slave["age"]]>>'
 if dungeon = 1: $place = 'dungeon'  
 $special_part = {
 slave['threat_death'] = 0
 prisoner_state = 0
 }
END


!TUTOR LESSONS
!Tutor on housekeeping
IF interaction = 1711:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\master_jeeves'
 sin_potential = 4
 $target_skill = 'slave_rate["service"]'
 $target_affinity = 'service_affinity'
 slave_skill = slave["service"]
 misc_bonus = learn_bonus["service"]     
 repulse = 1
 complex_repulse = 1
 if slave["service_affinity"] < 0: complex_repulse += 2
 if slave["service_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$service_couch>>'
 $couch = 'jeeves'
 add_slave_hygiene = 5
 add_house_mess = 0 
 $special_part = {  
  sparks -= couch_price[slave["service"]] 
  if slave["service_affinity"] ! 0 and slave["service_affinity_revealed"] = 0: slave["service_affinity_revealed"] = 1 
  house_mess_rate -= slave["service"]*16
  gs '$calculate_attributes_fast'
  if house_mess < 0: house_mess = 0
  if house_mess_rate < 0: house_mess_rate = 0
  }
END

!Tutor on cooking
IF interaction = 1712:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\master_jeeves'
 sin_potential = 4
 $target_skill = 'slave_rate["cook"]'
 $target_affinity = 'cook_affinity'
 slave_skill = slave["cook"]
 misc_bonus = learn_bonus["cook"]     
 repulse = 1
 complex_repulse = 1
 if slave["cook_affinity"] < 0: complex_repulse += 1
 if slave["cook_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$cook_couch>>'
 $couch = 'jeeves'
 add_slave_hygiene = 4
 add_house_mess = 5 
 $special_part = {  
  sparks -= couch_price[slave["cook"]]  
  if slave["cook_affinity"] ! 0 and slave["cook_affinity_revealed"] = 0: slave["cook_affinity_revealed"] = 1 
  cooked_food = slave["cook"] + 1
  if cooked_food > 5: cooked_food = 5
  }
END

!Tutor on medicine
IF interaction = 1713:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\mistress_marivanna'
 sin_potential = 4
 $target_skill = 'slave_rate["nurse"]'
 $target_affinity = 'nurse_affinity'
 slave_skill = slave["nurse"]
 misc_bonus = learn_bonus["nurse"]     
 repulse = 3
 complex_repulse = 2
 if slave["nurse_affinity"] < 0: complex_repulse += 1
 if slave["nurse_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$nurse_couch>>'
 $couch = 'marivanna'
 add_slave_hygiene = 2
 add_house_mess = 3 
 $special_part = {  
  sparks -= couch_price[slave["nurse"]]   
  if diligence >= 0 and slave["nurse"] < 5: slave_rate["intellect"] += 2 
  if slave["nurse_affinity"] ! 0 and slave["nurse_affinity_revealed"] = 0: slave["nurse_affinity_revealed"] = 1 
  }
END

!Tutor on paperwork
IF interaction = 1714:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\mistress_marivanna'
 sin_potential = 4
 $target_skill = 'slave_rate["secretary"]'
 $target_affinity = 'secretary_affinity'
 slave_skill = slave["secretary"]
 misc_bonus = learn_bonus["secretary"]     
 repulse = 3
 complex_repulse = 2
 if slave["secretary_affinity"] < 0: complex_repulse += 1
 if slave["secretary_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$secretary_couch>>'
 $text[2] = '  <<$couch_teaches>>'
 $couch = 'marivanna'
 add_slave_hygiene = 0
 add_house_mess = 2
 $special_part = {  
  sparks -= couch_price[slave["secretary"]]    
  if diligence >= 0 and slave["secretary"] < 5: slave_rate["intellect"] += 2 
  if slave["secretary_affinity"] ! 0 and slave["secretary_affinity_revealed"] = 0: slave["secretary_affinity_revealed"] = 1 
  }
END

!Tutor on gymnastics
IF interaction = 1721:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\master_geralt'
 sin_potential = 4
 $target_skill = 'slave_rate["stamina"]'   
 slave_skill = slave["stamina"]
 misc_bonus = learn_bonus["stamina"]
 skill_rise = 2    
 repulse = 3
 complex_repulse = 2
 if slave['energy'] > 3: complex_repulse = 0
 if slave['energy'] < 0: complex_repulse -= slave['energy'] 
 if slave["sport_affinity"] < 0: complex_repulse += 2    
 IF slave["sport_affinity"] > 0:
  talent_bonus = 5
  complex_repulse = -100
 END
 if slave["sport_affinity"] < 0: talent_bonus = -3 
 $text[1] = '  <<$stamina_couch>>'
 $text[2] = '  <<$couch_teaches>>'
 $couch = 'geralt'
 add_slave_hygiene = 5
 add_house_mess = 3
 $target_affinity = 'sport_affinity'
 $special_part = {  
  sparks -= couch_price[slave["stamina"]]
  slave["calories"] -= 2
  if slave["sport_affinity_revealed"] = 0 and slave["sport_affinity"] = 1: slave["sport_affinity_revealed"] = 1 
  }
END

!Tutor on dance
IF interaction = 1722:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\mistress_avgia'
 sin_potential = 4
 $target_skill = 'slave_rate["callisthenics"]'
 $target_affinity = 'callisthenics_affinity'
 slave_skill = slave["callisthenics"]
 misc_bonus = learn_bonus["callisthenics"]     
 repulse = 3
 complex_repulse = 2
 if slave["callisthenics_affinity"] < 0: complex_repulse += 1
 if slave["callisthenics_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$dance_couch>>'
 $text[2] = '  <<$couch_teaches>>'
 $couch = 'avgia'
 add_slave_hygiene = 5
 add_house_mess = 3
 $special_part = {  
  sparks -= couch_price[slave["callisthenics"]]   
  slave["calories"] -= 1
  slave_rate["sensitivity"] += 1
  if slave["callisthenics_affinity"] ! 0 and slave["callisthenics_affinity_revealed"] = 0: slave["callisthenics_affinity_revealed"] = 1 
  }
END

!Tutor on martial arts
IF interaction = 1723:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\master_geralt'
 sin_potential = 4
 $target_skill = 'slave_rate["gladiatrix"]'
 $target_affinity = 'gladiatrix_affinity'
 slave_skill = slave["gladiatrix"]
 misc_bonus = learn_bonus["gladiatrix"]     
 repulse = 3
 complex_repulse = 2
 if slave["gladiatrix_affinity"] < 0: complex_repulse += 1
 if slave["gladiatrix_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$gladiatrix_couch>>'
 $text[2] = '  <<$couch_teaches>>'
 $couch = 'geralt'
 add_slave_hygiene = 10
 add_house_mess = 10
 $special_part = {  
  sparks -= couch_price[slave["gladiatrix"]]    
  slave["calories"] -= 2
  if diligence > 2 and slave["gladiatrix"] < 5: slave_rate["ego"] += 1
  if slave["gladiatrix_affinity"] ! 0 and slave["gladiatrix_affinity_revealed"] = 0: slave["gladiatrix_affinity_revealed"] = 1 
  }
END

!Tutor dressage
IF interaction = 1724:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\mistress_avgia'
 sin_potential = 4
 $target_skill = 'slave_rate["dressage"]'
 $target_affinity = 'dressage_affinity'
 slave_skill = slave["dressage"]
 misc_bonus = learn_bonus["dressage"]     
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["dressage_affinity"] < 0: complex_repulse += 2
 IF slave["dressage_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 $text[1] = '  <<$dance_couch>>'
 $text[2] = '  <<$couch_teaches>>'
 $couch = 'avgia'
 add_slave_hygiene = 10
 add_house_mess = 5
 $special_part = {  
  sparks -= couch_price[slave["dressage"]]     
  slave["calories"] -= 1
  slave_rate["pride"] -= 1
  slave_rate["temper"] += 1
  if slave["dressage_affinity"] ! 0 and slave["dressage_affinity_revealed"] = 0: slave["dressage_affinity_revealed"] = 1 
  }
END

!Tutor taming
IF interaction = 1725:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\mistress_avgia'
 sin_potential = 4
 $target_skill = 'slave_rate["pet"]'
 $target_affinity = 'pet_affinity'
 slave_skill = slave["pet"]
 misc_bonus = learn_bonus["pet"]     
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["pet_affinity"] < 0: complex_repulse += 2
 IF slave["pet_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 $text[1] = '  <<$pet_couch>>'
 $text[2] = '  <<$couch_teaches>>'
 $couch = 'avgia'
 add_slave_hygiene = 5
 add_house_mess = 2
 $special_part = {  
  sparks -= couch_price[slave["pet"]]     
  slave_rate["callisthenics"] += 1 
  slave_rate["pride"] -= 1
  slave_rate["temper"] += 1
  if slave["pet_affinity"] ! 0 and slave["pet_affinity_revealed"] = 0: slave["pet_affinity_revealed"] = 1 
  }
END

!Tutor rhetoric
IF interaction = 1731:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\mistress_marivanna'
 sin_potential = 4
 $target_skill = 'slave_rate["expression"]'
 $target_affinity = 'expression_affinity'
 slave_skill = slave["expression"]
 misc_bonus = learn_bonus["expression"]     
 repulse = 1
 complex_repulse = 1
 if slave["expression_affinity"] < 0: complex_repulse += 2
 if slave["expression_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$expression_couch>>'
 $couch = 'marivanna'
 add_slave_hygiene = 1
 add_house_mess = 1
 $special_part = {  
  sparks -= couch_price[slave["expression"]]      
  if slave["expression_affinity"] ! 0 and slave["expression_affinity_revealed"] = 0: slave["expression_affinity_revealed"] = 1 
  }
END

!Tutor on music
IF interaction = 1732:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\master_von_walz'
 sin_potential = 4
 $target_skill = 'slave_rate["music"]'
 $target_affinity = 'music_affinity'
 slave_skill = slave["music"]
 misc_bonus = learn_bonus["music"]     
 repulse = 3
 complex_repulse = 2
 if slave["music_affinity"] < 0: complex_repulse += 1
 if slave["music_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$music_couch>>'
 $couch = 'walz'
 add_slave_hygiene = 1
 add_house_mess = 1
 $special_part = {  
  sparks -= couch_price[slave["music"]]     
  if slave["music_affinity"] ! 0 and slave["music_affinity_revealed"] = 0: slave["music_affinity_revealed"] = 1
  slave_rate["intellect"] += 2
  }
END

!Tutor on vocal
IF interaction = 1733:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\master_von_walz'
 sin_potential = 4
 $target_skill = 'slave_rate["vocal"]'
 $target_affinity = 'vocal_affinity'
 slave_skill = slave["vocal"]
 misc_bonus = learn_bonus["vocal"]     
 repulse = 3
 complex_repulse = 2
 if slave["vocal_affinity"] < 0: complex_repulse += 1
 if slave["vocal_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$vocal_couch>>'
 $couch = 'walz'
 add_slave_hygiene = 2
 add_house_mess = 1
 $special_part = {  
  sparks -= couch_price[slave["vocal"]]      
  if slave["vocal_affinity"] ! 0 and slave["vocal_affinity_revealed"] = 0: slave["vocal_affinity_revealed"] = 1 
  }
END

!Tutor on majjick
IF interaction = 1734:
 $interaction_type = 'couch_teaches_slave'
 $special_bg = 'characters\master_S'
 sin_potential = 4
 $target_skill = 'slave_rate["enchanter"]'
 $target_affinity = 'enchanter_affinity'
 slave_skill = slave["enchanter"]
 misc_bonus = learn_bonus["enchanter"]     
 repulse = 3
 complex_repulse = 2
 if slave["enchanter_affinity"] < 0: complex_repulse += 1
 if slave["enchanter_affinity"] > 0: talent_bonus = 5  
 $text[1] = '  <<$magic_couch>>'
 $couch = 'S'
 add_slave_hygiene = 5
 add_house_mess = 5
 $special_part = {  
  sparks -= couch_price[slave["enchanter"]]     
  if diligence >= 0 and slave["enchanter"] < 5: slave_rate["intellect"] += 2 
  if slave["enchanter_affinity"] ! 0 and slave["enchanter_affinity_revealed"] = 0: slave["enchanter_affinity_revealed"] = 1 
  }
END


!BRANDING
!branding with iron
IF interaction = 1811:
 IF dungeon = 0: 
  msg '  Of course slave need to be branded, but you do not have the conditions for branding with iron - you need to rent a dungeon. However, you can use the services of specialists in the city.'
  gt 'slave_stat'
 END
 $interaction_type = 'branding' 
 painful = 1
 fire_based = 1
 torture_fear = 10 
 torture_intensity = 4 
 fear_force = 10     
 sensitivity_threshold = 0
 $text[1] = '  <<$fire_branding>>' 
 $special_bg = $branding[slave_type] 
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 if dungeon = 1: $place = 'dungeon'  
 add_master_hygiene = 5
 add_slave_hygiene = 10
 add_house_mess = 5     
 $special_part = {
slave['brand'] = 1
tattoo_brand = slave['brand']
sparks -= 0
slave['sin'] = 0
}  
END

!GET RID OF SLAVE
!Drive out the house
IF interaction = 181:
 $place = 'study'
 $picture_type = 'slave_picture'
 txt_count = 1
 txt = 1
 npc = 0
 if already_done_curslave[interaction] = 0: slave['threat_abandon'] = 0 
 $text[1] = '   If you kick the slave out of the house, you are unlikely to see her again. Are you sure you want to get rid of her forever?'
 $yes = {
     slave_state = CONST_INT['no_slave']
     gt 'menu_form'
}
 $no = {gt 'menu_form'}
 menu_form = 0
 gt 'choice_screen'
END

!Hang
IF interaction = 182:
 $place = 'study'
 $picture_type = 'slave_picture'
 txt_count = 1
 txt = 1
 npc = 0
 if already_done_curslave[interaction] = 0: slave['threat_death'] = 0
 $text[1] = '   <<$execution_reaction[$slave_psy_status]>>'
 $yes = {
interaction = 1820 
gt "interaction"
}
 $no = {gt 'menu_form'}
 menu_form = 0
 gt 'choice_screen'
END

IF interaction = 1820:
 $interaction_type = 'execution' 
 $text[1] = '   <<$hanging_simple>>' 
 painful = 1
 torture_intensity = 6
 $special_bg = $hanging[slave_type] 
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 if dungeon = 1: $place = 'dungeon'  
 add_master_hygiene = 10
END

!Decapitate
IF interaction = 183:
 $place = 'study'
 $picture_type = 'slave_picture'
 txt_count = 1
 txt = 1
 npc = 0
 if already_done_curslave[interaction] = 0: slave['threat_death'] = 0 
 $text[1] = '   <<$execution_reaction[$slave_psy_status]>>'
 $yes = {
interaction = 1830 
gt "interaction"
}
 $no = {gt 'menu_form'}
 menu_form = 0
 gt 'choice_screen'
END

IF interaction = 1830:
 $interaction_type = 'execution' 
 $text[1] = '   <<$decapitation_simple>>' 
 bloody = 1
 torture_intensity = 6
 IF no_guro = 1:
  $special_bg = ''
  ELSE
  $special_bg = $decapitation[slave_type] 
 END
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 if dungeon = 1: $place = 'dungeon'  
 add_master_hygiene = 10
END

!Impale
IF interaction = 184:
 $place = 'study'
 $picture_type = 'slave_picture'
 txt_count = 1
 txt = 1
 npc = 0
 if already_done_curslave[interaction] = 0: slave['threat_death'] = 0 
 $text[1] = '   <<$execution_reaction[$slave_psy_status]>>'
 $yes = {
interaction = 1840 
gt "interaction"
}
 $no = {gt 'menu_form'}
 menu_form = 0
 gt 'choice_screen'
END

IF interaction = 1840:
 $interaction_type = 'execution' 
 $text[1] = '   <<$impaling_simple>>' 
 painful = 1
 shameful = 1 
 torture_intensity = 6
 IF no_guro = 1:
  $special_bg = ''
  ELSE
  $special_bg = $impaling[slave_type] 
 END
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 if dungeon = 1: $place = 'dungeon'  
 add_master_hygiene = 10
END

!STUFF
!было slave_mood для мудлетов, что работает не правильно для рабыни
IF interaction = 371:
 lab_store["koffe"] -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 IF master_koffed = 0:  
  if master_energy < 5: master_energy += 1
  master_mood['neg_no_koffe'] = 0
  master_koffed = 1
 END 
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 372:
 lab_store["kanabis"] -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 master_mood['pos_kannabis'] = 1
 kannabis_pressure += 1
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 373:
 frige["alcohol"] -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 IF master_drunk = 2:  
  master_drunk = 3
  gt 'next_day'  
 END
 IF master_drunk = 1:  
  master_mood['pos_drunk'] = 1
  master_drunk = 2
 END
 IF master_drunk = 0:  
  gs '$mod_master_rise', 1
  if master_mood['neg_drunk'] > 0: master_alco_addiction = master_mood['neg_drunk']
  master_mood['neg_drunk'] = 0
  master_drunk = 1
 END 
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

!Smell Pollen - Master
IF interaction = 374:
 lab_store["meth"] -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 IF master_on_meth = 1:  
  dynamic $death, 'You have received an overdose of hard drugs and died from depression of the respiratory center in the brain. No one was able to help you.'
 END
 IF master_on_meth = 0:  
  master_energy += 5
  master_mood['neg_no_meth'] = 0
  master_on_meth = 1
  master_str_rate -= 1  
  master_excitement = 5
  master_excitement_rate = 180
  master_libido_rate -= master_libido*10
 END 
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 375:
 lab_store["opium"] -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 IF master_on_opium = 1:  
  dynamic $death, 'You have received an overdose of hard drugs and died from depression of the respiratory center in the brain. No one was able to help you.'
 END
 IF master_on_opium = 0:  
  gs '$mod_master_rise',100
  master_mood['neg_no_opium'] = 0
  master_mood['pos_opium'] = 1
  master_on_opium = 1
  master_str_rate -= 1
  master_libido_rate -= master_libido*10
 END 
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 381:
 вакхический_нектар -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 master_mood['pos_bahus'] = 1
 master_libido_rate += 2
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 382:
 тонизируюзщий_эликсир -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 master_energy += 1
 master_str_rate -= master_energised
 master_energised += 1 
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 383:
 целительный_бальзам -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 msg 'Balm better to apply at the same time when the wound is received, otherwise the efficiency is much lower. Nevertheless, you feel a little better.'
 master_wounds_rate -= 25
 master_str_rate += 2
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 384:
 афродизиак -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 if master_excitement < 5: master_excitement_rate += master_libido*6
 master_libido_rate += 2
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 385:
 мощный_афодизиак -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 master_excitement = 5
 master_excitement_rate = 180
 master_libido_rate += 5
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 386:
 приворотное_зелье -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 master_excitement = 5
 master_excitement_rate = 180
 master_libido_rate += 10
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

IF interaction = 387:
 вода_леты -= 1
 if sound_on = 1: play 'content\snd\bulk.mp3', sound_volume
 bulk = 1
 gs '$mod_master_rise',100
 gs '$mod_master_drop',100
 menu_form = 0
 gs 'main_layout'
 gs '$newloc'
 IF exam_in_progress = 1:
  GT 'demo_menu_form'
  else
  GT 'menu_form'
 END
END

!Drugs - slave

!Drink Camra - slave
IF interaction = 571:
 $interaction_type = 'get_grug'
 repulse = -5
 $special_part = {
 lab_store["koffe"] -= 1
 slave['neg_slave_koffe'] = 0
 IF slave['koffed'] = 0:  
  if slave['energy'] < 5: slave['energy'] += 1
  slave['koffed'] = 1
  slave['pos_slave_koffe'] = 1
 END 
 }
END

!Blaze it - Datura - slave
IF interaction = 572:
 $interaction_type = 'get_grug'
 repulse = -1
 $special_part = {
 lab_store["kanabis"] -= 1
 slave['pos_slave_kannabis'] = 1
 a = RAND (1,100)
 if slave['kannabis_pressure'] > a: slave_rate["intellect"] -= 1
 slave['kannabis_pressure'] += 1
 }
END

!Chug - Alcohol - slave
IF interaction = 573:
 $interaction_type = 'get_grug'
 repulse = -5
 $special_part = {
 frige["alcohol"] -= 1
 slave['neg_slave_alco'] = 0
 IF slave['on_alco'] = 0:  
  slave['on_alco'] = 1
  slave['pos_slave_alco'] = 1
  else
  msg "Pretty drunk, your slave falls to the floor unconscious."
  slave_state = CONST_INT['slave_faint']
  slave_exhaustion_fainted = 1
  slave['energy'] = -4
  dynamic $slave_energy_drop
 END 
 }
END

!Smell Pollen - slave
IF interaction = 574:
 $interaction_type = 'get_grug'
 repulse = 1
 $special_part = {
 lab_store["meth"] -= 1
 slave['neg_slave_meth'] = 0
 IF slave['on_meth'] = 0:  
  slave['energy'] += 5
  slave['on_meth'] = 1
  slave['pos_slave_meth'] = 1 
  else
  msg "You decide to give your slave another dose on the same day. Breathing the dust, your slave suddenly starts shaking in a fit and falls to the floor unconscious. It seems her nose is bleeding."
  slave_state = CONST_INT['slave_faint']
  slave_stamina_fainted = 1
  slave_rate['stamina'] = 4
  slave['stamina'] = 0
 END 
 }
END

!Your dose of happiness - Oblivion - slave
IF interaction = 575:
 $interaction_type = 'get_grug'
 repulse = 3
 $special_part = {
 lab_store["opium"] -= 1
 slave['neg_slave_opium'] = 0
 IF slave['on_opium'] = 0:  
  slave['on_opium'] = 1
  slave['pos_slave_opium'] = 1
  gs '$mod_slave_rise', 3
  else
  msg "You decide to give your slave another dose on the same day. After applying, your slave rolled her eyes and goes on with a silly smile on her face for a while, ignoring your commands. Then she falls to the floor, her mouth fills with foam mixed with blood."
  slave_state = CONST_INT['slave_faint']
  slave_stamina_fainted = 1
  slave_rate['stamina'] = 4
  slave['stamina'] = 0
 END 
 }
END

!Potions, Tonics, and Elixirs - slave

!Bacchic Nectar - alcohol - slave - crushboss
IF interaction = 581:
 $interaction_type = 'get_grug'
 repulse = -5
 if exam_in_progress = 1: repulse = -100
 $special_part = {
 вакхический_нектар -= 1
 slave_rate['arousal'] += 25
 }
END

!Tonic Elixir - slave
IF interaction = 582:
 $interaction_type = 'get_grug'
 repulse = -5
 if exam_in_progress = 1: repulse = -100
 $special_part = {
 тонизируюзщий_эликсир -= 1
 if slave['energy'] < 5: slave['energy'] += 2
 slave_rate["stamina"] -= slave['energysed']
 slave['energysed'] += 1
 }
END

!Miracle Balm - healing - slave
IF interaction = 583:
 $interaction_type = 'get_grug'
 repulse = -5
 if exam_in_progress = 1: repulse = -100
 $special_part = {
 целительный_бальзам -= 1
 if slave_rate['wounds'] > 0: slave_rate['wounds'] -= 25
 }
END

!Aphrodisiac - slave
IF interaction = 584:
 $interaction_type = 'get_grug'
 repulse = 0
 $special_part = {
 афродизиак -= 1
 if slave['arousal'] < 5: slave_rate['arousal'] += 50
 }
END

!Powerful Aphrodisiac - slave
IF interaction = 585:
 $interaction_type = 'get_grug'
 repulse = 0
 $special_part = {
 мощный_афодизиак -= 1
 slave['arousal'] = 5
 slave_rate['arousal'] = 200
 }
END

!Philtre potion - Love Potion - slave
IF interaction = 586:
 $interaction_type = 'get_grug'
 repulse = 5
 $special_part = {
 приворотное_зелье -= 1
 IF slave['on_love_drug'] = 0:
  slave['on_love_drug'] = 1
  slave['pos_slave_love'] = 50
  slave_rate["moral"] += 50
  else
  msg "You give your slave the philtre, but it does not work the second time. At least you do not see any effect."
 END
 }
END

!Water of Lethe - slave - overhauled by crushboss
IF interaction = 587:
 $interaction_type = 'get_grug'
 repulse = 5
 $special_part = {
 вода_леты -= 1
 slave_rate["angst"] = 0 
 slave["angst"] = 0 
 slave_rate["fear"] = 0 
 slave["fear"] = 0 
 slave_rate["spoil"] = 0 
 slave["spoil"] = 0
 slave_rate["arousal"] = 0
 slave["arousal"] = 0
 slave["sin"] = 0
 slave["virtue"] = 0
 slave_rate["custom"] = 0
 slave_rate["rational"] = 0
 slave_rate["instinct"] = 0
 slave_rate["mood"] = 0 
 slave["mood"] = 0
 sin_gain = 0
 sin_gained = 0
 rules_broken_message = 0
 rules_broken_sin = 0
 slave_fights_back = 0
 slave_escape = 0
 slave_attack = 0
 menstruation = 0
 slave_suicide = 0
 previous_slave_sin = 0
 previous_slave_virtue = 0
 slave_will_masturbate = 0
 slave_masturbating_anyway = 0
 slave_exhaustion_fainted = 0
 slave_nearly_fainted = 0
 slave_stamina_fainted = 0
 rules_count = 0
 daily_reward_count = 0
 rules_broken = 0
 num_rules_broken = 0
 num_rules_wanttobreak = 0
 slave_well_rested = 0
 slave['obedience_difficulty'] = 0
 slave_rate["intellect"] -= 40
 killvar '$prev_status'
 killvar '$slave_psy_status'
 gs '$mod_slave_rise', 100
 gs '$mod_slave_drop', 100
 menu_form = 0
 gs 'main_layout'
 gs '$calculate_attributes'
 gs '$slave_price'
 gs '$slave_traits'
 gs '$newloc'
 GT 'menu_form'
 }
END

!LESSONS WITH ASSISTANT
!Lesson on housekeeping (assistant)
IF interaction = 4111:
 $interaction_type = 'assistant_teaches_slave'
 repulse = 0
 if slave["service_affinity"] > 0: repulse -= 1    
 if slave["service_affinity"] > 0: talent_bonus = 5   
 sin_potential = 3
 couch_skill = assistant["service"]
 $target_skill = 'slave_rate["service"]'  
 $target_skill_two = 'assistant_rate["service"]'
 $target_affinity = 'service_affinity'
 slave_skill = slave["service"]  
 add_assistant_hygiene = 2
 add_slave_hygiene = house_mess + 2
 $special_part = {
 house_mess_rate -= (assistant["service"]*16)
 if house_mess < 0: house_mess = 0
 if house_mess_rate < 0: house_mess_rate = 0
 dynamic $house_cleaning
 }
END

!Lesson on cooking (assistant)
IF interaction = 4112:
 $interaction_type = 'assistant_teaches_slave'
 repulse = 0
 if slave["cook_affinity"] > 0: repulse -= 1    
 if slave["cook_affinity"] > 0: talent_bonus = 5    
 sin_potential = 3
 add_house_mess = 1
 couch_skill = assistant["cook"]
 $target_skill = 'slave_rate["cook"]'   
 $target_skill_two = 'assistant_rate["cook"]'
 $target_affinity = 'cook_affinity'
 slave_skill = slave["cook"] 
 add_assistant_hygiene = 2
 add_slave_hygiene = house_mess + 2
 add_house_mess = 2
 $special_part = {
 if cooked_food < assistant["cook"]: cooked_food = assistant["cook"]
 } 
 $place = 'kitchen'    
END

!Lesson on medicine (assistant)
IF interaction = 4113:
 $interaction_type = 'assistant_teaches_slave'
 repulse = 1
 if slave["nurse_affinity"] > 0: repulse -= 1    
 if slave["nurse_affinity"] > 0: talent_bonus = 5   
 sin_potential = 4
 couch_skill = assistant["nurse"]
 $target_skill = 'slave_rate["nurse"]' 
 $target_skill_two = 'assistant_rate["nurse"]'
 $target_affinity = 'nurse_affinity'
 slave_skill = slave["nurse"] 
 add_assistant_hygiene = 1 + slave["nurse"]
 add_slave_hygiene = 1 + slave["nurse"]
 add_house_mess = 1 + slave["nurse"]
 $place = 'bedroom'   
 $special_part = {   
 if diligence >= 0 and slave["nurse"] < 5: slave_rate["intellect"] += 2 
 }
END

!Lesson on paperwork (assistant)
IF interaction = 4114:
 $interaction_type = 'assistant_teaches_slave'
 repulse = 1
 if slave["secretary_affinity"] > 0: repulse -= 1    
 if slave["secretary_affinity"] > 0: talent_bonus = 5    
 sin_potential = 3
 couch_skill = assistant["secretary"]
 $target_skill = 'slave_rate["secretary"]' 
 $target_skill_two = 'assistant_rate["secretary"]'
 $target_affinity = 'secretary_affinity'
 slave_skill = slave["secretary"] 
 $text[1] = '  <<$secretary_lesson_description[slave_skill]>>'
 $text[2] = '  <<$lesson_diligence[diligence]>>'
 add_master_hygiene = 1 
 add_slave_hygiene = 1 
 add_house_mess = 2
 $special_part = {   
 if diligence >= 0 and slave["secretary"] < 5: slave_rate["intellect"] += 2 
 }
END

!Lesson on gymnastics (assistant)
IF interaction = 4121:
 $interaction_type = 'assistant_teaches_slave'
 $special_bg = $gymnastics[slave_type]  
 repulse = 1
 complex_repulse = 1  
 if slave['energy'] > 3: complex_repulse = 0
 if slave['energy'] < 0: complex_repulse -= slave['energy'] 
 if slave["sport_affinity"] < 0: complex_repulse += 2    
 IF slave["sport_affinity"] > 0:
  talent_bonus = 5
  complex_repulse = -100
 END 
 if slave["sport_affinity"] < 0: talent_bonus = -3  
 sin_potential = 4
 $target_skill = 'slave_rate["stamina"]' 
 $target_skill_two = 'assistant_rate["stamina"]'   
 slave_skill = slave["stamina"]
 misc_bonus = learn_bonus["stamina"]
 skill_rise = 2
 add_assistant_hygiene = 5
 add_slave_hygiene = 5
 add_house_mess = 3
 $target_affinity = 'sport_affinity'
 $special_part = { 
  slave["calories"] -= 2
  if slave["sport_affinity_revealed"] = 0 and slave["sport_affinity"] = 1: slave["sport_affinity_revealed"] = 1 
  }
  if hall = 1:  $place = 'hall'    
END

!Lesson on dancing (assistant)
IF interaction = 4122:
 $interaction_type = 'assistant_teaches_slave'
 repulse = 1
 if slave["callisthenics_affinity"] > 0: repulse -= 1 & talent_bonus = 5     
 sin_potential = 4
 couch_skill = assistant["callisthenics"]
 $target_skill = 'slave_rate["callisthenics"]'  
 $target_skill_two = 'assistant_rate["callisthenics"]'
 $target_affinity = 'callisthenics_affinity'
 slave_skill = slave["callisthenics"] 
 add_assistant_hygiene = 3
 add_slave_hygiene = 4
 add_house_mess = 2
 $special_part = {  
  slave["calories"] -= 1
  slave_rate["sensitivity"] += 1
  }
  if hall = 1:  $place = 'hall'    
END

!Lesson on martial arts (assistant)
IF interaction = 4123:
 $interaction_type = 'assistant_teaches_slave'
 repulse = 1
 if slave["gladiatrix_affinity"] > 0: repulse -= 1 & talent_bonus = 5   
 sin_potential = 4
 couch_skill = assistant["gladiatrix"]
 $target_skill = 'slave_rate["gladiatrix"]'  
 $target_skill_two = 'assistant_rate["gladiatrix"]'
 $target_affinity = 'gladiatrix_affinity'
 slave_skill = slave["gladiatrix"]  
 add_assistant_hygiene = 10
 add_slave_hygiene = 10
 add_house_mess = 5
 $special_part = {  
  slave["calories"] -= 2
  if diligence > 2 and slave["gladiatrix"] < 5: slave_rate["ego"] += 1
  assistant_rate["stamina"] += 1
  }
  if hall = 1:  $place = 'hall'    
END

!Lesson on dressage (assistant)
IF interaction = 4143:
 $interaction_type = 'assistant_teaches_slave'
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["dressage_affinity"] < 0: complex_repulse += 2
 IF slave["dressage_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END 
 sin_potential = 6
 couch_skill = assistant["dressage"]
 $target_skill = 'slave_rate["dressage"]'   
 $target_skill_two = 'assistant_rate["dressage"]'
 $target_affinity = 'dressage_affinity'
 slave_skill = slave["dressage"] 
 slave_rate["pride"] -= 1
 slave_rate["temper"] += 1
 add_assistant_hygiene = 2
 add_slave_hygiene = 1
 add_house_mess = 5
 if hall = 1:  $place = 'hall'    
END

!Lesson - rhetoric (assistant)
IF interaction = 4131:
 $interaction_type = 'assistant_teaches_slave'
 repulse = 0
 if slave["expression_affinity"] > 0: repulse -= 1 & talent_bonus = 5    
 sin_potential = 3
 couch_skill = assistant["expression"]
 $target_skill = 'slave_rate["expression"]' 
 $target_skill_two = 'assistant_rate["expression"]'
 $target_affinity = 'expression_affinity'
 slave_skill = slave["expression"] 
 add_assistant_hygiene = 1 
 add_slave_hygiene = 1 
 add_house_mess = 1
END

!Lesson on singing (assistant)
IF interaction = 4133:
 $interaction_type = 'assistant_teaches_slave'
 repulse = 0
 if slave["vocal_affinity"] > 0: repulse -= 1 & talent_bonus = 5   
 sin_potential = 3
 couch_skill = assistant["vocal"]
 slave_skill = slave["vocal"] 
 $target_skill = 'slave_rate["vocal"]'   
 $target_skill_two = 'assistant_rate["vocal"]'
 $target_affinity = 'vocal_affinity'
 add_assistant_hygiene = 1 
 add_slave_hygiene = 1 
 add_house_mess = 1
END

!Lesson on petplay (assistant)
IF interaction = 4141:
 $interaction_type = 'assistant_teaches_slave'
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["pet_affinity"] < 0: complex_repulse += 2
 IF slave["pet_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 sin_potential = 6
 couch_skill = assistant["pet"]
 $target_skill = 'slave_rate["pet"]'   
 $target_skill_two = 'assistant_rate["pet"]'
 $target_affinity = 'pet_affinity'
 slave_skill = slave["pet"]
 slave_rate["pride"] -= 1
 slave_rate["temper"] += 1  
 add_assistant_hygiene = 1
 add_slave_hygiene = 5
 add_house_mess = 5
END

!Lesson on alchemy (assistant)
IF interaction = 4142:
 $interaction_type = 'assistant_teaches_slave'
 sin_potential = 6
 couch_skill = assistant["enchanter"]
 $target_skill = 'slave_rate["enchanter"]'   
 $target_skill_two = 'assistant_rate["enchanter"]'
 $target_affinity = 'enchanter_affinity'
 slave_skill = slave["enchanter"]
 repulse = 0
 if slave["enchanter_affinity"] > 0: repulse -= 1 & talent_bonus = 5     
 add_assistant_hygiene = 1
 add_slave_hygiene = 1
 add_house_mess = 3
 $place = 'lab'    
 $special_part = {   
 if diligence >= 0 and slave["enchanter"] < 5: slave_rate["intellect"] += 2 
 }
END

!Lesson on music (assistant) 
IF interaction = 4132:
 $interaction_type = 'assistant_teaches_slave'
 sin_potential = 4
 couch_skill = assistant["music"]
 $target_skill = 'slave_rate["music"]'  
 $target_skill_two = 'assistant_rate["music"]'
 $target_affinity = 'music_affinity'
 slave_skill = slave["music"]
 repulse = 1
 if slave["music_affinity"] > 0: repulse -= 1 & talent_bonus = 5    
 add_assistant_hygiene = 1
 add_slave_hygiene = 2
 add_house_mess = 3
 slave_rate["intellect"] += 2
END

!Fiend Milking - assistant
IF interaction = menu_Milk_A:
 $interaction_type = 'make_assistant_do'
 $special_bg = $tentacles[assistant_type]  
 IF assistant["sub_tentacles"] < tentacle_size:
  assistant["preversion_xp"] += 1
  $done_txt = '  <<$assistant_name>> takes a bucket-pot and goes to the pen with fiend in it. Nevertheless, her efforts to milk the thing leads to nothing. Braided with powerful tentacles, your assistant completely loses touch with reality and gets orgasm after orgasm until fiend pumps her holes with seed.'
  else
  assistant["preversion_xp"] += 1
  $done_txt = '  <<$assistant_name>> takes a bucket-pot and goes to the pen with fiend in it. Thanks to previous experience, she manages not to lose control. While some insatiable slippery tentacles penetrate all her holes, she grabs the other feelers and milk them directly into the bucket. Fiend Cum Gained: <<semen_gain[tentacle_size]>>'  
 END
 add_house_mess = 0
 $special_part = {
 if already_done_today[interaction] = 0: tentacle_hp += 2
 IF assistant["sub_tentacles"] > tentacle_size: 
  tentacle_hp += 2
  spawn_milked = 2
  spawn_semen += semen_gain[tentacle_size]
  IF assistant_virginity < 2: 
   assistant_virginity = 2
  END
 END
 if assistant['fertility'] >= 0 and assistant['pregnant'] < 1 and assistant['parasite'] < 1 and assistant['fiend_tattoo'] = 0: assistant['parasite'] = 1   
 if assistant['parasite'] < 1: assistant_rate["arousal"] -= (assistant["arousal"] + assistant["sensitivity"])
 }
END

!LESSONS IN SCHOOL
!Lesson on housekeeping
IF interaction = 561:
 $interaction_type = 'school_class'
 $place = 'class_common'
 sin_potential = 4
 $target_skill = 'slave_rate["service"]'
 $target_affinity = 'service_affinity'
 slave_skill = slave["service"]
 misc_bonus = learn_bonus["service"]     
 repulse = 1
 complex_repulse = 1
 if slave["service_affinity"] < 0: complex_repulse += 2
 if slave["service_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 2
 $special_part = {  
  sparks -= school_price[slave["service"]]    
  if slave["service_affinity"] ! 0 and slave["service_affinity_revealed"] = 0: slave["service_affinity_revealed"] = 1 
  }
END

!Lesson on cooking
IF interaction = 562:
 $interaction_type = 'school_class'
 $place = 'class_common'
 sin_potential = 4
 $target_skill = 'slave_rate["cook"]'
 $target_affinity = 'cook_affinity'
 slave_skill = slave["cook"]
 misc_bonus = learn_bonus["cook"]     
 repulse = 1
 complex_repulse = 1
 if slave["cook_affinity"] < 0: complex_repulse += 2
 if slave["cook_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 2
 $special_part = {  
  sparks -= school_price[slave["cook"]]    
  if slave["cook_affinity"] ! 0 and slave["cook_affinity_revealed"] = 0: slave["cook_affinity_revealed"] = 1 
  }
END

!Lesson on medicine
IF interaction = 563:
 $interaction_type = 'school_class'
 $place = 'class_common'
 sin_potential = 4
 $target_skill = 'slave_rate["nurse"]'
 $target_affinity = 'nurse_affinity'
 slave_skill = slave["nurse"]
 misc_bonus = learn_bonus["nurse"]     
 repulse = 1
 complex_repulse = 1
 if slave["cook_affinity"] < 0: complex_repulse += 2
 if slave["cook_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 2
 $special_part = {  
  sparks -= school_price[slave["nurse"]]    
  if diligence >= 0 and slave["nurse"] < 5: slave_rate["intellect"] += 2  
  if slave["nurse_affinity"] ! 0 and slave["nurse_affinity_revealed"] = 0: slave["nurse_affinity_revealed"] = 1
  slave_rate["intellect"] += 2 
  }
END

!Lesson on paperwork
IF interaction = 564:
 $interaction_type = 'school_class'
 $place = 'class_common'
 sin_potential = 4
 $target_skill = 'slave_rate["secretary"]'
 $target_affinity = 'secretary_affinity'
 slave_skill = slave["secretary"]
 misc_bonus = learn_bonus["secretary"]     
 repulse = 1
 complex_repulse = 1
 if slave["secretary_affinity"] < 0: complex_repulse += 2
 if slave["secretary_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 2
 $special_part = {  
  sparks -= school_price[slave["secretary"]]    
  if diligence >= 0 and slave["secretary"] < 5: slave_rate["intellect"] += 2 
  if slave["secretary_affinity"] ! 0 and slave["secretary_affinity_revealed"] = 0: slave["secretary_affinity_revealed"] = 1
  slave_rate["intellect"] += 2
  }
END

!Lesson on gymnastics
IF interaction = 565:
 $interaction_type = 'school_class'
 $place = 'class_sport'
 sin_potential = 4
 $target_skill = 'slave_rate["stamina"]'   
 slave_skill = slave["stamina"]
 misc_bonus = learn_bonus["stamina"]
 skill_rise = 2     
 repulse = 1
 complex_repulse = 1 
 if slave['energy'] > 3: complex_repulse = 0
 if slave['energy'] < 0: complex_repulse -= slave['energy'] 
 if slave["sport_affinity"] < 0: complex_repulse += 2    
 IF slave["sport_affinity"] > 0:
  talent_bonus = 5
  complex_repulse = -100
 END
 if slave["sport_affinity"] < 0: talent_bonus = -3   
 sin_potential = 4
 add_slave_hygiene = 5
 add_house_mess = 3
 $target_affinity = 'sport_affinity'
 $special_part = {  
  if slave["sport_affinity_revealed"] = 0 and slave["sport_affinity"] = 1: slave["sport_affinity_revealed"] = 1      
  slave["calories"] -= 2
  sparks -= school_price[slave["stamina"]]    
  }
END

!Lesson on dancing
IF interaction = 566:
 $interaction_type = 'school_class'
 $place = 'class_music'
 sin_potential = 4
 $target_skill = 'slave_rate["callisthenics"]'
 $target_affinity = 'callisthenics_affinity'
 slave_skill = slave["callisthenics"]
 misc_bonus = learn_bonus["callisthenics"]     
 repulse = 1
 complex_repulse = 1
 if slave["callisthenics_affinity"] < 0: complex_repulse += 2
 if slave["callisthenics_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 5
 $special_part = {  
  slave["calories"] -= 1
  slave_rate["sensitivity"] += 1
  sparks -= school_price[slave["callisthenics"]]    
  if slave["callisthenics_affinity"] ! 0 and slave["callisthenics_affinity_revealed"] = 0: slave["callisthenics_affinity_revealed"] = 1 
  }
END

!Lesson on martial arts
IF interaction = 567:
 $interaction_type = 'school_class'
 $place = 'class_sport'
 sin_potential = 4
 $target_skill = 'slave_rate["gladiatrix"]'
 $target_affinity = 'gladiatrix_affinity'
 slave_skill = slave["gladiatrix"]
 misc_bonus = learn_bonus["gladiatrix"]     
 repulse = 3
 complex_repulse = 2
 if slave["gladiatrix_affinity"] < 0: complex_repulse += 2
 if slave["gladiatrix_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 10
 $special_part = {  
  slave["calories"] -= 1
  sparks -= school_price[slave["gladiatrix"]]    
  if diligence > 2 and slave["gladiatrix"] < 5: slave_rate["ego"] += 1
  if slave["gladiatrix_affinity"] ! 0 and slave["gladiatrix_affinity_revealed"] = 0: slave["gladiatrix_affinity_revealed"] = 1 
  }
END

!Lesson on dressage
IF interaction = 568:
 $interaction_type = 'school_class'
 $place = 'class_sport'
 sin_potential = 5
 $target_skill = 'slave_rate["dressage"]'
 $target_affinity = 'dressage_affinity'
 slave_skill = slave["dressage"]
 misc_bonus = learn_bonus["dressage"]     
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["dressage_affinity"] < 0: complex_repulse += 2
 IF slave["dressage_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 add_slave_hygiene = 5
 $special_part = {  
  slave["calories"] -= 1
  slave_rate["pride"] -= 1
  slave_rate["temper"] += 1
  sparks -= school_price[slave["dressage"]]    
  if slave["dressage_affinity"] ! 0 and slave["dressage_affinity_revealed"] = 0: slave["dressage_affinity_revealed"] = 1 
  }
END

!Lesson on domestication
IF interaction = 569:
 $interaction_type = 'school_class'
 $place = 'class_sport'
 sin_potential = 5
 $target_skill = 'slave_rate["pet"]'
 $target_affinity = 'pet_affinity'
 slave_skill = slave["pet"]
 misc_bonus = learn_bonus["pet"]
 repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 complex_repulse = slave["pride"] + slave["ego"] + slave["spoil"] + slave["gladiatrix"] + slave["angst"] - ((slave["temper"] + (slave["moral"]*3) + (slave["instinct"]*3) + 1)/3)
 if repulse < 5: repulse = 5
 if complex_repulse < 3: complex_repulse = 3
 if slave["pet_affinity"] < 0: complex_repulse += 2
 IF slave["pet_affinity"] > 0:
  talent_bonus = 5
  if repluse > 5: repulse -= 2
  if complex_repulse > 3: complex_repulse -= 2
 END
 add_slave_hygiene = 5
 $special_part = {  
  slave_rate["callisthenics"] += 1
  slave_rate["pride"] -= 1
  slave_rate["temper"] += 1    
  sparks -= school_price[slave["pet"]]    
  if slave["pet_affinity"] ! 0 and slave["pet_affinity_revealed"] = 0: slave["pet_affinity_revealed"] = 1 
  }
END

!Lesson on rhetoric
IF interaction = 5610:
 $interaction_type = 'school_class'
 $place = 'class_common'
 sin_potential = 4
 $target_skill = 'slave_rate["expression"]'
 $target_affinity = 'expression_affinity'
 slave_skill = slave["expression"]
 misc_bonus = learn_bonus["expression"]     
 repulse = 1
 complex_repulse = 1
 if slave["expression_affinity"] < 0: complex_repulse += 2
 if slave["expression_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 2
 $special_part = {  
  sparks -= school_price[slave["expression"]]    
  if slave["expression_affinity"] ! 0 and slave["expression_affinity_revealed"] = 0: slave["expression_affinity_revealed"] = 1 
  }
END

!Lesson on music
IF interaction = 5611:
 $interaction_type = 'school_class'
 $place = 'class_music'
 sin_potential = 4
 $target_skill = 'slave_rate["music"]'
 $target_affinity = 'music_affinity'
 slave_skill = slave["music"]
 misc_bonus = learn_bonus["music"]     
 repulse = 1
 complex_repulse = 1
 if slave["music_affinity"] < 0: complex_repulse += 2
 if slave["music_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 2
 $special_part = {  
  sparks -= school_price[slave["music"]]    
  if slave["music_affinity"] ! 0 and slave["music_affinity_revealed"] = 0: slave["music_affinity_revealed"] = 1
  slave_rate["intellect"] += 2 
  }
END

!Lesson on singing
IF interaction = 5612:
 $interaction_type = 'school_class'
 $place = 'class_music'
 sin_potential = 4
 $target_skill = 'slave_rate["vocal"]'
 $target_affinity = 'vocal_affinity'
 slave_skill = slave["vocal"]
 misc_bonus = learn_bonus["vocal"]     
 repulse = 1
 complex_repulse = 1
 if slave["vocal_affinity"] < 0: complex_repulse += 2
 if slave["vocal_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 2
 $special_part = {  
  sparks -= school_price[slave["vocal"]]    
  if slave["vocal_affinity"] ! 0 and slave["vocal_affinity_revealed"] = 0: slave["vocal_affinity_revealed"] = 1 
  }
END

!Lesson on alchemy
IF interaction = 5613:
 $interaction_type = 'school_class'
 $place = 'class_magic'
 sin_potential = 4
 $target_skill = 'slave_rate["enchanter"]'
 $target_affinity = 'enchanter_affinity'
 slave_skill = slave["enchanter"]
 misc_bonus = learn_bonus["enchanter"]     
 repulse = 1
 complex_repulse = 1
 if slave["enchanter_affinity"] < 0: complex_repulse += 2
 if slave["enchanter_affinity"] > 0: talent_bonus = 5  
 add_slave_hygiene = 5
 $special_part = {  
  sparks -= school_price[slave["enchanter"]]    
  if diligence >= 0 and slave["enchanter"] < 5: slave_rate["intellect"] += 2
  if slave["enchanter_affinity"] ! 0 and slave["enchanter_affinity_revealed"] = 0: slave["enchanter_affinity_revealed"] = 1
  slave_rate["intellect"] += 2 
  }
END

!Fiend Milking - slave
IF interaction = menu_Milk_S:
 $interaction_type = 'make_slave_do'
 repulse = 6
 disgusting = 1 
 $special_bg = $tentacles[slave_type]  
 $refuse_txt = '  <<$slave_name>> refuses even to go into the pen to the fiend. The mere sight of this monster fills her with fear and loathing. But it does not mean that she can ignore the orders of her master...'
 slave_skill = slave["sub_tentacles"]
 IF slave["sub_tentacles"] < tentacle_size:
  $done_txt = '  <<$slave_name>> takes a bucket-pot and goes to the pen with fiend in it. Nevertheless, her efforts to milk the thing leads to nothing. Braided with powerful tentacles, your slave completely loses touch with reality and gets orgasm after orgasm until fiend pumps her holes with seed.'
  else
  $done_txt = '  <<$slave_name>> takes a bucket-pot and goes to the pen with fiend in it. Thanks to previous experience, she manages not to lose control. While some insatiable slippery tentacles penetrate all her holes, she grabs the other feelers and milk them directly into the bucket. Fiend Cum Gained: <<semen_gain[tentacle_size]>>'  
 END
 sin_potential = 3
 add_house_mess = 0
 add_slave_hygiene = 20
 $target_affinity = 'preversion'
 $special_part = {
 if already_done_today[interaction] = 0: tentacle_hp += 2
 IF slave["sub_tentacles"] > tentacle_size: 
  spawn_milked = 2
  tentacle_hp += 2
  spawn_semen += semen_gain[tentacle_size]
 END 
 IF slave["sub_tentacles"] < 1: 
  slave["sub_tentacles"] = 1 
  else
  !Line below needed
  slave["preversion_xp"] += 1
 END
 if slave["vermin_attitude_revealed"] = 0: slave["vermin_attitude_revealed"] = 1
 if slave["preversion"] ! 0 and slave["preversion_revealed"] = 0: slave["preversion_revealed"] = 1
 slave["calories"] += 1 
 IF virginity < 2: 
  virginity = 2
  slave['neg_defloration'] = slave["sensitivity"] + 5 + slave['pride'] - slave["moral"] - slave["arousal"]
  if slave['neg_defloration'] > 0: gs '$mod_slave_drop', slave['neg_defloration']    
 END
 if slave['fertility'] >= 0 and slave['pregnant'] < 1 and slave['parasite'] < 1 and slave['fiend_tattoo'] = 0: slave['parasite'] = 1 
 if slave['parasite'] < 1: slave_rate["arousal"] -= (slave["arousal"] + slave["sensitivity"])
 }
END

!Barn stuff goes here - ref menu_form 3001 onwards

IF interaction = 6000:
 txt_count = 4
 $text[1] = 'The Barn allows you to make a passive income off your slaves. A Farmhand will manage the Barn, reducing the food bill for the occupants, increasing their output, and allowing special orders.'
 $text[2] = 'Cows and Egglayers will produce milk and eggs for your fridge at a higher rate than a regular slave with those modifications would. If your fridge already has these (5 of each), then they will be sold at a quarter of the market value. A girl recovering from surgery will not produce anything until she has recovered.'
 $text[3] = 'Your farmhand can be ordered to overfeed your Cow and Egglayer, gradually increasing their weight and thus the goods they produce. She can also be ordered to automatically slaughter and butcher your Pig once she''s fat enough.'
 $text[4] = 'You can only have one slave of each type, as going beyond this limit violates the monpoly of the Grocer''s Guild. This is also why you make a fraction of the market value of these goods. You shouldn''t complain too much, as Guild monopolies are why you can charge so much for your slaves.'
END

!Make slave a farmhand
IF interaction = 6001:
 txt_count = 1
 IF slave["moral"] < 3:
  $text[1] = 'Your slave is not yet devoted enough for her to be trusted with the freedom that this job requires.' 
  ELSE
  IF slave['nurse'] > 2 AND slave['secretary'] > 2:
   barn_farmhand = 1
   $text[1] = 'Your slave moves her bedroll to the Barn, and from now on will be your Farmhand and dedicate her time to taking care of any slaves in the Barn''s pens.'
   GS 'slave_to_farmhand'
   ELSE
   $text[1] = 'Your slave needs both <font color="#0000CD"><b>medical</b></font> and <font color="#0000CD"><b>secretarial</b></font> skills to perform this role.'
  END 
 END 
END

!Retrieve farmhand
IF interaction = 6002:
 barn_farmhand = 0
 txt_count = 1
 $text[1] = 'On your order, your Farmhand abandons the Barn to report to you for further orders.'
 GS 'slave_to_farmhand'
END

!Make slave a cow
IF interaction = 6003:
 txt_count = 1
 IF slave['lactation'] > 0:
  IF slave['pet'] = 5 OR $slave_psy_status = 'broken':
   barn_cow = 1
   GS 'slave_to_cow'
   $text[1] = 'Your slave obeys, abandoning her life as a person in favour of a life as a mere milk-cow. As she enters the pen, she lets out a small, hesitant ''moo''.'
   ELSE 
   $text[1] = 'Your slave must be either mindbroken or <font color="#008000"><b>comfortable with being treated like an animal</b></font> to fulfill this role.'
  END
  ELSE
  $text[1] = 'Your slave must be lactating to fulfill this role.' 
 END 
END

!Retrieve cow
IF interaction = 6004:
 barn_cow = 0
 txt_count = 1
 $text[1] = 'On your order, your milkcow leaves her pen and reports back to you, her eyes darting around as she begins to adapt back to life outside her pen.'
 GS 'slave_to_cow'
END

!Make slave a harpy
IF interaction = 6005:
 txt_count = 1
 IF slave['fertility'] = 1:
  IF slave['pet'] = 5 OR $slave_psy_status = 'broken':
   barn_harpy = 1
   GS 'slave_to_harpy'
   $text[1] = 'Your slave obeys, abandoning her life as a person in favour of a life constantly laying eggs. She makes herself comfortable in the pen, laying back on a soft pile of hay and rubbing her egg-swollen stomach.'
   ELSE 
   $text[1] = 'Your slave must be either mindbroken or <font color="#008000"><b>comfortable with being treated like an animal</b></font> to fulfill this role.'
  END
  ELSE
  $text[1] = 'Your slave must be laying eggs to fulfill this role.' 
 END 
END

!Retrieve harpy
IF interaction = 6006:
 barn_harpy = 0
 txt_count = 1
 $text[1] = 'On your order, your egglayer leaves her pen and reports back to you. Her walk is slightly bow-legged, making it obvious she''s spent more time with her legs spread than not until now.'
 GS 'slave_to_harpy'
END

!Make slave a pig
IF interaction = 6007:
 txt_count = 1
 IF $slave_psy_status = 'broken' OR slave["intellect"] < 2:
  barn_pig = 1
  GS 'slave_to_pig'
  $text[1] = 'Your slave obeys, too stupid to realize or too broken to care what this new role implies for her future. Over the coming days, her weight will dramatically increase, as she will have nothing to do but eat.'
  ELSE 
  $text[1] = 'Your slave has enough intelligence and self-preservation to refuse outright.'
 END
END

!Retrieve pig
IF interaction = 6008:
 barn_pig = 0
 txt_count = 1
 $text[1] = 'On your order, your pig leaves her pen and reports back to you. Her stomach is bulging and her gaze dull, and she could definitely use a bath.'
 GS 'slave_to_pig'
 slave["hygiene"] = 5
END

!Farmhand orders
!fatten animals
IF interaction = 6020:
 npc = 0
 txt_count = 1
 txt = 1
 $text[1] = 'Do you want your farmhand to overfeed your animals, fattening them up to increase their output? (pigs are automatically fattened)'
 $yes = {
barn_farmhand_fattens = 1
gt "menu_form"}
 $no = {
gt "menu_form"}
 gt 'choice_screen'
END

!stop fattening animals
IF interaction = 6021:
 npc = 0
 txt_count = 1
 txt = 1
 $text[1] = 'Do you want your farmhand to stop overfeeding your animals? (pigs will still be overfed)'
 $yes = {
barn_farmhand_fattens = 0
gt "menu_form"}
 $no = {
gt "menu_form"}
 gt 'choice_screen'
END

!auto-slaughter pigs
IF interaction = 6022:
 npc = 0
 txt_count = 1
 txt = 1
 $text[1] = 'Do you want your farmhand to automatically slaughter and butcher your pigs once they are suitably plump?'
 $yes = {
barn_farmhand_slaughters = 1
gt "menu_form"}
 $no = {
gt "menu_form"}
 gt 'choice_screen'
END

!stop auto-slaughter pigs
IF interaction = 6023:
 npc = 0
 txt_count = 1
 txt = 1
 $text[1] = 'Do you want your farmhand to stop slaughtering your pigs?'
 $yes = {
barn_farmhand_slaughters = 0
gt "menu_form"}
 $no = {
gt "menu_form"}
 gt 'choice_screen'
END

!AUTOMATIC INTERACTIONS
!pregnant slave is gone
IF interaction = 9911:
 $interaction_type = 'special_talk'
 $place = 'study'  
 npc = 1
 $npc_id = 'ester'
 slave_state = CONST_INT['no_slave']
 IF slave['brand'] > 0:
  ransom = common_price[rating]
  else
  ransom = 50
 END
 txt_count = 15
 sparks += ransom
 gs '#txt'
 gs '#txt_2'
 copyarr '$text', '$pregnant_slave_taken'
 gs '$slave_price'
END

IF interaction = 9912:
 $interaction_type = 'special_talk'
 $place = 'study'  
 npc = 1
 $npc_id = 'ester'
 assistant_state = 0
 ransom = 2500
 txt_count = 15 
 sparks += ransom
 gs '#txt'
 gs '#txt_2'
 copyarr '$text', '$pregnant_slave_taken'
 gs '$slave_price'
END

IF interaction = 9913:
 $interaction_type = 'special_talk'
 $place = 'study'  
 npc = 1
 $npc_id = 'ester'
 prisoner_state = 0
 ransom = 50
 txt_count = 15
 sparks += ransom
 gs '#txt'
 gs '#txt_2'
 copyarr '$text', '$pregnant_slave_taken'
 gs '$slave_price'
END

!BIRTH OF THE PARASITE
!TODO: Parasite will not born from the assistant or prisoner if there is no slave
IF interaction = 9921:
 g = RAND(1,2)
 $interaction_type = 'chestbuster'
 $special_bg = '<<$slave["fullimage"]>>' 
 slave_state = CONST_INT['no_slave']
 killvar 'slave'
 killvar 'slave_rate'
 gs '#txt'
 gs '#txt_2'
 copyarr '$text', '$slave_chestbuster'
END

IF interaction = 9922:
 g = RAND(1,2)
 $interaction_type = 'chestbuster'
 $special_bg = '<<$assistant["fullimage"]>>' 
 assistant_state = 0
 killvar 'assistant'
 killvar 'assistant_rate'
 gs '#txt'
 gs '#txt_2'
 copyarr '$text', '$assistant_chestbuster'
END

IF interaction = 9923:
 g = RAND(1,2)
 $interaction_type = 'chestbuster'
 $special_bg = '<<$prisoner["fullimage"]>>' 
 prisoner_state = 0
 killvar 'prisoner'
 killvar 'prisoner_rate'
 gs '#txt'
 gs '#txt_2'
 copyarr '$text', '$prisoner_chestbuster'
END

!added contents to get rid of her - fixed and added images - crushboss
!Drown
IF interaction = 185:
 $place = 'study'
 $picture_type = 'slave_picture'
 txt_count = 1
 txt = 1
 npc = 0
 if already_done_curslave[interaction] = 0: slave['death_treat'] = 0 
 $text[1] = '   <<$execution_reaction[$slave_psy_status]>>'
 $yes = {
interaction = 1841 
gt "interaction"
}
 $no = {gt 'menu_form'}
 menu_form = 0
 gt 'choice_screen'
END

IF interaction = 1841:
 $interaction_type = 'execution'
 if dungeon = 1: $place = 'dungeon' 
 $text[1] = '   <<$drowning_simple>>' 
 painful = 1
 shameful = 1 
 torture_intensity = 6
 g = RAND(1,12)
 if g = 1: $special_bg = 'girls\torture\drown_blue_young'
 if g = 2: $special_bg = 'girls\torture\drown_milf_general'
 if g = 3: $special_bg = 'girls\torture\drown_purple_loli'
 if g = 4: $special_bg = 'girls\torture\water_purple_short'
 if g = 5: $special_bg = 'girls\torture\water_dark'
 if g = 6: $special_bg = 'girls\torture\water_brown_browneye'
 if g = 7: $special_bg = 'girls\torture\water_brown_blueeye_loli'
 if g = 8: $special_bg = 'girls\torture\water_blue_short_loli'
 if g = 9: $special_bg = 'girls\torture\water_blue_long_milf'
 if g = 10: $special_bg = 'girls\torture\water_blond_long'
 if g = 11: $special_bg = 'girls\torture\water_blond_darkeye'
 if g = 12: $special_bg = 'girls\torture\water_brown_milf'
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 add_master_hygiene = 10
END

!Roast alive
IF interaction = 186:
 $place = 'study'
 $picture_type = 'slave_picture'
 txt_count = 1
 txt = 1
 npc = 0
 if already_done_curslave[interaction] = 0: slave['death_treat'] = 0 
 $text[1] = '   <<$execution_reaction[$slave_psy_status]>>'
 $yes = {
interaction = 1842 
gt "interaction"
}
 $no = {gt 'menu_form'}
 menu_form = 0
 gt 'choice_screen'
END

IF interaction = 1842:
 $interaction_type = 'execution'
 if dungeon = 1: $place = 'dungeon' 
 $text[1] = '   <<$Roasting_simple>>'
 painful = 1
 shameful = 1 
 torture_intensity = 6
 g = RAND(1,9)
 if g = 1: $special_bg = 'girls\torture\roast_alive_milf_general'
 if g = 2: $special_bg = 'girls\torture\fireswing_blond_2'
 if g = 3: $special_bg = 'girls\torture\fireswing_brown_2'
 if g = 4: $special_bg = 'girls\torture\fireswing_blond'
 if g = 5: $special_bg = 'girls\torture\fireswing_general'
 if g = 6: $special_bg = 'girls\torture\fireswing_general_2'
 if g = 7: $special_bg = 'girls\torture\fireswing_black_long'
 if g = 8: $special_bg = 'girls\torture\fireswing_brown'
 if g = 9: $special_bg = 'girls\torture\fireswing_blond_blueeye'
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 add_master_hygiene = 10
END

!Give to monster
IF interaction = 187:
 $place = 'study'
 $picture_type = 'slave_picture'
 txt_count = 1
 txt = 1
 npc = 0
 IF already_done_curslave[interaction] = 0: slave['death_treat'] = 0 
 $text[1] = '   <<$execution_reaction[$slave_psy_status]>>'
 $yes = {
interaction = 1843 
gt "interaction"
}
 $no = {gt 'menu_form'}
 menu_form = 0
 gt 'choice_screen'
END

IF interaction = 1843:
 $interaction_type = 'execution'
 if dungeon = 1: $place = 'dungeon'
 $text[1] = '   <<$Givemonster_simple>>' 
 painful = 1
 shameful = 1 
 torture_intensity = 6
 g = RAND(1,3)
 if g = 1: $special_bg = 'girls\torture\monster_general_1'
 if g = 2: $special_bg = 'girls\torture\monster_general_2'
 if g = 3: $special_bg = 'girls\torture\monster_general_3'
 $play_sound[1] = '<<$severe_pain[slave["age"]]>>' 
 add_master_hygiene = 10
END

GT 'interaction_result'

--- interaction ---------------------------------

